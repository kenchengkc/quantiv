"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/options/route";
exports.ids = ["app/api/options/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foptions%2Froute&page=%2Fapi%2Foptions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptions%2Froute.ts&appDir=%2FUsers%2Fken%2FDesktop%2Fquantiv%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fken%2FDesktop%2Fquantiv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foptions%2Froute&page=%2Fapi%2Foptions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptions%2Froute.ts&appDir=%2FUsers%2Fken%2FDesktop%2Fquantiv%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fken%2FDesktop%2Fquantiv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ken_Desktop_quantiv_app_api_options_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/options/route.ts */ \"(rsc)/./app/api/options/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/options/route\",\n        pathname: \"/api/options\",\n        filename: \"route\",\n        bundlePath: \"app/api/options/route\"\n    },\n    resolvedPagePath: \"/Users/ken/Desktop/quantiv/app/api/options/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ken_Desktop_quantiv_app_api_options_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/options/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcHRpb25zJTJGcm91dGUmcGFnZT0lMkZhcGklMkZvcHRpb25zJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGb3B0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmtlbiUyRkRlc2t0b3AlMkZxdWFudGl2JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmtlbiUyRkRlc2t0b3AlMkZxdWFudGl2JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNHO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhbnRpdi8/NDg4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMva2VuL0Rlc2t0b3AvcXVhbnRpdi9hcHAvYXBpL29wdGlvbnMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29wdGlvbnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vcHRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vcHRpb25zL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2tlbi9EZXNrdG9wL3F1YW50aXYvYXBwL2FwaS9vcHRpb25zL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9vcHRpb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foptions%2Froute&page=%2Fapi%2Foptions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptions%2Froute.ts&appDir=%2FUsers%2Fken%2FDesktop%2Fquantiv%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fken%2FDesktop%2Fquantiv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/options/route.ts":
/*!**********************************!*\
  !*** ./app/api/options/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_schemas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/schemas */ \"(rsc)/./lib/schemas.ts\");\n/* harmony import */ var _lib_cache_lru__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/cache/lru */ \"(rsc)/./lib/cache/lru.ts\");\n/* harmony import */ var _lib_cache_redis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/cache/redis */ \"(rsc)/./lib/cache/redis.ts\");\n/* harmony import */ var _lib_pricing_blackScholes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/pricing/blackScholes */ \"(rsc)/./lib/pricing/blackScholes.ts\");\n/* harmony import */ var _lib_data_sp500Service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/data/sp500Service */ \"(rsc)/./lib/data/sp500Service.ts\");\n/* harmony import */ var _lib_services_liveDataService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/services/liveDataService */ \"(rsc)/./lib/services/liveDataService.ts\");\n/**\n * /api/options - Options chain data endpoint\n * Returns normalized options chain with ATM data and pricing\n */ \n\n\n\n\n\n\n\n/**\n * Mock options data provider\n * In production, this would integrate with Yahoo Finance, CBOE, or other data sources\n */ class OptionsProvider {\n    static async getChain(symbol, expiry) {\n        // Simulate API delay\n        await new Promise((resolve)=>setTimeout(resolve, 100));\n        // Mock data for testing - in production this would fetch from external API\n        const spot = 150.00 + Math.random() * 50; // Random spot price\n        const selectedExpiry = expiry || \"2024-02-16\";\n        const expiryDate = new Date(selectedExpiry);\n        const daysToExpiry = Math.max(1, Math.ceil((expiryDate.getTime() - Date.now()) / (1000 * 60 * 60 * 24)));\n        // Generate strikes around spot price\n        const strikes = [];\n        const baseStrike = Math.round(spot / 5) * 5; // Round to nearest $5\n        for(let i = -10; i <= 10; i++){\n            strikes.push(baseStrike + i * 5);\n        }\n        // Generate mock options data\n        const calls = strikes.map((strike)=>({\n                strike,\n                mid: Math.max(0.01, spot - strike + Math.random() * 5),\n                bid: 0,\n                ask: 0,\n                iv: 0.20 + Math.random() * 0.30,\n                volume: Math.floor(Math.random() * 1000),\n                openInterest: Math.floor(Math.random() * 5000)\n            }));\n        // Fix bid/ask based on mid\n        calls.forEach((call)=>{\n            const spread = Math.max(0.01, call.mid * 0.05); // 5% spread\n            call.bid = Math.max(0.01, call.mid - spread / 2);\n            call.ask = call.mid + spread / 2;\n        });\n        const puts = strikes.map((strike)=>({\n                strike,\n                mid: Math.max(0.01, strike - spot + Math.random() * 5),\n                bid: 0,\n                ask: 0,\n                iv: 0.20 + Math.random() * 0.30,\n                volume: Math.floor(Math.random() * 1000),\n                openInterest: Math.floor(Math.random() * 5000)\n            }));\n        // Fix bid/ask for puts\n        puts.forEach((put)=>{\n            const spread = Math.max(0.01, put.mid * 0.05);\n            put.bid = Math.max(0.01, put.mid - spread / 2);\n            put.ask = put.mid + spread / 2;\n        });\n        return {\n            spot,\n            expiryDate: selectedExpiry,\n            daysToExpiry,\n            strikes,\n            calls,\n            puts\n        };\n    }\n}\n/**\n * GET /api/options?symbol=AAPL&expiry=2024-01-19\n */ async function GET(request) {\n    const startTime = Date.now();\n    try {\n        // Parse and validate query parameters\n        const url = new URL(request.url);\n        const params = {\n            symbol: url.searchParams.get(\"symbol\"),\n            expiry: url.searchParams.get(\"expiry\") || undefined\n        };\n        const validation = (0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.validateRequest)(_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.OptionsRequestSchema, params);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json((0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.createApiResponse)(undefined, \"Invalid request parameters\", validation.details?.join(\", \")), {\n                status: 400\n            });\n        }\n        const { symbol, expiry } = validation.data;\n        // Generate cache key\n        const cacheKey = _lib_cache_lru__WEBPACK_IMPORTED_MODULE_2__.CacheKeys.optionsChain(symbol, expiry || \"default\");\n        // Try L1 cache first\n        let chainData = _lib_cache_lru__WEBPACK_IMPORTED_MODULE_2__.CacheInstances.optionsChain.get(cacheKey);\n        let cacheHit = \"l1\";\n        if (!chainData) {\n            // Try L2 (Redis) cache\n            const redisKey = _lib_cache_redis__WEBPACK_IMPORTED_MODULE_3__.Keys.optionsChain(symbol, expiry || \"default\");\n            chainData = await _lib_cache_redis__WEBPACK_IMPORTED_MODULE_3__.RedisCache.getJson(redisKey);\n            cacheHit = chainData ? \"l2\" : \"miss\";\n            if (!chainData) {\n                // Cache miss - fetch from provider\n                chainData = await OptionsProvider.getChain(symbol, expiry);\n                // Cache in both L1 and L2\n                _lib_cache_lru__WEBPACK_IMPORTED_MODULE_2__.CacheInstances.optionsChain.set(cacheKey, chainData, 60 * 1000); // 1 minute L1\n                await _lib_cache_redis__WEBPACK_IMPORTED_MODULE_3__.RedisCache.setJson(redisKey, chainData, 300); // 5 minutes L2\n                cacheHit = \"miss\";\n            } else {\n                // Cache in L1 for next time\n                _lib_cache_lru__WEBPACK_IMPORTED_MODULE_2__.CacheInstances.optionsChain.set(cacheKey, chainData, 60 * 1000);\n            }\n        }\n        // Find ATM strike and data\n        const atmStrike = (0,_lib_pricing_blackScholes__WEBPACK_IMPORTED_MODULE_4__.findATMStrike)(chainData.strikes, chainData.spot);\n        const atmCall = chainData.calls.find((c)=>c.strike === atmStrike);\n        const atmPut = chainData.puts.find((p)=>p.strike === atmStrike);\n        if (!atmCall || !atmPut) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json((0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.createApiResponse)(undefined, \"ATM options not found\", \"Unable to find call and put at ATM strike\"), {\n                status: 500\n            });\n        }\n        // Calculate time to expiry in years\n        const T = chainData.daysToExpiry / 365;\n        // Try to fetch live options data first\n        let liveOptionsData = null;\n        if ((0,_lib_services_liveDataService__WEBPACK_IMPORTED_MODULE_6__.isLiveDataAvailable)()) {\n            try {\n                liveOptionsData = await (0,_lib_services_liveDataService__WEBPACK_IMPORTED_MODULE_6__.fetchLiveOptionsChain)(symbol);\n                console.log(`[options-api] Live data ${liveOptionsData ? \"found\" : \"not found\"} for ${symbol}`);\n            } catch (error) {\n                console.warn(`[options-api] Live data fetch failed for ${symbol}:`, error);\n            }\n        }\n        // If we have live data, use it; otherwise fall back to mock data\n        if (liveOptionsData) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json((0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.createApiResponse)({\n                symbol,\n                chain: {\n                    quote: await (0,_lib_data_sp500Service__WEBPACK_IMPORTED_MODULE_5__.fetchHybridQuoteData)(symbol),\n                    strikes: {\n                        [liveOptionsData.expirationDate]: liveOptionsData.strikes.reduce((acc, strike)=>{\n                            acc[`${strike.strike}C`] = {\n                                strike: strike.strike,\n                                type: \"call\",\n                                bid: strike.call.bid,\n                                ask: strike.call.ask,\n                                last: strike.call.last,\n                                volume: strike.call.volume,\n                                openInterest: strike.call.openInterest,\n                                impliedVolatility: strike.call.impliedVolatility,\n                                delta: strike.call.delta,\n                                gamma: strike.call.gamma,\n                                theta: strike.call.theta,\n                                vega: strike.call.vega\n                            };\n                            acc[`${strike.strike}P`] = {\n                                strike: strike.strike,\n                                type: \"put\",\n                                bid: strike.put.bid,\n                                ask: strike.put.ask,\n                                last: strike.put.last,\n                                volume: strike.put.volume,\n                                openInterest: strike.put.openInterest,\n                                impliedVolatility: strike.put.impliedVolatility,\n                                delta: strike.put.delta,\n                                gamma: strike.put.gamma,\n                                theta: strike.put.theta,\n                                vega: strike.put.vega\n                            };\n                            return acc;\n                        }, {})\n                    }\n                }\n            }));\n        }\n        // Fallback to mock data\n        // Fetch enhanced quote data (real or enhanced mock)\n        const quoteData = await (0,_lib_data_sp500Service__WEBPACK_IMPORTED_MODULE_5__.fetchHybridQuoteData)(symbol);\n        // Build response data to match MiniOptionsChain component expectations\n        const expiryDate = chainData.expiryDate;\n        // Create strikes object organized by expiration date\n        const strikesByExpiry = {};\n        strikesByExpiry[expiryDate] = {};\n        // Build strikes data for the MiniOptionsChain component\n        chainData.strikes.forEach((strike)=>{\n            const call = chainData.calls.find((c)=>c.strike === strike);\n            const put = chainData.puts.find((p)=>p.strike === strike);\n            // Add call option\n            if (call) {\n                strikesByExpiry[expiryDate][`${strike}C`] = {\n                    strike: strike,\n                    type: \"call\",\n                    bid: call.bid,\n                    ask: call.ask,\n                    mark: call.mid,\n                    volume: call.volume || 0,\n                    openInterest: call.openInterest || 0,\n                    iv: call.iv,\n                    delta: call.delta,\n                    inTheMoney: strike < chainData.spot\n                };\n            }\n            // Add put option\n            if (put) {\n                strikesByExpiry[expiryDate][`${strike}P`] = {\n                    strike: strike,\n                    type: \"put\",\n                    bid: put.bid,\n                    ask: put.ask,\n                    mark: put.mid,\n                    volume: put.volume || 0,\n                    openInterest: put.openInterest || 0,\n                    iv: put.iv,\n                    delta: put.delta,\n                    inTheMoney: strike > chainData.spot\n                };\n            }\n        });\n        const responseData = {\n            chain: {\n                quote: {\n                    last: quoteData.price,\n                    change: quoteData.change,\n                    changePercent: quoteData.changePercent,\n                    name: quoteData.name,\n                    volume: quoteData.volume,\n                    marketCap: quoteData.marketCap,\n                    pe: quoteData.pe,\n                    high52Week: quoteData.high52Week,\n                    low52Week: quoteData.low52Week\n                },\n                expirations: [\n                    {\n                        date: expiryDate,\n                        dte: chainData.daysToExpiry\n                    }\n                ],\n                strikes: strikesByExpiry\n            },\n            spot: chainData.spot,\n            expiryUsed: expiryDate,\n            atm: {\n                strike: atmStrike,\n                callMid: atmCall.mid,\n                putMid: atmPut.mid,\n                iv: atmCall.iv || atmPut.iv || 0.25,\n                T: chainData.daysToExpiry / 365\n            },\n            // Keep rows for backward compatibility with other components\n            rows: chainData.strikes.map((strike)=>{\n                const call = chainData.calls.find((c)=>c.strike === strike);\n                const put = chainData.puts.find((p)=>p.strike === strike);\n                return {\n                    strike,\n                    call: call || {\n                        strike,\n                        mid: 0,\n                        bid: 0,\n                        ask: 0,\n                        iv: 0.25,\n                        volume: 0,\n                        openInterest: 0\n                    },\n                    put: put || {\n                        strike,\n                        mid: 0,\n                        bid: 0,\n                        ask: 0,\n                        iv: 0.25,\n                        volume: 0,\n                        openInterest: 0\n                    }\n                };\n            })\n        };\n        const response = (0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.createApiResponse)(responseData);\n        const processingTime = Date.now() - startTime;\n        // Add performance headers\n        const headers = new Headers({\n            \"Content-Type\": \"application/json\",\n            \"Cache-Control\": \"public, s-maxage=60, stale-while-revalidate=300\",\n            \"X-Cache-Hit\": cacheHit,\n            \"X-Processing-Time\": `${processingTime}ms`,\n            \"X-Symbol\": symbol,\n            \"X-Expiry\": chainData.expiryDate\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n            headers\n        });\n    } catch (error) {\n        console.error(\"[API] /api/options error:\", error);\n        const errorResponse = (0,_lib_schemas__WEBPACK_IMPORTED_MODULE_1__.createApiResponse)(undefined, \"Internal server error\", error instanceof Error ? error.message : \"Unknown error\", \"Please try again or contact support if the issue persists\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(errorResponse, {\n            status: 500\n        });\n    }\n}\n/**\n * OPTIONS /api/options - CORS preflight\n */ async function OPTIONS() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 200,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsQ0FBQztZQUMxQyxZQUFZMUc7WUFDWixZQUFZLFVBQW1CUyxVQUFVO1FBQzNDO1FBRUEsT0FBT3ZCLHFEQUFZQSxDQUFDNkQsSUFBSSxDQUFDMEQsVUFBVTtZQUFFRTtRQUFRO0lBRS9DLEVBQUUsT0FBT3JDLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLDZCQUE2QkE7UUFFM0MsTUFBTXVDLGdCQUFnQjFILCtEQUFpQkEsQ0FDckN5RCxXQUNBLHlCQUNBMEIsaUJBQWlCd0MsUUFBUXhDLE1BQU15QyxPQUFPLEdBQUcsaUJBQ3pDO1FBR0YsT0FBTzdILHFEQUFZQSxDQUFDNkQsSUFBSSxDQUFDOEQsZUFBZTtZQUFFM0QsUUFBUTtRQUFJO0lBQ3hEO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWU4RDtJQUNwQixPQUFPLElBQUk5SCxxREFBWUEsQ0FBQyxNQUFNO1FBQzVCZ0UsUUFBUTtRQUNSeUQsU0FBUztZQUNQLCtCQUErQjtZQUMvQixnQ0FBZ0M7WUFDaEMsZ0NBQWdDO1FBQ2xDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YW50aXYvLi9hcHAvYXBpL29wdGlvbnMvcm91dGUudHM/N2MyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIC9hcGkvb3B0aW9ucyAtIE9wdGlvbnMgY2hhaW4gZGF0YSBlbmRwb2ludFxuICogUmV0dXJucyBub3JtYWxpemVkIG9wdGlvbnMgY2hhaW4gd2l0aCBBVE0gZGF0YSBhbmQgcHJpY2luZ1xuICovXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVBcGlSZXNwb25zZSwgdmFsaWRhdGVSZXF1ZXN0IH0gZnJvbSAnQC9saWIvc2NoZW1hcyc7XG5pbXBvcnQgeyBPcHRpb25zUmVxdWVzdFNjaGVtYSB9IGZyb20gJ0AvbGliL3NjaGVtYXMnO1xuaW1wb3J0IHsgQ2FjaGVJbnN0YW5jZXMsIENhY2hlS2V5cyB9IGZyb20gJ0AvbGliL2NhY2hlL2xydSc7XG5pbXBvcnQgeyBSZWRpc0NhY2hlLCBLZXlzIH0gZnJvbSAnQC9saWIvY2FjaGUvcmVkaXMnO1xuaW1wb3J0IHsgZmluZEFUTVN0cmlrZSB9IGZyb20gJ0AvbGliL3ByaWNpbmcvYmxhY2tTY2hvbGVzJztcbmltcG9ydCB7IGZldGNoSHlicmlkUXVvdGVEYXRhIH0gZnJvbSAnQC9saWIvZGF0YS9zcDUwMFNlcnZpY2UnO1xuaW1wb3J0IHsgZmV0Y2hMaXZlT3B0aW9uc0NoYWluLCBpc0xpdmVEYXRhQXZhaWxhYmxlIH0gZnJvbSAnQC9saWIvc2VydmljZXMvbGl2ZURhdGFTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgQ2hhaW5EYXRhIH0gZnJvbSAnQC9saWIvc2VydmljZXMvZXhwZWN0ZWRNb3ZlJztcblxuLyoqXG4gKiBNb2NrIG9wdGlvbnMgZGF0YSBwcm92aWRlclxuICogSW4gcHJvZHVjdGlvbiwgdGhpcyB3b3VsZCBpbnRlZ3JhdGUgd2l0aCBZYWhvbyBGaW5hbmNlLCBDQk9FLCBvciBvdGhlciBkYXRhIHNvdXJjZXNcbiAqL1xuY2xhc3MgT3B0aW9uc1Byb3ZpZGVyIHtcbiAgc3RhdGljIGFzeW5jIGdldENoYWluKHN5bWJvbDogc3RyaW5nLCBleHBpcnk/OiBzdHJpbmcpOiBQcm9taXNlPENoYWluRGF0YT4ge1xuICAgIC8vIFNpbXVsYXRlIEFQSSBkZWxheVxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICBcbiAgICAvLyBNb2NrIGRhdGEgZm9yIHRlc3RpbmcgLSBpbiBwcm9kdWN0aW9uIHRoaXMgd291bGQgZmV0Y2ggZnJvbSBleHRlcm5hbCBBUElcbiAgICBjb25zdCBzcG90ID0gMTUwLjAwICsgTWF0aC5yYW5kb20oKSAqIDUwOyAvLyBSYW5kb20gc3BvdCBwcmljZVxuICAgIGNvbnN0IHNlbGVjdGVkRXhwaXJ5ID0gZXhwaXJ5IHx8ICcyMDI0LTAyLTE2JztcbiAgICBjb25zdCBleHBpcnlEYXRlID0gbmV3IERhdGUoc2VsZWN0ZWRFeHBpcnkpO1xuICAgIGNvbnN0IGRheXNUb0V4cGlyeSA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCgoZXhwaXJ5RGF0ZS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkpO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIHN0cmlrZXMgYXJvdW5kIHNwb3QgcHJpY2VcbiAgICBjb25zdCBzdHJpa2VzOiBudW1iZXJbXSA9IFtdO1xuICAgIGNvbnN0IGJhc2VTdHJpa2UgPSBNYXRoLnJvdW5kKHNwb3QgLyA1KSAqIDU7IC8vIFJvdW5kIHRvIG5lYXJlc3QgJDVcbiAgICBmb3IgKGxldCBpID0gLTEwOyBpIDw9IDEwOyBpKyspIHtcbiAgICAgIHN0cmlrZXMucHVzaChiYXNlU3RyaWtlICsgKGkgKiA1KSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIG1vY2sgb3B0aW9ucyBkYXRhXG4gICAgY29uc3QgY2FsbHMgPSBzdHJpa2VzLm1hcChzdHJpa2UgPT4gKHtcbiAgICAgIHN0cmlrZSxcbiAgICAgIG1pZDogTWF0aC5tYXgoMC4wMSwgc3BvdCAtIHN0cmlrZSArIE1hdGgucmFuZG9tKCkgKiA1KSxcbiAgICAgIGJpZDogMCxcbiAgICAgIGFzazogMCxcbiAgICAgIGl2OiAwLjIwICsgTWF0aC5yYW5kb20oKSAqIDAuMzAsIC8vIDIwLTUwJSBJVlxuICAgICAgdm9sdW1lOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSxcbiAgICAgIG9wZW5JbnRlcmVzdDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwMClcbiAgICB9KSk7XG4gICAgXG4gICAgLy8gRml4IGJpZC9hc2sgYmFzZWQgb24gbWlkXG4gICAgY2FsbHMuZm9yRWFjaChjYWxsID0+IHtcbiAgICAgIGNvbnN0IHNwcmVhZCA9IE1hdGgubWF4KDAuMDEsIGNhbGwubWlkICogMC4wNSk7IC8vIDUlIHNwcmVhZFxuICAgICAgY2FsbC5iaWQgPSBNYXRoLm1heCgwLjAxLCBjYWxsLm1pZCAtIHNwcmVhZCAvIDIpO1xuICAgICAgY2FsbC5hc2sgPSBjYWxsLm1pZCArIHNwcmVhZCAvIDI7XG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcHV0cyA9IHN0cmlrZXMubWFwKHN0cmlrZSA9PiAoe1xuICAgICAgc3RyaWtlLFxuICAgICAgbWlkOiBNYXRoLm1heCgwLjAxLCBzdHJpa2UgLSBzcG90ICsgTWF0aC5yYW5kb20oKSAqIDUpLFxuICAgICAgYmlkOiAwLFxuICAgICAgYXNrOiAwLFxuICAgICAgaXY6IDAuMjAgKyBNYXRoLnJhbmRvbSgpICogMC4zMCxcbiAgICAgIHZvbHVtZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCksXG4gICAgICBvcGVuSW50ZXJlc3Q6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwMDApXG4gICAgfSkpO1xuICAgIFxuICAgIC8vIEZpeCBiaWQvYXNrIGZvciBwdXRzXG4gICAgcHV0cy5mb3JFYWNoKHB1dCA9PiB7XG4gICAgICBjb25zdCBzcHJlYWQgPSBNYXRoLm1heCgwLjAxLCBwdXQubWlkICogMC4wNSk7XG4gICAgICBwdXQuYmlkID0gTWF0aC5tYXgoMC4wMSwgcHV0Lm1pZCAtIHNwcmVhZCAvIDIpO1xuICAgICAgcHV0LmFzayA9IHB1dC5taWQgKyBzcHJlYWQgLyAyO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzcG90LFxuICAgICAgZXhwaXJ5RGF0ZTogc2VsZWN0ZWRFeHBpcnksXG4gICAgICBkYXlzVG9FeHBpcnksXG4gICAgICBzdHJpa2VzLFxuICAgICAgY2FsbHMsXG4gICAgICBwdXRzLFxuXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdFVCAvYXBpL29wdGlvbnM/c3ltYm9sPUFBUEwmZXhwaXJ5PTIwMjQtMDEtMTlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBQYXJzZSBhbmQgdmFsaWRhdGUgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHN5bWJvbDogdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3N5bWJvbCcpLFxuICAgICAgZXhwaXJ5OiB1cmwuc2VhcmNoUGFyYW1zLmdldCgnZXhwaXJ5JykgfHwgdW5kZWZpbmVkXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVSZXF1ZXN0KE9wdGlvbnNSZXF1ZXN0U2NoZW1hLCBwYXJhbXMpO1xuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIGNyZWF0ZUFwaVJlc3BvbnNlKHVuZGVmaW5lZCwgJ0ludmFsaWQgcmVxdWVzdCBwYXJhbWV0ZXJzJywgdmFsaWRhdGlvbi5kZXRhaWxzPy5qb2luKCcsICcpKSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IHN5bWJvbCwgZXhwaXJ5IH0gPSB2YWxpZGF0aW9uLmRhdGEhO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIGNhY2hlIGtleVxuICAgIGNvbnN0IGNhY2hlS2V5ID0gQ2FjaGVLZXlzLm9wdGlvbnNDaGFpbihzeW1ib2wsIGV4cGlyeSB8fCAnZGVmYXVsdCcpO1xuICAgIFxuICAgIC8vIFRyeSBMMSBjYWNoZSBmaXJzdFxuICAgIGxldCBjaGFpbkRhdGEgPSBDYWNoZUluc3RhbmNlcy5vcHRpb25zQ2hhaW4uZ2V0KGNhY2hlS2V5KTtcbiAgICBsZXQgY2FjaGVIaXQgPSAnbDEnO1xuICAgIFxuICAgIGlmICghY2hhaW5EYXRhKSB7XG4gICAgICAvLyBUcnkgTDIgKFJlZGlzKSBjYWNoZVxuICAgICAgY29uc3QgcmVkaXNLZXkgPSBLZXlzLm9wdGlvbnNDaGFpbihzeW1ib2wsIGV4cGlyeSB8fCAnZGVmYXVsdCcpO1xuICAgICAgY2hhaW5EYXRhID0gYXdhaXQgUmVkaXNDYWNoZS5nZXRKc29uPENoYWluRGF0YT4ocmVkaXNLZXkpO1xuICAgICAgY2FjaGVIaXQgPSBjaGFpbkRhdGEgPyAnbDInIDogJ21pc3MnO1xuICAgICAgXG4gICAgICBpZiAoIWNoYWluRGF0YSkge1xuICAgICAgICAvLyBDYWNoZSBtaXNzIC0gZmV0Y2ggZnJvbSBwcm92aWRlclxuICAgICAgICBjaGFpbkRhdGEgPSBhd2FpdCBPcHRpb25zUHJvdmlkZXIuZ2V0Q2hhaW4oc3ltYm9sLCBleHBpcnkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FjaGUgaW4gYm90aCBMMSBhbmQgTDJcbiAgICAgICAgQ2FjaGVJbnN0YW5jZXMub3B0aW9uc0NoYWluLnNldChjYWNoZUtleSwgY2hhaW5EYXRhLCA2MCAqIDEwMDApOyAvLyAxIG1pbnV0ZSBMMVxuICAgICAgICBhd2FpdCBSZWRpc0NhY2hlLnNldEpzb24ocmVkaXNLZXksIGNoYWluRGF0YSwgMzAwKTsgLy8gNSBtaW51dGVzIEwyXG4gICAgICAgIGNhY2hlSGl0ID0gJ21pc3MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FjaGUgaW4gTDEgZm9yIG5leHQgdGltZVxuICAgICAgICBDYWNoZUluc3RhbmNlcy5vcHRpb25zQ2hhaW4uc2V0KGNhY2hlS2V5LCBjaGFpbkRhdGEsIDYwICogMTAwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpbmQgQVRNIHN0cmlrZSBhbmQgZGF0YVxuICAgIGNvbnN0IGF0bVN0cmlrZSA9IGZpbmRBVE1TdHJpa2UoKGNoYWluRGF0YSBhcyBhbnkpLnN0cmlrZXMsIChjaGFpbkRhdGEgYXMgYW55KS5zcG90KTtcbiAgICBjb25zdCBhdG1DYWxsID0gKGNoYWluRGF0YSBhcyBhbnkpLmNhbGxzLmZpbmQoKGM6IGFueSkgPT4gYy5zdHJpa2UgPT09IGF0bVN0cmlrZSk7XG4gICAgY29uc3QgYXRtUHV0ID0gKGNoYWluRGF0YSBhcyBhbnkpLnB1dHMuZmluZCgocDogYW55KSA9PiBwLnN0cmlrZSA9PT0gYXRtU3RyaWtlKTtcbiAgICBcbiAgICBpZiAoIWF0bUNhbGwgfHwgIWF0bVB1dCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICBjcmVhdGVBcGlSZXNwb25zZSh1bmRlZmluZWQsICdBVE0gb3B0aW9ucyBub3QgZm91bmQnLCAnVW5hYmxlIHRvIGZpbmQgY2FsbCBhbmQgcHV0IGF0IEFUTSBzdHJpa2UnKSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgdGltZSB0byBleHBpcnkgaW4geWVhcnNcbiAgICBjb25zdCBUID0gKGNoYWluRGF0YSBhcyBhbnkpLmRheXNUb0V4cGlyeSAvIDM2NTtcbiAgICBcbiAgICAvLyBUcnkgdG8gZmV0Y2ggbGl2ZSBvcHRpb25zIGRhdGEgZmlyc3RcbiAgICBsZXQgbGl2ZU9wdGlvbnNEYXRhID0gbnVsbDtcbiAgICBpZiAoaXNMaXZlRGF0YUF2YWlsYWJsZSgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXZlT3B0aW9uc0RhdGEgPSBhd2FpdCBmZXRjaExpdmVPcHRpb25zQ2hhaW4oc3ltYm9sKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtvcHRpb25zLWFwaV0gTGl2ZSBkYXRhICR7bGl2ZU9wdGlvbnNEYXRhID8gJ2ZvdW5kJyA6ICdub3QgZm91bmQnfSBmb3IgJHtzeW1ib2x9YCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtvcHRpb25zLWFwaV0gTGl2ZSBkYXRhIGZldGNoIGZhaWxlZCBmb3IgJHtzeW1ib2x9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGxpdmUgZGF0YSwgdXNlIGl0OyBvdGhlcndpc2UgZmFsbCBiYWNrIHRvIG1vY2sgZGF0YVxuICAgIGlmIChsaXZlT3B0aW9uc0RhdGEpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihjcmVhdGVBcGlSZXNwb25zZSh7XG4gICAgICAgIHN5bWJvbCxcbiAgICAgICAgY2hhaW46IHtcbiAgICAgICAgICBxdW90ZTogYXdhaXQgZmV0Y2hIeWJyaWRRdW90ZURhdGEoc3ltYm9sKSxcbiAgICAgICAgICBzdHJpa2VzOiB7XG4gICAgICAgICAgICBbbGl2ZU9wdGlvbnNEYXRhLmV4cGlyYXRpb25EYXRlXTogbGl2ZU9wdGlvbnNEYXRhLnN0cmlrZXMucmVkdWNlKChhY2MsIHN0cmlrZSkgPT4ge1xuICAgICAgICAgICAgICBhY2NbYCR7c3RyaWtlLnN0cmlrZX1DYF0gPSB7XG4gICAgICAgICAgICAgICAgc3RyaWtlOiBzdHJpa2Uuc3RyaWtlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICBiaWQ6IHN0cmlrZS5jYWxsLmJpZCxcbiAgICAgICAgICAgICAgICBhc2s6IHN0cmlrZS5jYWxsLmFzayxcbiAgICAgICAgICAgICAgICBsYXN0OiBzdHJpa2UuY2FsbC5sYXN0LFxuICAgICAgICAgICAgICAgIHZvbHVtZTogc3RyaWtlLmNhbGwudm9sdW1lLFxuICAgICAgICAgICAgICAgIG9wZW5JbnRlcmVzdDogc3RyaWtlLmNhbGwub3BlbkludGVyZXN0LFxuICAgICAgICAgICAgICAgIGltcGxpZWRWb2xhdGlsaXR5OiBzdHJpa2UuY2FsbC5pbXBsaWVkVm9sYXRpbGl0eSxcbiAgICAgICAgICAgICAgICBkZWx0YTogc3RyaWtlLmNhbGwuZGVsdGEsXG4gICAgICAgICAgICAgICAgZ2FtbWE6IHN0cmlrZS5jYWxsLmdhbW1hLFxuICAgICAgICAgICAgICAgIHRoZXRhOiBzdHJpa2UuY2FsbC50aGV0YSxcbiAgICAgICAgICAgICAgICB2ZWdhOiBzdHJpa2UuY2FsbC52ZWdhXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGFjY1tgJHtzdHJpa2Uuc3RyaWtlfVBgXSA9IHtcbiAgICAgICAgICAgICAgICBzdHJpa2U6IHN0cmlrZS5zdHJpa2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3B1dCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgYmlkOiBzdHJpa2UucHV0LmJpZCxcbiAgICAgICAgICAgICAgICBhc2s6IHN0cmlrZS5wdXQuYXNrLFxuICAgICAgICAgICAgICAgIGxhc3Q6IHN0cmlrZS5wdXQubGFzdCxcbiAgICAgICAgICAgICAgICB2b2x1bWU6IHN0cmlrZS5wdXQudm9sdW1lLFxuICAgICAgICAgICAgICAgIG9wZW5JbnRlcmVzdDogc3RyaWtlLnB1dC5vcGVuSW50ZXJlc3QsXG4gICAgICAgICAgICAgICAgaW1wbGllZFZvbGF0aWxpdHk6IHN0cmlrZS5wdXQuaW1wbGllZFZvbGF0aWxpdHksXG4gICAgICAgICAgICAgICAgZGVsdGE6IHN0cmlrZS5wdXQuZGVsdGEsXG4gICAgICAgICAgICAgICAgZ2FtbWE6IHN0cmlrZS5wdXQuZ2FtbWEsXG4gICAgICAgICAgICAgICAgdGhldGE6IHN0cmlrZS5wdXQudGhldGEsXG4gICAgICAgICAgICAgICAgdmVnYTogc3RyaWtlLnB1dC52ZWdhXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgZGF0YVxuICAgIC8vIEZldGNoIGVuaGFuY2VkIHF1b3RlIGRhdGEgKHJlYWwgb3IgZW5oYW5jZWQgbW9jaylcbiAgICBjb25zdCBxdW90ZURhdGEgPSBhd2FpdCBmZXRjaEh5YnJpZFF1b3RlRGF0YShzeW1ib2wpO1xuICAgIFxuICAgIC8vIEJ1aWxkIHJlc3BvbnNlIGRhdGEgdG8gbWF0Y2ggTWluaU9wdGlvbnNDaGFpbiBjb21wb25lbnQgZXhwZWN0YXRpb25zXG4gICAgY29uc3QgZXhwaXJ5RGF0ZSA9IChjaGFpbkRhdGEgYXMgYW55KS5leHBpcnlEYXRlO1xuICAgIFxuICAgIC8vIENyZWF0ZSBzdHJpa2VzIG9iamVjdCBvcmdhbml6ZWQgYnkgZXhwaXJhdGlvbiBkYXRlXG4gICAgY29uc3Qgc3RyaWtlc0J5RXhwaXJ5OiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9IHt9O1xuICAgIHN0cmlrZXNCeUV4cGlyeVtleHBpcnlEYXRlXSA9IHt9O1xuICAgIFxuICAgIC8vIEJ1aWxkIHN0cmlrZXMgZGF0YSBmb3IgdGhlIE1pbmlPcHRpb25zQ2hhaW4gY29tcG9uZW50XG4gICAgKGNoYWluRGF0YSBhcyBhbnkpLnN0cmlrZXMuZm9yRWFjaCgoc3RyaWtlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGNhbGwgPSAoY2hhaW5EYXRhIGFzIGFueSkuY2FsbHMuZmluZCgoYzogYW55KSA9PiBjLnN0cmlrZSA9PT0gc3RyaWtlKTtcbiAgICAgIGNvbnN0IHB1dCA9IChjaGFpbkRhdGEgYXMgYW55KS5wdXRzLmZpbmQoKHA6IGFueSkgPT4gcC5zdHJpa2UgPT09IHN0cmlrZSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBjYWxsIG9wdGlvblxuICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgc3RyaWtlc0J5RXhwaXJ5W2V4cGlyeURhdGVdW2Ake3N0cmlrZX1DYF0gPSB7XG4gICAgICAgICAgc3RyaWtlOiBzdHJpa2UsXG4gICAgICAgICAgdHlwZTogJ2NhbGwnIGFzIGNvbnN0LFxuICAgICAgICAgIGJpZDogY2FsbC5iaWQsXG4gICAgICAgICAgYXNrOiBjYWxsLmFzayxcbiAgICAgICAgICBtYXJrOiBjYWxsLm1pZCxcbiAgICAgICAgICB2b2x1bWU6IGNhbGwudm9sdW1lIHx8IDAsXG4gICAgICAgICAgb3BlbkludGVyZXN0OiBjYWxsLm9wZW5JbnRlcmVzdCB8fCAwLFxuICAgICAgICAgIGl2OiBjYWxsLml2LFxuICAgICAgICAgIGRlbHRhOiBjYWxsLmRlbHRhLFxuICAgICAgICAgIGluVGhlTW9uZXk6IHN0cmlrZSA8IChjaGFpbkRhdGEgYXMgYW55KS5zcG90XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCBwdXQgb3B0aW9uXG4gICAgICBpZiAocHV0KSB7XG4gICAgICAgIHN0cmlrZXNCeUV4cGlyeVtleHBpcnlEYXRlXVtgJHtzdHJpa2V9UGBdID0ge1xuICAgICAgICAgIHN0cmlrZTogc3RyaWtlLFxuICAgICAgICAgIHR5cGU6ICdwdXQnIGFzIGNvbnN0LFxuICAgICAgICAgIGJpZDogcHV0LmJpZCxcbiAgICAgICAgICBhc2s6IHB1dC5hc2ssXG4gICAgICAgICAgbWFyazogcHV0Lm1pZCxcbiAgICAgICAgICB2b2x1bWU6IHB1dC52b2x1bWUgfHwgMCxcbiAgICAgICAgICBvcGVuSW50ZXJlc3Q6IHB1dC5vcGVuSW50ZXJlc3QgfHwgMCxcbiAgICAgICAgICBpdjogcHV0Lml2LFxuICAgICAgICAgIGRlbHRhOiBwdXQuZGVsdGEsXG4gICAgICAgICAgaW5UaGVNb25leTogc3RyaWtlID4gKGNoYWluRGF0YSBhcyBhbnkpLnNwb3RcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgIGNoYWluOiB7XG4gICAgICAgIHF1b3RlOiB7XG4gICAgICAgICAgbGFzdDogcXVvdGVEYXRhLnByaWNlLFxuICAgICAgICAgIGNoYW5nZTogcXVvdGVEYXRhLmNoYW5nZSxcbiAgICAgICAgICBjaGFuZ2VQZXJjZW50OiBxdW90ZURhdGEuY2hhbmdlUGVyY2VudCxcbiAgICAgICAgICBuYW1lOiBxdW90ZURhdGEubmFtZSxcbiAgICAgICAgICB2b2x1bWU6IHF1b3RlRGF0YS52b2x1bWUsXG4gICAgICAgICAgbWFya2V0Q2FwOiBxdW90ZURhdGEubWFya2V0Q2FwLFxuICAgICAgICAgIHBlOiBxdW90ZURhdGEucGUsXG4gICAgICAgICAgaGlnaDUyV2VlazogcXVvdGVEYXRhLmhpZ2g1MldlZWssXG4gICAgICAgICAgbG93NTJXZWVrOiBxdW90ZURhdGEubG93NTJXZWVrXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGlyYXRpb25zOiBbeyBkYXRlOiBleHBpcnlEYXRlLCBkdGU6IChjaGFpbkRhdGEgYXMgYW55KS5kYXlzVG9FeHBpcnkgfV0sXG4gICAgICAgIHN0cmlrZXM6IHN0cmlrZXNCeUV4cGlyeVxuICAgICAgfSxcbiAgICAgIHNwb3Q6IChjaGFpbkRhdGEgYXMgYW55KS5zcG90LFxuICAgICAgZXhwaXJ5VXNlZDogZXhwaXJ5RGF0ZSxcbiAgICAgIGF0bToge1xuICAgICAgICBzdHJpa2U6IGF0bVN0cmlrZSxcbiAgICAgICAgY2FsbE1pZDogYXRtQ2FsbC5taWQsXG4gICAgICAgIHB1dE1pZDogYXRtUHV0Lm1pZCxcbiAgICAgICAgaXY6IGF0bUNhbGwuaXYgfHwgYXRtUHV0Lml2IHx8IDAuMjUsIC8vIEZhbGxiYWNrIElWXG4gICAgICAgIFQ6IChjaGFpbkRhdGEgYXMgYW55KS5kYXlzVG9FeHBpcnkgLyAzNjVcbiAgICAgIH0sXG4gICAgICAvLyBLZWVwIHJvd3MgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBvdGhlciBjb21wb25lbnRzXG4gICAgICByb3dzOiAoY2hhaW5EYXRhIGFzIGFueSkuc3RyaWtlcy5tYXAoKHN0cmlrZTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoY2hhaW5EYXRhIGFzIGFueSkuY2FsbHMuZmluZCgoYzogYW55KSA9PiBjLnN0cmlrZSA9PT0gc3RyaWtlKTtcbiAgICAgICAgY29uc3QgcHV0ID0gKGNoYWluRGF0YSBhcyBhbnkpLnB1dHMuZmluZCgocDogYW55KSA9PiBwLnN0cmlrZSA9PT0gc3RyaWtlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RyaWtlLFxuICAgICAgICAgIGNhbGw6IGNhbGwgfHwge1xuICAgICAgICAgICAgc3RyaWtlLFxuICAgICAgICAgICAgbWlkOiAwLFxuICAgICAgICAgICAgYmlkOiAwLFxuICAgICAgICAgICAgYXNrOiAwLFxuICAgICAgICAgICAgaXY6IDAuMjUsXG4gICAgICAgICAgICB2b2x1bWU6IDAsXG4gICAgICAgICAgICBvcGVuSW50ZXJlc3Q6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1dDogcHV0IHx8IHtcbiAgICAgICAgICAgIHN0cmlrZSxcbiAgICAgICAgICAgIG1pZDogMCxcbiAgICAgICAgICAgIGJpZDogMCxcbiAgICAgICAgICAgIGFzazogMCxcbiAgICAgICAgICAgIGl2OiAwLjI1LFxuICAgICAgICAgICAgdm9sdW1lOiAwLFxuICAgICAgICAgICAgb3BlbkludGVyZXN0OiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gY3JlYXRlQXBpUmVzcG9uc2UocmVzcG9uc2VEYXRhKTtcbiAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgXG4gICAgLy8gQWRkIHBlcmZvcm1hbmNlIGhlYWRlcnNcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoe1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdDYWNoZS1Db250cm9sJzogJ3B1YmxpYywgcy1tYXhhZ2U9NjAsIHN0YWxlLXdoaWxlLXJldmFsaWRhdGU9MzAwJyxcbiAgICAgICdYLUNhY2hlLUhpdCc6IGNhY2hlSGl0LFxuICAgICAgJ1gtUHJvY2Vzc2luZy1UaW1lJzogYCR7cHJvY2Vzc2luZ1RpbWV9bXNgLFxuICAgICAgJ1gtU3ltYm9sJzogc3ltYm9sLFxuICAgICAgJ1gtRXhwaXJ5JzogKGNoYWluRGF0YSBhcyBhbnkpLmV4cGlyeURhdGVcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHsgaGVhZGVycyB9KTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQVBJXSAvYXBpL29wdGlvbnMgZXJyb3I6JywgZXJyb3IpO1xuICAgIFxuICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSBjcmVhdGVBcGlSZXNwb25zZShcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAnUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIGlzc3VlIHBlcnNpc3RzJ1xuICAgICk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBPUFRJT05TIC9hcGkvb3B0aW9ucyAtIENPUlMgcHJlZmxpZ2h0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPUFRJT05TKCkge1xuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ0dFVCwgT1BUSU9OUycsXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUnLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUFwaVJlc3BvbnNlIiwidmFsaWRhdGVSZXF1ZXN0IiwiT3B0aW9uc1JlcXVlc3RTY2hlbWEiLCJDYWNoZUluc3RhbmNlcyIsIkNhY2hlS2V5cyIsIlJlZGlzQ2FjaGUiLCJLZXlzIiwiZmluZEFUTVN0cmlrZSIsImZldGNoSHlicmlkUXVvdGVEYXRhIiwiZmV0Y2hMaXZlT3B0aW9uc0NoYWluIiwiaXNMaXZlRGF0YUF2YWlsYWJsZSIsIk9wdGlvbnNQcm92aWRlciIsImdldENoYWluIiwic3ltYm9sIiwiZXhwaXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic3BvdCIsIk1hdGgiLCJyYW5kb20iLCJzZWxlY3RlZEV4cGlyeSIsImV4cGlyeURhdGUiLCJEYXRlIiwiZGF5c1RvRXhwaXJ5IiwibWF4IiwiY2VpbCIsImdldFRpbWUiLCJub3ciLCJzdHJpa2VzIiwiYmFzZVN0cmlrZSIsInJvdW5kIiwiaSIsInB1c2giLCJjYWxscyIsIm1hcCIsInN0cmlrZSIsIm1pZCIsImJpZCIsImFzayIsIml2Iiwidm9sdW1lIiwiZmxvb3IiLCJvcGVuSW50ZXJlc3QiLCJmb3JFYWNoIiwiY2FsbCIsInNwcmVhZCIsInB1dHMiLCJwdXQiLCJHRVQiLCJyZXF1ZXN0Iiwic3RhcnRUaW1lIiwidXJsIiwiVVJMIiwicGFyYW1zIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwidW5kZWZpbmVkIiwidmFsaWRhdGlvbiIsInN1Y2Nlc3MiLCJqc29uIiwiZGV0YWlscyIsImpvaW4iLCJzdGF0dXMiLCJkYXRhIiwiY2FjaGVLZXkiLCJvcHRpb25zQ2hhaW4iLCJjaGFpbkRhdGEiLCJjYWNoZUhpdCIsInJlZGlzS2V5IiwiZ2V0SnNvbiIsInNldCIsInNldEpzb24iLCJhdG1TdHJpa2UiLCJhdG1DYWxsIiwiZmluZCIsImMiLCJhdG1QdXQiLCJwIiwiVCIsImxpdmVPcHRpb25zRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIndhcm4iLCJjaGFpbiIsInF1b3RlIiwiZXhwaXJhdGlvbkRhdGUiLCJyZWR1Y2UiLCJhY2MiLCJ0eXBlIiwibGFzdCIsImltcGxpZWRWb2xhdGlsaXR5IiwiZGVsdGEiLCJnYW1tYSIsInRoZXRhIiwidmVnYSIsInF1b3RlRGF0YSIsInN0cmlrZXNCeUV4cGlyeSIsIm1hcmsiLCJpblRoZU1vbmV5IiwicmVzcG9uc2VEYXRhIiwicHJpY2UiLCJjaGFuZ2UiLCJjaGFuZ2VQZXJjZW50IiwibmFtZSIsIm1hcmtldENhcCIsInBlIiwiaGlnaDUyV2VlayIsImxvdzUyV2VlayIsImV4cGlyYXRpb25zIiwiZGF0ZSIsImR0ZSIsImV4cGlyeVVzZWQiLCJhdG0iLCJjYWxsTWlkIiwicHV0TWlkIiwicm93cyIsInJlc3BvbnNlIiwicHJvY2Vzc2luZ1RpbWUiLCJoZWFkZXJzIiwiSGVhZGVycyIsImVycm9yUmVzcG9uc2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJPUFRJT05TIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/options/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cache/lru.ts":
/*!**************************!*\
  !*** ./lib/cache/lru.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheInstances: () => (/* binding */ CacheInstances),\n/* harmony export */   CacheKeys: () => (/* binding */ CacheKeys),\n/* harmony export */   QuantivLRUCache: () => (/* binding */ QuantivLRUCache),\n/* harmony export */   clearAllCaches: () => (/* binding */ clearAllCaches),\n/* harmony export */   getAllCacheStats: () => (/* binding */ getAllCacheStats)\n/* harmony export */ });\n/* harmony import */ var lru_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lru-cache */ \"(rsc)/./node_modules/lru-cache/dist/esm/index.js\");\n/**\n * LRU Cache for L1 (in-process) caching\n * Used for fast API response caching within each API route\n */ \n/**\n * Generic LRU cache wrapper with TTL and statistics\n */ class QuantivLRUCache {\n    constructor(name, options = {}){\n        this.hits = 0;\n        this.misses = 0;\n        this.name = name;\n        this.cache = new lru_cache__WEBPACK_IMPORTED_MODULE_0__.LRUCache({\n            max: options.maxSize || 100,\n            ttl: options.ttlMs || 60 * 1000,\n            updateAgeOnGet: options.updateAgeOnGet ?? true,\n            dispose: (value, key)=>{\n                // Optional cleanup when items are evicted\n                console.debug(`[${this.name}] Evicted cache entry: ${key}`);\n            }\n        });\n    }\n    /**\n   * Get item from cache\n   */ get(key) {\n        const entry = this.cache.get(key);\n        if (entry) {\n            this.hits++;\n            return entry.data;\n        } else {\n            this.misses++;\n            return null;\n        }\n    }\n    /**\n   * Set item in cache\n   */ set(key, data, ttlMs) {\n        const entry = {\n            data,\n            timestamp: Date.now(),\n            key\n        };\n        if (ttlMs) {\n            this.cache.set(key, entry, {\n                ttl: ttlMs\n            });\n        } else {\n            this.cache.set(key, entry);\n        }\n    }\n    /**\n   * Check if key exists in cache\n   */ has(key) {\n        return this.cache.has(key);\n    }\n    /**\n   * Delete item from cache\n   */ delete(key) {\n        return this.cache.delete(key);\n    }\n    /**\n   * Clear all items from cache\n   */ clear() {\n        this.cache.clear();\n        this.hits = 0;\n        this.misses = 0;\n    }\n    /**\n   * Get cache statistics\n   */ getStats() {\n        const total = this.hits + this.misses;\n        return {\n            name: this.name,\n            size: this.cache.size,\n            maxSize: this.cache.max,\n            hits: this.hits,\n            misses: this.misses,\n            hitRate: total > 0 ? this.hits / total * 100 : 0,\n            calculatedSize: this.cache.calculatedSize || 0\n        };\n    }\n    /**\n   * Get or set pattern - fetch data if not in cache\n   */ async getOrSet(key, fetchFn, ttlMs) {\n        const cached = this.get(key);\n        if (cached !== null) {\n            return cached;\n        }\n        try {\n            const data = await fetchFn();\n            this.set(key, data, ttlMs);\n            return data;\n        } catch (error) {\n            console.error(`[${this.name}] Error fetching data for key ${key}:`, error);\n            throw error;\n        }\n    }\n    /**\n   * Peek at item without updating LRU order\n   */ peek(key) {\n        const entry = this.cache.peek(key);\n        return entry ? entry.data : null;\n    }\n    /**\n   * Get all keys in cache\n   */ keys() {\n        return Array.from(this.cache.keys());\n    }\n    /**\n   * Get cache info for debugging\n   */ getInfo() {\n        const entries = [];\n        const now = Date.now();\n        // Convert iterator to array to avoid downlevelIteration issues\n        const cacheEntries = Array.from(this.cache.entries());\n        for (const [key, entry] of cacheEntries){\n            entries.push({\n                key,\n                timestamp: entry.timestamp,\n                age: now - entry.timestamp\n            });\n        }\n        return {\n            name: this.name,\n            entries,\n            stats: this.getStats()\n        };\n    }\n}\n/**\n * Pre-configured cache instances for different data types\n */ const CacheInstances = {\n    // Options chain cache - larger size, shorter TTL\n    optionsChain: new QuantivLRUCache(\"options-chain\", {\n        maxSize: 200,\n        ttlMs: 60 * 1000,\n        updateAgeOnGet: true\n    }),\n    // Expected move cache - medium size, medium TTL\n    expectedMove: new QuantivLRUCache(\"expected-move\", {\n        maxSize: 150,\n        ttlMs: 90 * 1000,\n        updateAgeOnGet: true\n    }),\n    // Earnings data cache - smaller size, longer TTL\n    earnings: new QuantivLRUCache(\"earnings\", {\n        maxSize: 100,\n        ttlMs: 300 * 1000,\n        updateAgeOnGet: true\n    }),\n    // Price history cache - smaller size, longer TTL\n    priceHistory: new QuantivLRUCache(\"price-history\", {\n        maxSize: 50,\n        ttlMs: 600 * 1000,\n        updateAgeOnGet: false // Don't update age for historical data\n    }),\n    // IV series cache - medium size, longer TTL\n    ivSeries: new QuantivLRUCache(\"iv-series\", {\n        maxSize: 100,\n        ttlMs: 1800 * 1000,\n        updateAgeOnGet: false\n    })\n};\n/**\n * Get all cache statistics for monitoring\n */ function getAllCacheStats() {\n    return {\n        optionsChain: CacheInstances.optionsChain.getStats(),\n        expectedMove: CacheInstances.expectedMove.getStats(),\n        earnings: CacheInstances.earnings.getStats(),\n        priceHistory: CacheInstances.priceHistory.getStats(),\n        ivSeries: CacheInstances.ivSeries.getStats()\n    };\n}\n/**\n * Clear all caches (useful for testing or manual cache invalidation)\n */ function clearAllCaches() {\n    Object.values(CacheInstances).forEach((cache)=>cache.clear());\n}\n/**\n * Utility to generate cache keys for different data types\n */ const CacheKeys = {\n    optionsChain: (symbol, expiry)=>`${symbol.toUpperCase()}:${expiry}`,\n    expectedMove: (symbol, expiry)=>`${symbol.toUpperCase()}:${expiry}`,\n    earnings: (symbol)=>symbol.toUpperCase(),\n    priceHistory: (symbol, days)=>`${symbol.toUpperCase()}:${days}d`,\n    ivSeries: (symbol, days)=>`${symbol.toUpperCase()}:${days}d`\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkEsT0FBT0UsV0FBVztJQUNoRFYsY0FBYyxDQUFDUSxRQUFnQkcsT0FBaUIsQ0FBQyxFQUFFSCxPQUFPRSxXQUFXLEdBQUcsQ0FBQyxFQUFFQyxLQUFLLENBQUMsQ0FBQztJQUNsRlYsVUFBVSxDQUFDTyxRQUFnQkcsT0FBaUIsQ0FBQyxFQUFFSCxPQUFPRSxXQUFXLEdBQUcsQ0FBQyxFQUFFQyxLQUFLLENBQUMsQ0FBQztBQUNoRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhbnRpdi8uL2xpYi9jYWNoZS9scnUudHM/ZjU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExSVSBDYWNoZSBmb3IgTDEgKGluLXByb2Nlc3MpIGNhY2hpbmdcbiAqIFVzZWQgZm9yIGZhc3QgQVBJIHJlc3BvbnNlIGNhY2hpbmcgd2l0aGluIGVhY2ggQVBJIHJvdXRlXG4gKi9cblxuaW1wb3J0IHsgTFJVQ2FjaGUgfSBmcm9tICdscnUtY2FjaGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlT3B0aW9ucyB7XG4gIG1heFNpemU/OiBudW1iZXI7XG4gIHR0bE1zPzogbnVtYmVyO1xuICB1cGRhdGVBZ2VPbkdldD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FjaGVFbnRyeTxUPiB7XG4gIGRhdGE6IFQ7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBrZXk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBHZW5lcmljIExSVSBjYWNoZSB3cmFwcGVyIHdpdGggVFRMIGFuZCBzdGF0aXN0aWNzXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWFudGl2TFJVQ2FjaGU8VD4ge1xuICBwcml2YXRlIGNhY2hlOiBMUlVDYWNoZTxzdHJpbmcsIENhY2hlRW50cnk8VD4+O1xuICBwcml2YXRlIGhpdHM6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbWlzc2VzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IENhY2hlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmNhY2hlID0gbmV3IExSVUNhY2hlKHtcbiAgICAgIG1heDogb3B0aW9ucy5tYXhTaXplIHx8IDEwMCxcbiAgICAgIHR0bDogb3B0aW9ucy50dGxNcyB8fCA2MCAqIDEwMDAsIC8vIDEgbWludXRlIGRlZmF1bHRcbiAgICAgIHVwZGF0ZUFnZU9uR2V0OiBvcHRpb25zLnVwZGF0ZUFnZU9uR2V0ID8/IHRydWUsXG4gICAgICBkaXNwb3NlOiAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAvLyBPcHRpb25hbCBjbGVhbnVwIHdoZW4gaXRlbXMgYXJlIGV2aWN0ZWRcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgWyR7dGhpcy5uYW1lfV0gRXZpY3RlZCBjYWNoZSBlbnRyeTogJHtrZXl9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGl0ZW0gZnJvbSBjYWNoZVxuICAgKi9cbiAgZ2V0KGtleTogc3RyaW5nKTogVCB8IG51bGwge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICBcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHRoaXMuaGl0cysrO1xuICAgICAgcmV0dXJuIGVudHJ5LmRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWlzc2VzKys7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGl0ZW0gaW4gY2FjaGVcbiAgICovXG4gIHNldChrZXk6IHN0cmluZywgZGF0YTogVCwgdHRsTXM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBlbnRyeTogQ2FjaGVFbnRyeTxUPiA9IHtcbiAgICAgIGRhdGEsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBrZXlcbiAgICB9O1xuXG4gICAgaWYgKHR0bE1zKSB7XG4gICAgICB0aGlzLmNhY2hlLnNldChrZXksIGVudHJ5LCB7IHR0bDogdHRsTXMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgZW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBrZXkgZXhpc3RzIGluIGNhY2hlXG4gICAqL1xuICBoYXMoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgaXRlbSBmcm9tIGNhY2hlXG4gICAqL1xuICBkZWxldGUoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5kZWxldGUoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaXRlbXMgZnJvbSBjYWNoZVxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuaGl0cyA9IDA7XG4gICAgdGhpcy5taXNzZXMgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYWNoZSBzdGF0aXN0aWNzXG4gICAqL1xuICBnZXRTdGF0cygpOiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBtYXhTaXplOiBudW1iZXI7XG4gICAgaGl0czogbnVtYmVyO1xuICAgIG1pc3NlczogbnVtYmVyO1xuICAgIGhpdFJhdGU6IG51bWJlcjtcbiAgICBjYWxjdWxhdGVkU2l6ZTogbnVtYmVyO1xuICB9IHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuaGl0cyArIHRoaXMubWlzc2VzO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBzaXplOiB0aGlzLmNhY2hlLnNpemUsXG4gICAgICBtYXhTaXplOiB0aGlzLmNhY2hlLm1heCxcbiAgICAgIGhpdHM6IHRoaXMuaGl0cyxcbiAgICAgIG1pc3NlczogdGhpcy5taXNzZXMsXG4gICAgICBoaXRSYXRlOiB0b3RhbCA+IDAgPyAodGhpcy5oaXRzIC8gdG90YWwpICogMTAwIDogMCxcbiAgICAgIGNhbGN1bGF0ZWRTaXplOiB0aGlzLmNhY2hlLmNhbGN1bGF0ZWRTaXplIHx8IDBcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgcGF0dGVybiAtIGZldGNoIGRhdGEgaWYgbm90IGluIGNhY2hlXG4gICAqL1xuICBhc3luYyBnZXRPclNldDxLPihcbiAgICBrZXk6IHN0cmluZyxcbiAgICBmZXRjaEZuOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgIHR0bE1zPzogbnVtYmVyXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgXG4gICAgaWYgKGNhY2hlZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoRm4oKTtcbiAgICAgIHRoaXMuc2V0KGtleSwgZGF0YSwgdHRsTXMpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dIEVycm9yIGZldGNoaW5nIGRhdGEgZm9yIGtleSAke2tleX06YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlZWsgYXQgaXRlbSB3aXRob3V0IHVwZGF0aW5nIExSVSBvcmRlclxuICAgKi9cbiAgcGVlayhrZXk6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuY2FjaGUucGVlayhrZXkpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5LmRhdGEgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwga2V5cyBpbiBjYWNoZVxuICAgKi9cbiAga2V5cygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jYWNoZS5rZXlzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYWNoZSBpbmZvIGZvciBkZWJ1Z2dpbmdcbiAgICovXG4gIGdldEluZm8oKToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBlbnRyaWVzOiBBcnJheTx7XG4gICAgICBrZXk6IHN0cmluZztcbiAgICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgICAgYWdlOiBudW1iZXI7XG4gICAgfT47XG4gICAgc3RhdHM6IHtcbiAgICAgIGhpdHM6IG51bWJlcjtcbiAgICAgIG1pc3NlczogbnVtYmVyO1xuICAgICAgaGl0UmF0ZTogbnVtYmVyO1xuICAgICAgc2l6ZTogbnVtYmVyO1xuICAgICAgbWF4U2l6ZTogbnVtYmVyO1xuICAgIH07XG4gIH0ge1xuICAgIGNvbnN0IGVudHJpZXM6IEFycmF5PHsga2V5OiBzdHJpbmc7IHRpbWVzdGFtcDogbnVtYmVyOyBhZ2U6IG51bWJlciB9PiA9IFtdO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgXG4gICAgLy8gQ29udmVydCBpdGVyYXRvciB0byBhcnJheSB0byBhdm9pZCBkb3dubGV2ZWxJdGVyYXRpb24gaXNzdWVzXG4gICAgY29uc3QgY2FjaGVFbnRyaWVzID0gQXJyYXkuZnJvbSh0aGlzLmNhY2hlLmVudHJpZXMoKSk7XG4gICAgZm9yIChjb25zdCBba2V5LCBlbnRyeV0gb2YgY2FjaGVFbnRyaWVzKSB7XG4gICAgICBlbnRyaWVzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHRpbWVzdGFtcDogZW50cnkudGltZXN0YW1wLFxuICAgICAgICBhZ2U6IG5vdyAtIGVudHJ5LnRpbWVzdGFtcFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGVudHJpZXMsXG4gICAgICBzdGF0czogdGhpcy5nZXRTdGF0cygpXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFByZS1jb25maWd1cmVkIGNhY2hlIGluc3RhbmNlcyBmb3IgZGlmZmVyZW50IGRhdGEgdHlwZXNcbiAqL1xuZXhwb3J0IGNvbnN0IENhY2hlSW5zdGFuY2VzID0ge1xuICAvLyBPcHRpb25zIGNoYWluIGNhY2hlIC0gbGFyZ2VyIHNpemUsIHNob3J0ZXIgVFRMXG4gIG9wdGlvbnNDaGFpbjogbmV3IFF1YW50aXZMUlVDYWNoZSgnb3B0aW9ucy1jaGFpbicsIHtcbiAgICBtYXhTaXplOiAyMDAsXG4gICAgdHRsTXM6IDYwICogMTAwMCwgLy8gMSBtaW51dGVcbiAgICB1cGRhdGVBZ2VPbkdldDogdHJ1ZVxuICB9KSxcblxuICAvLyBFeHBlY3RlZCBtb3ZlIGNhY2hlIC0gbWVkaXVtIHNpemUsIG1lZGl1bSBUVExcbiAgZXhwZWN0ZWRNb3ZlOiBuZXcgUXVhbnRpdkxSVUNhY2hlKCdleHBlY3RlZC1tb3ZlJywge1xuICAgIG1heFNpemU6IDE1MCxcbiAgICB0dGxNczogOTAgKiAxMDAwLCAvLyAxLjUgbWludXRlc1xuICAgIHVwZGF0ZUFnZU9uR2V0OiB0cnVlXG4gIH0pLFxuXG4gIC8vIEVhcm5pbmdzIGRhdGEgY2FjaGUgLSBzbWFsbGVyIHNpemUsIGxvbmdlciBUVExcbiAgZWFybmluZ3M6IG5ldyBRdWFudGl2TFJVQ2FjaGUoJ2Vhcm5pbmdzJywge1xuICAgIG1heFNpemU6IDEwMCxcbiAgICB0dGxNczogMzAwICogMTAwMCwgLy8gNSBtaW51dGVzXG4gICAgdXBkYXRlQWdlT25HZXQ6IHRydWVcbiAgfSksXG5cbiAgLy8gUHJpY2UgaGlzdG9yeSBjYWNoZSAtIHNtYWxsZXIgc2l6ZSwgbG9uZ2VyIFRUTFxuICBwcmljZUhpc3Rvcnk6IG5ldyBRdWFudGl2TFJVQ2FjaGUoJ3ByaWNlLWhpc3RvcnknLCB7XG4gICAgbWF4U2l6ZTogNTAsXG4gICAgdHRsTXM6IDYwMCAqIDEwMDAsIC8vIDEwIG1pbnV0ZXNcbiAgICB1cGRhdGVBZ2VPbkdldDogZmFsc2UgLy8gRG9uJ3QgdXBkYXRlIGFnZSBmb3IgaGlzdG9yaWNhbCBkYXRhXG4gIH0pLFxuXG4gIC8vIElWIHNlcmllcyBjYWNoZSAtIG1lZGl1bSBzaXplLCBsb25nZXIgVFRMXG4gIGl2U2VyaWVzOiBuZXcgUXVhbnRpdkxSVUNhY2hlKCdpdi1zZXJpZXMnLCB7XG4gICAgbWF4U2l6ZTogMTAwLFxuICAgIHR0bE1zOiAxODAwICogMTAwMCwgLy8gMzAgbWludXRlc1xuICAgIHVwZGF0ZUFnZU9uR2V0OiBmYWxzZVxuICB9KVxufTtcblxuLyoqXG4gKiBHZXQgYWxsIGNhY2hlIHN0YXRpc3RpY3MgZm9yIG1vbml0b3JpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENhY2hlU3RhdHMoKTogUmVjb3JkPHN0cmluZywgUmV0dXJuVHlwZTxRdWFudGl2TFJVQ2FjaGU8YW55PlsnZ2V0U3RhdHMnXT4+IHtcbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zQ2hhaW46IENhY2hlSW5zdGFuY2VzLm9wdGlvbnNDaGFpbi5nZXRTdGF0cygpLFxuICAgIGV4cGVjdGVkTW92ZTogQ2FjaGVJbnN0YW5jZXMuZXhwZWN0ZWRNb3ZlLmdldFN0YXRzKCksXG4gICAgZWFybmluZ3M6IENhY2hlSW5zdGFuY2VzLmVhcm5pbmdzLmdldFN0YXRzKCksXG4gICAgcHJpY2VIaXN0b3J5OiBDYWNoZUluc3RhbmNlcy5wcmljZUhpc3RvcnkuZ2V0U3RhdHMoKSxcbiAgICBpdlNlcmllczogQ2FjaGVJbnN0YW5jZXMuaXZTZXJpZXMuZ2V0U3RhdHMoKVxuICB9O1xufVxuXG4vKipcbiAqIENsZWFyIGFsbCBjYWNoZXMgKHVzZWZ1bCBmb3IgdGVzdGluZyBvciBtYW51YWwgY2FjaGUgaW52YWxpZGF0aW9uKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxDYWNoZXMoKTogdm9pZCB7XG4gIE9iamVjdC52YWx1ZXMoQ2FjaGVJbnN0YW5jZXMpLmZvckVhY2goY2FjaGUgPT4gY2FjaGUuY2xlYXIoKSk7XG59XG5cbi8qKlxuICogVXRpbGl0eSB0byBnZW5lcmF0ZSBjYWNoZSBrZXlzIGZvciBkaWZmZXJlbnQgZGF0YSB0eXBlc1xuICovXG5leHBvcnQgY29uc3QgQ2FjaGVLZXlzID0ge1xuICBvcHRpb25zQ2hhaW46IChzeW1ib2w6IHN0cmluZywgZXhwaXJ5OiBzdHJpbmcpID0+IGAke3N5bWJvbC50b1VwcGVyQ2FzZSgpfToke2V4cGlyeX1gLFxuICBleHBlY3RlZE1vdmU6IChzeW1ib2w6IHN0cmluZywgZXhwaXJ5OiBzdHJpbmcpID0+IGAke3N5bWJvbC50b1VwcGVyQ2FzZSgpfToke2V4cGlyeX1gLFxuICBlYXJuaW5nczogKHN5bWJvbDogc3RyaW5nKSA9PiBzeW1ib2wudG9VcHBlckNhc2UoKSxcbiAgcHJpY2VIaXN0b3J5OiAoc3ltYm9sOiBzdHJpbmcsIGRheXM6IG51bWJlcikgPT4gYCR7c3ltYm9sLnRvVXBwZXJDYXNlKCl9OiR7ZGF5c31kYCxcbiAgaXZTZXJpZXM6IChzeW1ib2w6IHN0cmluZywgZGF5czogbnVtYmVyKSA9PiBgJHtzeW1ib2wudG9VcHBlckNhc2UoKX06JHtkYXlzfWRgXG59O1xuIl0sIm5hbWVzIjpbIkxSVUNhY2hlIiwiUXVhbnRpdkxSVUNhY2hlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwib3B0aW9ucyIsImhpdHMiLCJtaXNzZXMiLCJjYWNoZSIsIm1heCIsIm1heFNpemUiLCJ0dGwiLCJ0dGxNcyIsInVwZGF0ZUFnZU9uR2V0IiwiZGlzcG9zZSIsInZhbHVlIiwia2V5IiwiY29uc29sZSIsImRlYnVnIiwiZ2V0IiwiZW50cnkiLCJkYXRhIiwic2V0IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImhhcyIsImRlbGV0ZSIsImNsZWFyIiwiZ2V0U3RhdHMiLCJ0b3RhbCIsInNpemUiLCJoaXRSYXRlIiwiY2FsY3VsYXRlZFNpemUiLCJnZXRPclNldCIsImZldGNoRm4iLCJjYWNoZWQiLCJlcnJvciIsInBlZWsiLCJrZXlzIiwiQXJyYXkiLCJmcm9tIiwiZ2V0SW5mbyIsImVudHJpZXMiLCJjYWNoZUVudHJpZXMiLCJwdXNoIiwiYWdlIiwic3RhdHMiLCJDYWNoZUluc3RhbmNlcyIsIm9wdGlvbnNDaGFpbiIsImV4cGVjdGVkTW92ZSIsImVhcm5pbmdzIiwicHJpY2VIaXN0b3J5IiwiaXZTZXJpZXMiLCJnZXRBbGxDYWNoZVN0YXRzIiwiY2xlYXJBbGxDYWNoZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwiQ2FjaGVLZXlzIiwic3ltYm9sIiwiZXhwaXJ5IiwidG9VcHBlckNhc2UiLCJkYXlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/cache/lru.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cache/redis.ts":
/*!****************************!*\
  !*** ./lib/cache/redis.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Keys: () => (/* binding */ Keys),\n/* harmony export */   QuantivCache: () => (/* binding */ QuantivCache),\n/* harmony export */   RedisCache: () => (/* binding */ RedisCache),\n/* harmony export */   checkRedisHealth: () => (/* binding */ checkRedisHealth),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   formatDateForKey: () => (/* binding */ formatDateForKey)\n/* harmony export */ });\n/* harmony import */ var _upstash_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @upstash/redis */ \"(rsc)/./node_modules/@upstash/redis/nodejs.mjs\");\n/**\n * Redis Client Wrapper for Upstash\n * Provides caching utilities and key builders for Quantiv\n */ \n// Initialize Redis client - disabled for development\nconst redis = process.env.REDIS_URL && process.env.REDIS_TOKEN ? new _upstash_redis__WEBPACK_IMPORTED_MODULE_0__.Redis({\n    url: process.env.REDIS_URL,\n    token: process.env.REDIS_TOKEN\n}) : null;\n/**\n * Redis key builders following Quantiv's naming convention\n */ const Keys = {\n    // Expected move snapshot: em:snap:${symbol}:${expiry}\n    expectedMoveSnapshot: (symbol, expiry)=>`em:snap:${symbol.toUpperCase()}:${expiry}`,\n    // Top movers for a date: em:top:${YYYYMMDD}\n    topMovers: (date)=>`em:top:${date}`,\n    // IV series for a symbol: iv:series:${symbol}\n    ivSeries: (symbol)=>`iv:series:${symbol.toUpperCase()}`,\n    // Daily visitor count: d:visits:${YYYYMMDD}\n    dailyVisits: (date)=>`d:visits:${date}`,\n    // Options chain cache: chain:${symbol}:${expiry}\n    optionsChain: (symbol, expiry)=>`chain:${symbol.toUpperCase()}:${expiry}`,\n    // Earnings data: earnings:${symbol}\n    earnings: (symbol)=>`earnings:${symbol.toUpperCase()}`,\n    // Price history: prices:${symbol}\n    priceHistory: (symbol)=>`prices:${symbol.toUpperCase()}`\n};\n/**\n * Generic JSON cache operations\n */ class RedisCache {\n    /**\n   * Set JSON data with TTL\n   */ static async setJson(key, data, ttlSeconds = 120) {\n        if (!redis) return; // Skip if Redis not configured\n        try {\n            await redis.setex(key, ttlSeconds, JSON.stringify(data));\n        } catch (error) {\n            console.error(`Redis setJson error for key ${key}:`, error);\n        // Don't throw - degrade gracefully without cache\n        }\n    }\n    /**\n   * Get JSON data\n   */ static async getJson(key) {\n        if (!redis) return null; // Skip if Redis not configured\n        try {\n            const result = await redis.get(key);\n            return result ? JSON.parse(result) : null;\n        } catch (error) {\n            console.error(`Redis getJson error for key ${key}:`, error);\n            return null; // Degrade gracefully\n        }\n    }\n    /**\n   * Increment counter and return new value\n   */ static async increment(key, ttlSeconds) {\n        if (!redis) return 1; // Return 1 if Redis not configured\n        try {\n            const newValue = await redis.incr(key);\n            if (ttlSeconds && newValue === 1) {\n                // Set TTL only on first increment (when key is created)\n                await redis.expire(key, ttlSeconds);\n            }\n            return newValue;\n        } catch (error) {\n            console.error(`Redis increment error for key ${key}:`, error);\n            return 0; // Return 0 on error\n        }\n    }\n    /**\n   * Add to sorted set (for top movers)\n   */ static async addToSortedSet(key, score, member, ttlSeconds) {\n        if (!redis) return; // Skip if Redis not configured\n        try {\n            await redis.zadd(key, {\n                score,\n                member\n            });\n            if (ttlSeconds) {\n                await redis.expire(key, ttlSeconds);\n            }\n        } catch (error) {\n            console.error(`Redis zadd error for key ${key}:`, error);\n        // Don't throw - degrade gracefully\n        }\n    }\n    /**\n   * Get top N members from sorted set (descending order)\n   */ static async getTopFromSortedSet(key, count = 10) {\n        if (!redis) return []; // Return empty array if Redis not configured\n        try {\n            const result = await redis.zrange(key, 0, count - 1, {\n                rev: true,\n                withScores: true\n            });\n            // Convert flat array to objects\n            const items = [];\n            for(let i = 0; i < result.length; i += 2){\n                items.push({\n                    member: result[i],\n                    score: result[i + 1]\n                });\n            }\n            return items;\n        } catch (error) {\n            console.error(`Redis zrange error for key ${key}:`, error);\n            return []; // Return empty array on error\n        }\n    }\n    /**\n   * Delete a key\n   */ static async delete(key) {\n        if (!redis) return; // Skip if Redis not configured\n        try {\n            await redis.del(key);\n        } catch (error) {\n            console.error(`Redis delete error for key ${key}:`, error);\n        // Don't throw - degrade gracefully\n        }\n    }\n    /**\n   * Check if key exists\n   */ static async exists(key) {\n        if (!redis) return false; // Return false if Redis not configured\n        try {\n            const result = await redis.exists(key);\n            return result === 1;\n        } catch (error) {\n            console.error(`Redis exists error for key ${key}:`, error);\n            return false;\n        }\n    }\n    /**\n   * Get TTL for a key\n   */ static async getTTL(key) {\n        if (!redis) return -1; // Return -1 if Redis not configured\n        try {\n            return await redis.ttl(key);\n        } catch (error) {\n            console.error(`Redis TTL error for key ${key}:`, error);\n            return -1;\n        }\n    }\n}\n/**\n * Specialized cache operations for Quantiv\n */ class QuantivCache {\n    /**\n   * Cache expected move snapshot\n   */ static async cacheExpectedMove(symbol, expiry, data, ttlSeconds = 120) {\n        const key = Keys.expectedMoveSnapshot(symbol, expiry);\n        const snapshot = {\n            ...data,\n            timestamp: new Date().toISOString(),\n            symbol: symbol.toUpperCase(),\n            expiry\n        };\n        await RedisCache.setJson(key, snapshot, ttlSeconds);\n    }\n    /**\n   * Get cached expected move\n   */ static async getExpectedMove(symbol, expiry) {\n        const key = Keys.expectedMoveSnapshot(symbol, expiry);\n        return await RedisCache.getJson(key);\n    }\n    /**\n   * Increment daily visitor count\n   */ static async incrementVisitorCount() {\n        const today = new Date().toISOString().split(\"T\")[0].replace(/-/g, \"\");\n        const key = Keys.dailyVisits(today);\n        // Set TTL to 48 hours (keep yesterday's count available)\n        return await RedisCache.increment(key, 48 * 60 * 60);\n    }\n    /**\n   * Get daily visitor count\n   */ static async getVisitorCount(date) {\n        const targetDate = date || new Date().toISOString().split(\"T\")[0].replace(/-/g, \"\");\n        const key = Keys.dailyVisits(targetDate);\n        if (!redis) return 0; // Return 0 if Redis not configured\n        try {\n            const count = await redis.get(key);\n            return count ? parseInt(count, 10) : 0;\n        } catch (error) {\n            console.error(`Error getting visitor count for ${targetDate}:`, error);\n            return 0;\n        }\n    }\n    /**\n   * Cache IV series data\n   */ static async cacheIVSeries(symbol, data, ttlSeconds = 24 * 60 * 60) {\n        const key = Keys.ivSeries(symbol);\n        await RedisCache.setJson(key, data, ttlSeconds);\n    }\n    /**\n   * Get cached IV series\n   */ static async getIVSeries(symbol) {\n        const key = Keys.ivSeries(symbol);\n        return await RedisCache.getJson(key);\n    }\n    /**\n   * Add symbol to top movers for a date\n   */ static async addTopMover(symbol, expectedMovePct, date) {\n        const targetDate = date || new Date().toISOString().split(\"T\")[0].replace(/-/g, \"\");\n        const key = Keys.topMovers(targetDate);\n        await RedisCache.addToSortedSet(key, expectedMovePct, symbol.toUpperCase(), 24 * 60 * 60 // 24 hour TTL\n        );\n    }\n    /**\n   * Get top movers for a date\n   */ static async getTopMovers(date, count = 10) {\n        const targetDate = date || new Date().toISOString().split(\"T\")[0].replace(/-/g, \"\");\n        const key = Keys.topMovers(targetDate);\n        const result = await RedisCache.getTopFromSortedSet(key, count);\n        return result.map((item)=>({\n                symbol: item.member,\n                expectedMovePct: item.score\n            }));\n    }\n}\n/**\n * Health check for Redis connection\n */ async function checkRedisHealth() {\n    if (!redis) {\n        return {\n            connected: false,\n            error: \"Redis not configured (missing REDIS_URL or REDIS_TOKEN)\"\n        };\n    }\n    try {\n        const start = Date.now();\n        await redis.ping();\n        const latency = Date.now() - start;\n        return {\n            connected: true,\n            latency\n        };\n    } catch (error) {\n        return {\n            connected: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        };\n    }\n}\n/**\n * Utility to format date for Redis keys\n */ function formatDateForKey(date = new Date()) {\n    return date.toISOString().split(\"T\")[0].replace(/-/g, \"\");\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (redis);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2FjaGUvcmVkaXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUVzQztBQUV2QyxxREFBcUQ7QUFDckQsTUFBTUMsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsV0FBVyxHQUMxRCxJQUFJTCxpREFBS0EsQ0FBQztJQUNSTSxLQUFLSixRQUFRQyxHQUFHLENBQUNDLFNBQVM7SUFDMUJHLE9BQU9MLFFBQVFDLEdBQUcsQ0FBQ0UsV0FBVztBQUNoQyxLQUNBO0FBRUo7O0NBRUMsR0FDTSxNQUFNRyxPQUFPO0lBQ2xCLHNEQUFzRDtJQUN0REMsc0JBQXNCLENBQUNDLFFBQWdCQyxTQUNyQyxDQUFDLFFBQVEsRUFBRUQsT0FBT0UsV0FBVyxHQUFHLENBQUMsRUFBRUQsT0FBTyxDQUFDO0lBRTdDLDRDQUE0QztJQUM1Q0UsV0FBVyxDQUFDQyxPQUNWLENBQUMsT0FBTyxFQUFFQSxLQUFLLENBQUM7SUFFbEIsOENBQThDO0lBQzlDQyxVQUFVLENBQUNMLFNBQ1QsQ0FBQyxVQUFVLEVBQUVBLE9BQU9FLFdBQVcsR0FBRyxDQUFDO0lBRXJDLDRDQUE0QztJQUM1Q0ksYUFBYSxDQUFDRixPQUNaLENBQUMsU0FBUyxFQUFFQSxLQUFLLENBQUM7SUFFcEIsaURBQWlEO0lBQ2pERyxjQUFjLENBQUNQLFFBQWdCQyxTQUM3QixDQUFDLE1BQU0sRUFBRUQsT0FBT0UsV0FBVyxHQUFHLENBQUMsRUFBRUQsT0FBTyxDQUFDO0lBRTNDLG9DQUFvQztJQUNwQ08sVUFBVSxDQUFDUixTQUNULENBQUMsU0FBUyxFQUFFQSxPQUFPRSxXQUFXLEdBQUcsQ0FBQztJQUVwQyxrQ0FBa0M7SUFDbENPLGNBQWMsQ0FBQ1QsU0FDYixDQUFDLE9BQU8sRUFBRUEsT0FBT0UsV0FBVyxHQUFHLENBQUM7QUFDcEMsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTVE7SUFDWDs7R0FFQyxHQUNELGFBQWFDLFFBQVdDLEdBQVcsRUFBRUMsSUFBTyxFQUFFQyxhQUFxQixHQUFHLEVBQWlCO1FBQ3JGLElBQUksQ0FBQ3ZCLE9BQU8sUUFBUSwrQkFBK0I7UUFDbkQsSUFBSTtZQUNGLE1BQU1BLE1BQU13QixLQUFLLENBQUNILEtBQUtFLFlBQVlFLEtBQUtDLFNBQVMsQ0FBQ0o7UUFDcEQsRUFBRSxPQUFPSyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLDRCQUE0QixFQUFFTixJQUFJLENBQUMsQ0FBQyxFQUFFTTtRQUNyRCxpREFBaUQ7UUFDbkQ7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYUUsUUFBV1IsR0FBVyxFQUFxQjtRQUN0RCxJQUFJLENBQUNyQixPQUFPLE9BQU8sTUFBTSwrQkFBK0I7UUFDeEQsSUFBSTtZQUNGLE1BQU04QixTQUFTLE1BQU05QixNQUFNK0IsR0FBRyxDQUFDVjtZQUMvQixPQUFPUyxTQUFTTCxLQUFLTyxLQUFLLENBQUNGLFVBQW9CO1FBQ2pELEVBQUUsT0FBT0gsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyw0QkFBNEIsRUFBRU4sSUFBSSxDQUFDLENBQUMsRUFBRU07WUFDckQsT0FBTyxNQUFNLHFCQUFxQjtRQUNwQztJQUNGO0lBRUE7O0dBRUMsR0FDRCxhQUFhTSxVQUFVWixHQUFXLEVBQUVFLFVBQW1CLEVBQW1CO1FBQ3hFLElBQUksQ0FBQ3ZCLE9BQU8sT0FBTyxHQUFHLG1DQUFtQztRQUN6RCxJQUFJO1lBQ0YsTUFBTWtDLFdBQVcsTUFBTWxDLE1BQU1tQyxJQUFJLENBQUNkO1lBRWxDLElBQUlFLGNBQWNXLGFBQWEsR0FBRztnQkFDaEMsd0RBQXdEO2dCQUN4RCxNQUFNbEMsTUFBTW9DLE1BQU0sQ0FBQ2YsS0FBS0U7WUFDMUI7WUFFQSxPQUFPVztRQUNULEVBQUUsT0FBT1AsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyw4QkFBOEIsRUFBRU4sSUFBSSxDQUFDLENBQUMsRUFBRU07WUFDdkQsT0FBTyxHQUFHLG9CQUFvQjtRQUNoQztJQUNGO0lBRUE7O0dBRUMsR0FDRCxhQUFhVSxlQUFlaEIsR0FBVyxFQUFFaUIsS0FBYSxFQUFFQyxNQUFjLEVBQUVoQixVQUFtQixFQUFpQjtRQUMxRyxJQUFJLENBQUN2QixPQUFPLFFBQVEsK0JBQStCO1FBQ25ELElBQUk7WUFDRixNQUFNQSxNQUFNd0MsSUFBSSxDQUFDbkIsS0FBSztnQkFBRWlCO2dCQUFPQztZQUFPO1lBRXRDLElBQUloQixZQUFZO2dCQUNkLE1BQU12QixNQUFNb0MsTUFBTSxDQUFDZixLQUFLRTtZQUMxQjtRQUNGLEVBQUUsT0FBT0ksT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyx5QkFBeUIsRUFBRU4sSUFBSSxDQUFDLENBQUMsRUFBRU07UUFDbEQsbUNBQW1DO1FBQ3JDO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGFBQWFjLG9CQUFvQnBCLEdBQVcsRUFBRXFCLFFBQWdCLEVBQUUsRUFHNUQ7UUFDRixJQUFJLENBQUMxQyxPQUFPLE9BQU8sRUFBRSxFQUFFLDZDQUE2QztRQUNwRSxJQUFJO1lBQ0YsTUFBTThCLFNBQVMsTUFBTTlCLE1BQU0yQyxNQUFNLENBQUN0QixLQUFLLEdBQUdxQixRQUFRLEdBQUc7Z0JBQ25ERSxLQUFLO2dCQUNMQyxZQUFZO1lBQ2Q7WUFFQSxnQ0FBZ0M7WUFDaEMsTUFBTUMsUUFBa0QsRUFBRTtZQUMxRCxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSWpCLE9BQU9rQixNQUFNLEVBQUVELEtBQUssRUFBRztnQkFDekNELE1BQU1HLElBQUksQ0FBQztvQkFDVFYsUUFBUVQsTUFBTSxDQUFDaUIsRUFBRTtvQkFDakJULE9BQU9SLE1BQU0sQ0FBQ2lCLElBQUksRUFBRTtnQkFDdEI7WUFDRjtZQUVBLE9BQU9EO1FBQ1QsRUFBRSxPQUFPbkIsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQywyQkFBMkIsRUFBRU4sSUFBSSxDQUFDLENBQUMsRUFBRU07WUFDcEQsT0FBTyxFQUFFLEVBQUUsOEJBQThCO1FBQzNDO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGFBQWF1QixPQUFPN0IsR0FBVyxFQUFpQjtRQUM5QyxJQUFJLENBQUNyQixPQUFPLFFBQVEsK0JBQStCO1FBQ25ELElBQUk7WUFDRixNQUFNQSxNQUFNbUQsR0FBRyxDQUFDOUI7UUFDbEIsRUFBRSxPQUFPTSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLDJCQUEyQixFQUFFTixJQUFJLENBQUMsQ0FBQyxFQUFFTTtRQUNwRCxtQ0FBbUM7UUFDckM7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYXlCLE9BQU8vQixHQUFXLEVBQW9CO1FBQ2pELElBQUksQ0FBQ3JCLE9BQU8sT0FBTyxPQUFPLHVDQUF1QztRQUNqRSxJQUFJO1lBQ0YsTUFBTThCLFNBQVMsTUFBTTlCLE1BQU1vRCxNQUFNLENBQUMvQjtZQUNsQyxPQUFPUyxXQUFXO1FBQ3BCLEVBQUUsT0FBT0gsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQywyQkFBMkIsRUFBRU4sSUFBSSxDQUFDLENBQUMsRUFBRU07WUFDcEQsT0FBTztRQUNUO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELGFBQWEwQixPQUFPaEMsR0FBVyxFQUFtQjtRQUNoRCxJQUFJLENBQUNyQixPQUFPLE9BQU8sQ0FBQyxHQUFHLG9DQUFvQztRQUMzRCxJQUFJO1lBQ0YsT0FBTyxNQUFNQSxNQUFNc0QsR0FBRyxDQUFDakM7UUFDekIsRUFBRSxPQUFPTSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLHdCQUF3QixFQUFFTixJQUFJLENBQUMsQ0FBQyxFQUFFTTtZQUNqRCxPQUFPLENBQUM7UUFDVjtJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLE1BQU00QjtJQUNYOztHQUVDLEdBQ0QsYUFBYUMsa0JBQ1gvQyxNQUFjLEVBQ2RDLE1BQWMsRUFDZFksSUFBUyxFQUNUQyxhQUFxQixHQUFHLEVBQ1Q7UUFDZixNQUFNRixNQUFNZCxLQUFLQyxvQkFBb0IsQ0FBQ0MsUUFBUUM7UUFDOUMsTUFBTStDLFdBQVc7WUFDZixHQUFHbkMsSUFBSTtZQUNQb0MsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDbkQsUUFBUUEsT0FBT0UsV0FBVztZQUMxQkQ7UUFDRjtRQUVBLE1BQU1TLFdBQVdDLE9BQU8sQ0FBQ0MsS0FBS29DLFVBQVVsQztJQUMxQztJQUVBOztHQUVDLEdBQ0QsYUFBYXNDLGdCQUFnQnBELE1BQWMsRUFBRUMsTUFBYyxFQUF1QjtRQUNoRixNQUFNVyxNQUFNZCxLQUFLQyxvQkFBb0IsQ0FBQ0MsUUFBUUM7UUFDOUMsT0FBTyxNQUFNUyxXQUFXVSxPQUFPLENBQUNSO0lBQ2xDO0lBRUE7O0dBRUMsR0FDRCxhQUFheUMsd0JBQXlDO1FBQ3BELE1BQU1DLFFBQVEsSUFBSUosT0FBT0MsV0FBVyxHQUFHSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDLE1BQU07UUFDbkUsTUFBTTVDLE1BQU1kLEtBQUtRLFdBQVcsQ0FBQ2dEO1FBRTdCLHlEQUF5RDtRQUN6RCxPQUFPLE1BQU01QyxXQUFXYyxTQUFTLENBQUNaLEtBQUssS0FBSyxLQUFLO0lBQ25EO0lBRUE7O0dBRUMsR0FDRCxhQUFhNkMsZ0JBQWdCckQsSUFBYSxFQUFtQjtRQUMzRCxNQUFNc0QsYUFBYXRELFFBQVEsSUFBSThDLE9BQU9DLFdBQVcsR0FBR0ksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQyxNQUFNO1FBQ2hGLE1BQU01QyxNQUFNZCxLQUFLUSxXQUFXLENBQUNvRDtRQUU3QixJQUFJLENBQUNuRSxPQUFPLE9BQU8sR0FBRyxtQ0FBbUM7UUFDekQsSUFBSTtZQUNGLE1BQU0wQyxRQUFRLE1BQU0xQyxNQUFNK0IsR0FBRyxDQUFDVjtZQUM5QixPQUFPcUIsUUFBUTBCLFNBQVMxQixPQUFpQixNQUFNO1FBQ2pELEVBQUUsT0FBT2YsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRXdDLFdBQVcsQ0FBQyxDQUFDLEVBQUV4QztZQUNoRSxPQUFPO1FBQ1Q7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYTBDLGNBQWM1RCxNQUFjLEVBQUVhLElBQVcsRUFBRUMsYUFBcUIsS0FBSyxLQUFLLEVBQUUsRUFBaUI7UUFDeEcsTUFBTUYsTUFBTWQsS0FBS08sUUFBUSxDQUFDTDtRQUMxQixNQUFNVSxXQUFXQyxPQUFPLENBQUNDLEtBQUtDLE1BQU1DO0lBQ3RDO0lBRUE7O0dBRUMsR0FDRCxhQUFhK0MsWUFBWTdELE1BQWMsRUFBeUI7UUFDOUQsTUFBTVksTUFBTWQsS0FBS08sUUFBUSxDQUFDTDtRQUMxQixPQUFPLE1BQU1VLFdBQVdVLE9BQU8sQ0FBQ1I7SUFDbEM7SUFFQTs7R0FFQyxHQUNELGFBQWFrRCxZQUNYOUQsTUFBYyxFQUNkK0QsZUFBdUIsRUFDdkIzRCxJQUFhLEVBQ0U7UUFDZixNQUFNc0QsYUFBYXRELFFBQVEsSUFBSThDLE9BQU9DLFdBQVcsR0FBR0ksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQyxNQUFNO1FBQ2hGLE1BQU01QyxNQUFNZCxLQUFLSyxTQUFTLENBQUN1RDtRQUUzQixNQUFNaEQsV0FBV2tCLGNBQWMsQ0FDN0JoQixLQUNBbUQsaUJBQ0EvRCxPQUFPRSxXQUFXLElBQ2xCLEtBQUssS0FBSyxHQUFHLGNBQWM7O0lBRS9CO0lBRUE7O0dBRUMsR0FDRCxhQUFhOEQsYUFBYTVELElBQWEsRUFBRTZCLFFBQWdCLEVBQUUsRUFHdkQ7UUFDRixNQUFNeUIsYUFBYXRELFFBQVEsSUFBSThDLE9BQU9DLFdBQVcsR0FBR0ksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQyxNQUFNO1FBQ2hGLE1BQU01QyxNQUFNZCxLQUFLSyxTQUFTLENBQUN1RDtRQUUzQixNQUFNckMsU0FBUyxNQUFNWCxXQUFXc0IsbUJBQW1CLENBQUNwQixLQUFLcUI7UUFFekQsT0FBT1osT0FBTzRDLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUztnQkFDekJsRSxRQUFRa0UsS0FBS3BDLE1BQU07Z0JBQ25CaUMsaUJBQWlCRyxLQUFLckMsS0FBSztZQUM3QjtJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVzQztJQUtwQixJQUFJLENBQUM1RSxPQUFPO1FBQ1YsT0FBTztZQUNMNkUsV0FBVztZQUNYbEQsT0FBTztRQUNUO0lBQ0Y7SUFDQSxJQUFJO1FBQ0YsTUFBTW1ELFFBQVFuQixLQUFLb0IsR0FBRztRQUN0QixNQUFNL0UsTUFBTWdGLElBQUk7UUFDaEIsTUFBTUMsVUFBVXRCLEtBQUtvQixHQUFHLEtBQUtEO1FBRTdCLE9BQU87WUFDTEQsV0FBVztZQUNYSTtRQUNGO0lBQ0YsRUFBRSxPQUFPdEQsT0FBTztRQUNkLE9BQU87WUFDTGtELFdBQVc7WUFDWGxELE9BQU9BLGlCQUFpQnVELFFBQVF2RCxNQUFNd0QsT0FBTyxHQUFHO1FBQ2xEO0lBQ0Y7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0MsaUJBQWlCdkUsT0FBYSxJQUFJOEMsTUFBTTtJQUN0RCxPQUFPOUMsS0FBSytDLFdBQVcsR0FBR0ksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQyxNQUFNO0FBQ3hEO0FBRUEsaUVBQWVqRSxLQUFLQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhbnRpdi8uL2xpYi9jYWNoZS9yZWRpcy50cz8xNzBmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVkaXMgQ2xpZW50IFdyYXBwZXIgZm9yIFVwc3Rhc2hcbiAqIFByb3ZpZGVzIGNhY2hpbmcgdXRpbGl0aWVzIGFuZCBrZXkgYnVpbGRlcnMgZm9yIFF1YW50aXZcbiAqL1xuXG5pbXBvcnQgeyBSZWRpcyB9IGZyb20gJ0B1cHN0YXNoL3JlZGlzJztcblxuLy8gSW5pdGlhbGl6ZSBSZWRpcyBjbGllbnQgLSBkaXNhYmxlZCBmb3IgZGV2ZWxvcG1lbnRcbmNvbnN0IHJlZGlzID0gcHJvY2Vzcy5lbnYuUkVESVNfVVJMICYmIHByb2Nlc3MuZW52LlJFRElTX1RPS0VOIFxuICA/IG5ldyBSZWRpcyh7XG4gICAgICB1cmw6IHByb2Nlc3MuZW52LlJFRElTX1VSTCxcbiAgICAgIHRva2VuOiBwcm9jZXNzLmVudi5SRURJU19UT0tFTixcbiAgICB9KVxuICA6IG51bGw7XG5cbi8qKlxuICogUmVkaXMga2V5IGJ1aWxkZXJzIGZvbGxvd2luZyBRdWFudGl2J3MgbmFtaW5nIGNvbnZlbnRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IEtleXMgPSB7XG4gIC8vIEV4cGVjdGVkIG1vdmUgc25hcHNob3Q6IGVtOnNuYXA6JHtzeW1ib2x9OiR7ZXhwaXJ5fVxuICBleHBlY3RlZE1vdmVTbmFwc2hvdDogKHN5bWJvbDogc3RyaW5nLCBleHBpcnk6IHN0cmluZykgPT4gXG4gICAgYGVtOnNuYXA6JHtzeW1ib2wudG9VcHBlckNhc2UoKX06JHtleHBpcnl9YCxcbiAgXG4gIC8vIFRvcCBtb3ZlcnMgZm9yIGEgZGF0ZTogZW06dG9wOiR7WVlZWU1NRER9XG4gIHRvcE1vdmVyczogKGRhdGU6IHN0cmluZykgPT4gXG4gICAgYGVtOnRvcDoke2RhdGV9YCxcbiAgXG4gIC8vIElWIHNlcmllcyBmb3IgYSBzeW1ib2w6IGl2OnNlcmllczoke3N5bWJvbH1cbiAgaXZTZXJpZXM6IChzeW1ib2w6IHN0cmluZykgPT4gXG4gICAgYGl2OnNlcmllczoke3N5bWJvbC50b1VwcGVyQ2FzZSgpfWAsXG4gIFxuICAvLyBEYWlseSB2aXNpdG9yIGNvdW50OiBkOnZpc2l0czoke1lZWVlNTUREfVxuICBkYWlseVZpc2l0czogKGRhdGU6IHN0cmluZykgPT4gXG4gICAgYGQ6dmlzaXRzOiR7ZGF0ZX1gLFxuICBcbiAgLy8gT3B0aW9ucyBjaGFpbiBjYWNoZTogY2hhaW46JHtzeW1ib2x9OiR7ZXhwaXJ5fVxuICBvcHRpb25zQ2hhaW46IChzeW1ib2w6IHN0cmluZywgZXhwaXJ5OiBzdHJpbmcpID0+IFxuICAgIGBjaGFpbjoke3N5bWJvbC50b1VwcGVyQ2FzZSgpfToke2V4cGlyeX1gLFxuICBcbiAgLy8gRWFybmluZ3MgZGF0YTogZWFybmluZ3M6JHtzeW1ib2x9XG4gIGVhcm5pbmdzOiAoc3ltYm9sOiBzdHJpbmcpID0+IFxuICAgIGBlYXJuaW5nczoke3N5bWJvbC50b1VwcGVyQ2FzZSgpfWAsXG4gIFxuICAvLyBQcmljZSBoaXN0b3J5OiBwcmljZXM6JHtzeW1ib2x9XG4gIHByaWNlSGlzdG9yeTogKHN5bWJvbDogc3RyaW5nKSA9PiBcbiAgICBgcHJpY2VzOiR7c3ltYm9sLnRvVXBwZXJDYXNlKCl9YCxcbn07XG5cbi8qKlxuICogR2VuZXJpYyBKU09OIGNhY2hlIG9wZXJhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlZGlzQ2FjaGUge1xuICAvKipcbiAgICogU2V0IEpTT04gZGF0YSB3aXRoIFRUTFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIHNldEpzb248VD4oa2V5OiBzdHJpbmcsIGRhdGE6IFQsIHR0bFNlY29uZHM6IG51bWJlciA9IDEyMCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghcmVkaXMpIHJldHVybjsgLy8gU2tpcCBpZiBSZWRpcyBub3QgY29uZmlndXJlZFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCByZWRpcy5zZXRleChrZXksIHR0bFNlY29uZHMsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgc2V0SnNvbiBlcnJvciBmb3Iga2V5ICR7a2V5fTpgLCBlcnJvcik7XG4gICAgICAvLyBEb24ndCB0aHJvdyAtIGRlZ3JhZGUgZ3JhY2VmdWxseSB3aXRob3V0IGNhY2hlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBKU09OIGRhdGFcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRKc29uPFQ+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIGlmICghcmVkaXMpIHJldHVybiBudWxsOyAvLyBTa2lwIGlmIFJlZGlzIG5vdCBjb25maWd1cmVkXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZGlzLmdldChrZXkpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0IGFzIHN0cmluZykgOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBSZWRpcyBnZXRKc29uIGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsOyAvLyBEZWdyYWRlIGdyYWNlZnVsbHlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVtZW50IGNvdW50ZXIgYW5kIHJldHVybiBuZXcgdmFsdWVcbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbmNyZW1lbnQoa2V5OiBzdHJpbmcsIHR0bFNlY29uZHM/OiBudW1iZXIpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGlmICghcmVkaXMpIHJldHVybiAxOyAvLyBSZXR1cm4gMSBpZiBSZWRpcyBub3QgY29uZmlndXJlZFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IGF3YWl0IHJlZGlzLmluY3Ioa2V5KTtcbiAgICAgIFxuICAgICAgaWYgKHR0bFNlY29uZHMgJiYgbmV3VmFsdWUgPT09IDEpIHtcbiAgICAgICAgLy8gU2V0IFRUTCBvbmx5IG9uIGZpcnN0IGluY3JlbWVudCAod2hlbiBrZXkgaXMgY3JlYXRlZClcbiAgICAgICAgYXdhaXQgcmVkaXMuZXhwaXJlKGtleSwgdHRsU2Vjb25kcyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgaW5jcmVtZW50IGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiAwOyAvLyBSZXR1cm4gMCBvbiBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdG8gc29ydGVkIHNldCAoZm9yIHRvcCBtb3ZlcnMpXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgYWRkVG9Tb3J0ZWRTZXQoa2V5OiBzdHJpbmcsIHNjb3JlOiBudW1iZXIsIG1lbWJlcjogc3RyaW5nLCB0dGxTZWNvbmRzPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFyZWRpcykgcmV0dXJuOyAvLyBTa2lwIGlmIFJlZGlzIG5vdCBjb25maWd1cmVkXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHJlZGlzLnphZGQoa2V5LCB7IHNjb3JlLCBtZW1iZXIgfSk7XG4gICAgICBcbiAgICAgIGlmICh0dGxTZWNvbmRzKSB7XG4gICAgICAgIGF3YWl0IHJlZGlzLmV4cGlyZShrZXksIHR0bFNlY29uZHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBSZWRpcyB6YWRkIGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IC0gZGVncmFkZSBncmFjZWZ1bGx5XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0b3AgTiBtZW1iZXJzIGZyb20gc29ydGVkIHNldCAoZGVzY2VuZGluZyBvcmRlcilcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRUb3BGcm9tU29ydGVkU2V0KGtleTogc3RyaW5nLCBjb3VudDogbnVtYmVyID0gMTApOiBQcm9taXNlPEFycmF5PHtcbiAgICBtZW1iZXI6IHN0cmluZztcbiAgICBzY29yZTogbnVtYmVyO1xuICB9Pj4ge1xuICAgIGlmICghcmVkaXMpIHJldHVybiBbXTsgLy8gUmV0dXJuIGVtcHR5IGFycmF5IGlmIFJlZGlzIG5vdCBjb25maWd1cmVkXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZGlzLnpyYW5nZShrZXksIDAsIGNvdW50IC0gMSwgeyBcbiAgICAgICAgcmV2OiB0cnVlLCBcbiAgICAgICAgd2l0aFNjb3JlczogdHJ1ZSBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDb252ZXJ0IGZsYXQgYXJyYXkgdG8gb2JqZWN0c1xuICAgICAgY29uc3QgaXRlbXM6IEFycmF5PHsgbWVtYmVyOiBzdHJpbmc7IHNjb3JlOiBudW1iZXIgfT4gPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgIG1lbWJlcjogcmVzdWx0W2ldIGFzIHN0cmluZyxcbiAgICAgICAgICBzY29yZTogcmVzdWx0W2kgKyAxXSBhcyBudW1iZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgenJhbmdlIGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTsgLy8gUmV0dXJuIGVtcHR5IGFycmF5IG9uIGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGtleVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghcmVkaXMpIHJldHVybjsgLy8gU2tpcCBpZiBSZWRpcyBub3QgY29uZmlndXJlZFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCByZWRpcy5kZWwoa2V5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgZGVsZXRlIGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IC0gZGVncmFkZSBncmFjZWZ1bGx5XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGtleSBleGlzdHNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBleGlzdHMoa2V5OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIXJlZGlzKSByZXR1cm4gZmFsc2U7IC8vIFJldHVybiBmYWxzZSBpZiBSZWRpcyBub3QgY29uZmlndXJlZFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWRpcy5leGlzdHMoa2V5KTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IDE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFJlZGlzIGV4aXN0cyBlcnJvciBmb3Iga2V5ICR7a2V5fTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBUVEwgZm9yIGEga2V5XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0VFRMKGtleTogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBpZiAoIXJlZGlzKSByZXR1cm4gLTE7IC8vIFJldHVybiAtMSBpZiBSZWRpcyBub3QgY29uZmlndXJlZFxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVkaXMudHRsKGtleSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFJlZGlzIFRUTCBlcnJvciBmb3Iga2V5ICR7a2V5fTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU3BlY2lhbGl6ZWQgY2FjaGUgb3BlcmF0aW9ucyBmb3IgUXVhbnRpdlxuICovXG5leHBvcnQgY2xhc3MgUXVhbnRpdkNhY2hlIHtcbiAgLyoqXG4gICAqIENhY2hlIGV4cGVjdGVkIG1vdmUgc25hcHNob3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjYWNoZUV4cGVjdGVkTW92ZShcbiAgICBzeW1ib2w6IHN0cmluZywgXG4gICAgZXhwaXJ5OiBzdHJpbmcsIFxuICAgIGRhdGE6IGFueSwgXG4gICAgdHRsU2Vjb25kczogbnVtYmVyID0gMTIwXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGtleSA9IEtleXMuZXhwZWN0ZWRNb3ZlU25hcHNob3Qoc3ltYm9sLCBleHBpcnkpO1xuICAgIGNvbnN0IHNuYXBzaG90ID0ge1xuICAgICAgLi4uZGF0YSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3ltYm9sOiBzeW1ib2wudG9VcHBlckNhc2UoKSxcbiAgICAgIGV4cGlyeVxuICAgIH07XG4gICAgXG4gICAgYXdhaXQgUmVkaXNDYWNoZS5zZXRKc29uKGtleSwgc25hcHNob3QsIHR0bFNlY29uZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYWNoZWQgZXhwZWN0ZWQgbW92ZVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEV4cGVjdGVkTW92ZShzeW1ib2w6IHN0cmluZywgZXhwaXJ5OiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcbiAgICBjb25zdCBrZXkgPSBLZXlzLmV4cGVjdGVkTW92ZVNuYXBzaG90KHN5bWJvbCwgZXhwaXJ5KTtcbiAgICByZXR1cm4gYXdhaXQgUmVkaXNDYWNoZS5nZXRKc29uKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVtZW50IGRhaWx5IHZpc2l0b3IgY291bnRcbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbmNyZW1lbnRWaXNpdG9yQ291bnQoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLnJlcGxhY2UoLy0vZywgJycpO1xuICAgIGNvbnN0IGtleSA9IEtleXMuZGFpbHlWaXNpdHModG9kYXkpO1xuICAgIFxuICAgIC8vIFNldCBUVEwgdG8gNDggaG91cnMgKGtlZXAgeWVzdGVyZGF5J3MgY291bnQgYXZhaWxhYmxlKVxuICAgIHJldHVybiBhd2FpdCBSZWRpc0NhY2hlLmluY3JlbWVudChrZXksIDQ4ICogNjAgKiA2MCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhaWx5IHZpc2l0b3IgY291bnRcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRWaXNpdG9yQ291bnQoZGF0ZT86IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGRhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0ucmVwbGFjZSgvLS9nLCAnJyk7XG4gICAgY29uc3Qga2V5ID0gS2V5cy5kYWlseVZpc2l0cyh0YXJnZXREYXRlKTtcbiAgICBcbiAgICBpZiAoIXJlZGlzKSByZXR1cm4gMDsgLy8gUmV0dXJuIDAgaWYgUmVkaXMgbm90IGNvbmZpZ3VyZWRcbiAgICB0cnkge1xuICAgICAgY29uc3QgY291bnQgPSBhd2FpdCByZWRpcy5nZXQoa2V5KTtcbiAgICAgIHJldHVybiBjb3VudCA/IHBhcnNlSW50KGNvdW50IGFzIHN0cmluZywgMTApIDogMDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyB2aXNpdG9yIGNvdW50IGZvciAke3RhcmdldERhdGV9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBJViBzZXJpZXMgZGF0YVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNhY2hlSVZTZXJpZXMoc3ltYm9sOiBzdHJpbmcsIGRhdGE6IGFueVtdLCB0dGxTZWNvbmRzOiBudW1iZXIgPSAyNCAqIDYwICogNjApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBrZXkgPSBLZXlzLml2U2VyaWVzKHN5bWJvbCk7XG4gICAgYXdhaXQgUmVkaXNDYWNoZS5zZXRKc29uKGtleSwgZGF0YSwgdHRsU2Vjb25kcyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNhY2hlZCBJViBzZXJpZXNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRJVlNlcmllcyhzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8YW55W10gfCBudWxsPiB7XG4gICAgY29uc3Qga2V5ID0gS2V5cy5pdlNlcmllcyhzeW1ib2wpO1xuICAgIHJldHVybiBhd2FpdCBSZWRpc0NhY2hlLmdldEpzb24oa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgc3ltYm9sIHRvIHRvcCBtb3ZlcnMgZm9yIGEgZGF0ZVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGFkZFRvcE1vdmVyKFxuICAgIHN5bWJvbDogc3RyaW5nLCBcbiAgICBleHBlY3RlZE1vdmVQY3Q6IG51bWJlciwgXG4gICAgZGF0ZT86IHN0cmluZ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0YXJnZXREYXRlID0gZGF0ZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXS5yZXBsYWNlKC8tL2csICcnKTtcbiAgICBjb25zdCBrZXkgPSBLZXlzLnRvcE1vdmVycyh0YXJnZXREYXRlKTtcbiAgICBcbiAgICBhd2FpdCBSZWRpc0NhY2hlLmFkZFRvU29ydGVkU2V0KFxuICAgICAga2V5LCBcbiAgICAgIGV4cGVjdGVkTW92ZVBjdCwgXG4gICAgICBzeW1ib2wudG9VcHBlckNhc2UoKSwgXG4gICAgICAyNCAqIDYwICogNjAgLy8gMjQgaG91ciBUVExcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0b3AgbW92ZXJzIGZvciBhIGRhdGVcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRUb3BNb3ZlcnMoZGF0ZT86IHN0cmluZywgY291bnQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxBcnJheTx7XG4gICAgc3ltYm9sOiBzdHJpbmc7XG4gICAgZXhwZWN0ZWRNb3ZlUGN0OiBudW1iZXI7XG4gIH0+PiB7XG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGRhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0ucmVwbGFjZSgvLS9nLCAnJyk7XG4gICAgY29uc3Qga2V5ID0gS2V5cy50b3BNb3ZlcnModGFyZ2V0RGF0ZSk7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVkaXNDYWNoZS5nZXRUb3BGcm9tU29ydGVkU2V0KGtleSwgY291bnQpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHQubWFwKGl0ZW0gPT4gKHtcbiAgICAgIHN5bWJvbDogaXRlbS5tZW1iZXIsXG4gICAgICBleHBlY3RlZE1vdmVQY3Q6IGl0ZW0uc2NvcmVcbiAgICB9KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBIZWFsdGggY2hlY2sgZm9yIFJlZGlzIGNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrUmVkaXNIZWFsdGgoKTogUHJvbWlzZTx7XG4gIGNvbm5lY3RlZDogYm9vbGVhbjtcbiAgbGF0ZW5jeT86IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIGlmICghcmVkaXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnUmVkaXMgbm90IGNvbmZpZ3VyZWQgKG1pc3NpbmcgUkVESVNfVVJMIG9yIFJFRElTX1RPS0VOKSdcbiAgICB9O1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGF3YWl0IHJlZGlzLnBpbmcoKTtcbiAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICBsYXRlbmN5XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IHRvIGZvcm1hdCBkYXRlIGZvciBSZWRpcyBrZXlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlRm9yS2V5KGRhdGU6IERhdGUgPSBuZXcgRGF0ZSgpKTogc3RyaW5nIHtcbiAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLnJlcGxhY2UoLy0vZywgJycpO1xufVxuXG5leHBvcnQgZGVmYXVsdCByZWRpcztcbiJdLCJuYW1lcyI6WyJSZWRpcyIsInJlZGlzIiwicHJvY2VzcyIsImVudiIsIlJFRElTX1VSTCIsIlJFRElTX1RPS0VOIiwidXJsIiwidG9rZW4iLCJLZXlzIiwiZXhwZWN0ZWRNb3ZlU25hcHNob3QiLCJzeW1ib2wiLCJleHBpcnkiLCJ0b1VwcGVyQ2FzZSIsInRvcE1vdmVycyIsImRhdGUiLCJpdlNlcmllcyIsImRhaWx5VmlzaXRzIiwib3B0aW9uc0NoYWluIiwiZWFybmluZ3MiLCJwcmljZUhpc3RvcnkiLCJSZWRpc0NhY2hlIiwic2V0SnNvbiIsImtleSIsImRhdGEiLCJ0dGxTZWNvbmRzIiwic2V0ZXgiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0SnNvbiIsInJlc3VsdCIsImdldCIsInBhcnNlIiwiaW5jcmVtZW50IiwibmV3VmFsdWUiLCJpbmNyIiwiZXhwaXJlIiwiYWRkVG9Tb3J0ZWRTZXQiLCJzY29yZSIsIm1lbWJlciIsInphZGQiLCJnZXRUb3BGcm9tU29ydGVkU2V0IiwiY291bnQiLCJ6cmFuZ2UiLCJyZXYiLCJ3aXRoU2NvcmVzIiwiaXRlbXMiLCJpIiwibGVuZ3RoIiwicHVzaCIsImRlbGV0ZSIsImRlbCIsImV4aXN0cyIsImdldFRUTCIsInR0bCIsIlF1YW50aXZDYWNoZSIsImNhY2hlRXhwZWN0ZWRNb3ZlIiwic25hcHNob3QiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZXRFeHBlY3RlZE1vdmUiLCJpbmNyZW1lbnRWaXNpdG9yQ291bnQiLCJ0b2RheSIsInNwbGl0IiwicmVwbGFjZSIsImdldFZpc2l0b3JDb3VudCIsInRhcmdldERhdGUiLCJwYXJzZUludCIsImNhY2hlSVZTZXJpZXMiLCJnZXRJVlNlcmllcyIsImFkZFRvcE1vdmVyIiwiZXhwZWN0ZWRNb3ZlUGN0IiwiZ2V0VG9wTW92ZXJzIiwibWFwIiwiaXRlbSIsImNoZWNrUmVkaXNIZWFsdGgiLCJjb25uZWN0ZWQiLCJzdGFydCIsIm5vdyIsInBpbmciLCJsYXRlbmN5IiwiRXJyb3IiLCJtZXNzYWdlIiwiZm9ybWF0RGF0ZUZvcktleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/cache/redis.ts\n");

/***/ }),

/***/ "(rsc)/./lib/data/sp500Service.ts":
/*!**********************************!*\
  !*** ./lib/data/sp500Service.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchHybridQuoteData: () => (/* binding */ fetchHybridQuoteData),\n/* harmony export */   fetchLiveQuoteData: () => (/* binding */ fetchLiveQuoteData),\n/* harmony export */   getAllSP500Companies: () => (/* binding */ getAllSP500Companies),\n/* harmony export */   getPopularSP500Stocks: () => (/* binding */ getPopularSP500Stocks),\n/* harmony export */   searchSP500Companies: () => (/* binding */ searchSP500Companies),\n/* harmony export */   sp500DataService: () => (/* binding */ sp500DataService)\n/* harmony export */ });\n/* harmony import */ var yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! yahoo-finance2 */ \"(rsc)/./node_modules/yahoo-finance2/dist/esm/src/index-node.js\");\n/**\n * S&P 500 Data Service\n * Provides real S&P 500 company data and integrates with Yahoo Finance for live market data\n */ \n// Real S&P 500 companies (subset for initial implementation)\nconst SP500_COMPANIES = [\n    // Technology\n    {\n        symbol: \"AAPL\",\n        name: \"Apple Inc.\",\n        sector: \"Technology\",\n        industry: \"Consumer Electronics\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"MSFT\",\n        name: \"Microsoft Corporation\",\n        sector: \"Technology\",\n        industry: \"Software\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"GOOGL\",\n        name: \"Alphabet Inc. Class A\",\n        sector: \"Technology\",\n        industry: \"Internet Services\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"GOOG\",\n        name: \"Alphabet Inc. Class C\",\n        sector: \"Technology\",\n        industry: \"Internet Services\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"AMZN\",\n        name: \"Amazon.com Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"E-commerce\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"TSLA\",\n        name: \"Tesla Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Electric Vehicles\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"META\",\n        name: \"Meta Platforms Inc.\",\n        sector: \"Technology\",\n        industry: \"Social Media\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"NVDA\",\n        name: \"NVIDIA Corporation\",\n        sector: \"Technology\",\n        industry: \"Semiconductors\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"NFLX\",\n        name: \"Netflix Inc.\",\n        sector: \"Communication Services\",\n        industry: \"Streaming\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"AMD\",\n        name: \"Advanced Micro Devices Inc.\",\n        sector: \"Technology\",\n        industry: \"Semiconductors\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"CRM\",\n        name: \"Salesforce Inc.\",\n        sector: \"Technology\",\n        industry: \"Cloud Software\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"ORCL\",\n        name: \"Oracle Corporation\",\n        sector: \"Technology\",\n        industry: \"Database Software\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"ADBE\",\n        name: \"Adobe Inc.\",\n        sector: \"Technology\",\n        industry: \"Software\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"INTC\",\n        name: \"Intel Corporation\",\n        sector: \"Technology\",\n        industry: \"Semiconductors\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"CSCO\",\n        name: \"Cisco Systems Inc.\",\n        sector: \"Technology\",\n        industry: \"Networking\",\n        exchange: \"NASDAQ\"\n    },\n    // Financial Services\n    {\n        symbol: \"JPM\",\n        name: \"JPMorgan Chase & Co.\",\n        sector: \"Financial Services\",\n        industry: \"Banking\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"BAC\",\n        name: \"Bank of America Corporation\",\n        sector: \"Financial Services\",\n        industry: \"Banking\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"WFC\",\n        name: \"Wells Fargo & Company\",\n        sector: \"Financial Services\",\n        industry: \"Banking\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"GS\",\n        name: \"Goldman Sachs Group Inc.\",\n        sector: \"Financial Services\",\n        industry: \"Investment Banking\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MS\",\n        name: \"Morgan Stanley\",\n        sector: \"Financial Services\",\n        industry: \"Investment Banking\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"V\",\n        name: \"Visa Inc.\",\n        sector: \"Financial Services\",\n        industry: \"Payment Processing\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MA\",\n        name: \"Mastercard Incorporated\",\n        sector: \"Financial Services\",\n        industry: \"Payment Processing\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"PYPL\",\n        name: \"PayPal Holdings Inc.\",\n        sector: \"Financial Services\",\n        industry: \"Digital Payments\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"AXP\",\n        name: \"American Express Company\",\n        sector: \"Financial Services\",\n        industry: \"Credit Services\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"BLK\",\n        name: \"BlackRock Inc.\",\n        sector: \"Financial Services\",\n        industry: \"Asset Management\",\n        exchange: \"NYSE\"\n    },\n    // Healthcare\n    {\n        symbol: \"UNH\",\n        name: \"UnitedHealth Group Incorporated\",\n        sector: \"Healthcare\",\n        industry: \"Health Insurance\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"JNJ\",\n        name: \"Johnson & Johnson\",\n        sector: \"Healthcare\",\n        industry: \"Pharmaceuticals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"PFE\",\n        name: \"Pfizer Inc.\",\n        sector: \"Healthcare\",\n        industry: \"Pharmaceuticals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"ABBV\",\n        name: \"AbbVie Inc.\",\n        sector: \"Healthcare\",\n        industry: \"Pharmaceuticals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"TMO\",\n        name: \"Thermo Fisher Scientific Inc.\",\n        sector: \"Healthcare\",\n        industry: \"Life Sciences\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"ABT\",\n        name: \"Abbott Laboratories\",\n        sector: \"Healthcare\",\n        industry: \"Medical Devices\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"CVS\",\n        name: \"CVS Health Corporation\",\n        sector: \"Healthcare\",\n        industry: \"Healthcare Services\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"LLY\",\n        name: \"Eli Lilly and Company\",\n        sector: \"Healthcare\",\n        industry: \"Pharmaceuticals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MRK\",\n        name: \"Merck & Co. Inc.\",\n        sector: \"Healthcare\",\n        industry: \"Pharmaceuticals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MDT\",\n        name: \"Medtronic plc\",\n        sector: \"Healthcare\",\n        industry: \"Medical Devices\",\n        exchange: \"NYSE\"\n    },\n    // Consumer Discretionary\n    {\n        symbol: \"HD\",\n        name: \"Home Depot Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Home Improvement\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MCD\",\n        name: \"McDonald's Corporation\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Restaurants\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"DIS\",\n        name: \"Walt Disney Company\",\n        sector: \"Communication Services\",\n        industry: \"Entertainment\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"NKE\",\n        name: \"Nike Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Footwear\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"SBUX\",\n        name: \"Starbucks Corporation\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Restaurants\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"LOW\",\n        name: \"Lowe's Companies Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Home Improvement\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"TGT\",\n        name: \"Target Corporation\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Retail\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"BKNG\",\n        name: \"Booking Holdings Inc.\",\n        sector: \"Consumer Discretionary\",\n        industry: \"Travel\",\n        exchange: \"NASDAQ\"\n    },\n    // Consumer Staples\n    {\n        symbol: \"WMT\",\n        name: \"Walmart Inc.\",\n        sector: \"Consumer Staples\",\n        industry: \"Retail\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"PG\",\n        name: \"Procter & Gamble Company\",\n        sector: \"Consumer Staples\",\n        industry: \"Personal Care\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"KO\",\n        name: \"Coca-Cola Company\",\n        sector: \"Consumer Staples\",\n        industry: \"Beverages\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"PEP\",\n        name: \"PepsiCo Inc.\",\n        sector: \"Consumer Staples\",\n        industry: \"Beverages\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"COST\",\n        name: \"Costco Wholesale Corporation\",\n        sector: \"Consumer Staples\",\n        industry: \"Retail\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"WBA\",\n        name: \"Walgreens Boots Alliance Inc.\",\n        sector: \"Consumer Staples\",\n        industry: \"Pharmacy\",\n        exchange: \"NASDAQ\"\n    },\n    // Energy\n    {\n        symbol: \"XOM\",\n        name: \"Exxon Mobil Corporation\",\n        sector: \"Energy\",\n        industry: \"Oil & Gas\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"CVX\",\n        name: \"Chevron Corporation\",\n        sector: \"Energy\",\n        industry: \"Oil & Gas\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"COP\",\n        name: \"ConocoPhillips\",\n        sector: \"Energy\",\n        industry: \"Oil & Gas\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"EOG\",\n        name: \"EOG Resources Inc.\",\n        sector: \"Energy\",\n        industry: \"Oil & Gas\",\n        exchange: \"NYSE\"\n    },\n    // Industrials\n    {\n        symbol: \"BA\",\n        name: \"Boeing Company\",\n        sector: \"Industrials\",\n        industry: \"Aerospace\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"CAT\",\n        name: \"Caterpillar Inc.\",\n        sector: \"Industrials\",\n        industry: \"Heavy Machinery\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"GE\",\n        name: \"General Electric Company\",\n        sector: \"Industrials\",\n        industry: \"Conglomerate\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"MMM\",\n        name: \"3M Company\",\n        sector: \"Industrials\",\n        industry: \"Diversified Manufacturing\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"UPS\",\n        name: \"United Parcel Service Inc.\",\n        sector: \"Industrials\",\n        industry: \"Logistics\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"HON\",\n        name: \"Honeywell International Inc.\",\n        sector: \"Industrials\",\n        industry: \"Aerospace\",\n        exchange: \"NASDAQ\"\n    },\n    // Utilities\n    {\n        symbol: \"NEE\",\n        name: \"NextEra Energy Inc.\",\n        sector: \"Utilities\",\n        industry: \"Electric Utilities\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"DUK\",\n        name: \"Duke Energy Corporation\",\n        sector: \"Utilities\",\n        industry: \"Electric Utilities\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"SO\",\n        name: \"Southern Company\",\n        sector: \"Utilities\",\n        industry: \"Electric Utilities\",\n        exchange: \"NYSE\"\n    },\n    // Real Estate\n    {\n        symbol: \"AMT\",\n        name: \"American Tower Corporation\",\n        sector: \"Real Estate\",\n        industry: \"REITs\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"PLD\",\n        name: \"Prologis Inc.\",\n        sector: \"Real Estate\",\n        industry: \"REITs\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"CCI\",\n        name: \"Crown Castle Inc.\",\n        sector: \"Real Estate\",\n        industry: \"REITs\",\n        exchange: \"NYSE\"\n    },\n    // Materials\n    {\n        symbol: \"LIN\",\n        name: \"Linde plc\",\n        sector: \"Materials\",\n        industry: \"Chemicals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"APD\",\n        name: \"Air Products and Chemicals Inc.\",\n        sector: \"Materials\",\n        industry: \"Chemicals\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"SHW\",\n        name: \"Sherwin-Williams Company\",\n        sector: \"Materials\",\n        industry: \"Chemicals\",\n        exchange: \"NYSE\"\n    },\n    // ETFs (Popular ones that track S&P 500)\n    {\n        symbol: \"SPY\",\n        name: \"SPDR S&P 500 ETF Trust\",\n        sector: \"ETF\",\n        industry: \"Index Fund\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"VOO\",\n        name: \"Vanguard S&P 500 ETF\",\n        sector: \"ETF\",\n        industry: \"Index Fund\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"IVV\",\n        name: \"iShares Core S&P 500 ETF\",\n        sector: \"ETF\",\n        industry: \"Index Fund\",\n        exchange: \"NYSE\"\n    },\n    {\n        symbol: \"QQQ\",\n        name: \"Invesco QQQ Trust ETF\",\n        sector: \"ETF\",\n        industry: \"Tech Index Fund\",\n        exchange: \"NASDAQ\"\n    },\n    {\n        symbol: \"VTI\",\n        name: \"Vanguard Total Stock Market ETF\",\n        sector: \"ETF\",\n        industry: \"Total Market Fund\",\n        exchange: \"NYSE\"\n    }\n];\nclass SP500DataService {\n    constructor(){\n        this.companies = new Map();\n        // Initialize companies map\n        SP500_COMPANIES.forEach((company)=>{\n            this.companies.set(company.symbol, company);\n        });\n    }\n    static getInstance() {\n        if (!SP500DataService.instance) {\n            SP500DataService.instance = new SP500DataService();\n        }\n        return SP500DataService.instance;\n    }\n    // Get all S&P 500 companies\n    getAllCompanies() {\n        return SP500_COMPANIES;\n    }\n    // Get company by symbol\n    getCompany(symbol) {\n        return this.companies.get(symbol.toUpperCase());\n    }\n    // Search companies by symbol or name\n    searchCompanies(query, limit = 10) {\n        const upperQuery = query.toUpperCase();\n        const results = [];\n        for (const company of SP500_COMPANIES){\n            let score = 0;\n            // Exact symbol match gets highest score\n            if (company.symbol === upperQuery) {\n                score = 1000;\n            } else if (company.symbol.startsWith(upperQuery)) {\n                score = 900;\n            } else if (company.symbol.includes(upperQuery)) {\n                score = 800;\n            } else if (company.name.toLowerCase().startsWith(query.toLowerCase())) {\n                score = 700;\n            } else if (company.name.toLowerCase().includes(query.toLowerCase())) {\n                score = 600;\n            } else if (company.sector.toLowerCase().includes(query.toLowerCase())) {\n                score = 500;\n            } else if (company.industry.toLowerCase().includes(query.toLowerCase())) {\n                score = 400;\n            }\n            if (score > 0) {\n                results.push({\n                    company,\n                    score\n                });\n            }\n        }\n        return results.sort((a, b)=>b.score - a.score).slice(0, limit).map((result)=>result.company);\n    }\n    // Get popular/most traded stocks\n    getPopularStocks() {\n        const popularSymbols = [\n            \"SPY\",\n            \"QQQ\",\n            \"AAPL\",\n            \"MSFT\",\n            \"GOOGL\",\n            \"AMZN\",\n            \"TSLA\",\n            \"META\",\n            \"NVDA\",\n            \"NFLX\",\n            \"JPM\",\n            \"V\",\n            \"UNH\",\n            \"HD\",\n            \"PG\",\n            \"JNJ\",\n            \"BAC\",\n            \"XOM\"\n        ];\n        return popularSymbols.map((symbol)=>this.companies.get(symbol)).filter((company)=>company !== undefined);\n    }\n    // Get companies by sector\n    getCompaniesBySector(sector) {\n        return SP500_COMPANIES.filter((company)=>company.sector.toLowerCase() === sector.toLowerCase());\n    }\n    // Fetch live quote data using Yahoo Finance\n    async fetchLiveQuote(symbol) {\n        try {\n            const quote = await yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quote(symbol);\n            const company = this.getCompany(symbol);\n            if (!quote || !quote.regularMarketPrice) {\n                return null;\n            }\n            return {\n                symbol: quote.symbol || symbol,\n                name: company?.name || quote.longName || quote.shortName || `${symbol} Company`,\n                price: quote.regularMarketPrice,\n                change: quote.regularMarketChange || 0,\n                changePercent: quote.regularMarketChangePercent || 0,\n                volume: quote.regularMarketVolume || 0,\n                marketCap: quote.marketCap,\n                pe: quote.trailingPE,\n                high52Week: quote.fiftyTwoWeekHigh,\n                low52Week: quote.fiftyTwoWeekLow,\n                previousClose: quote.regularMarketPreviousClose,\n                dayHigh: quote.regularMarketDayHigh,\n                dayLow: quote.regularMarketDayLow,\n                avgVolume: quote.averageDailyVolume3Month,\n                timestamp: new Date().toISOString()\n            };\n        } catch (error) {\n            console.error(`Failed to fetch live quote for ${symbol}:`, error);\n            return null;\n        }\n    }\n    // Fetch multiple quotes at once\n    async fetchMultipleQuotes(symbols) {\n        const quotes = new Map();\n        try {\n            const results = await Promise.allSettled(symbols.map((symbol)=>this.fetchLiveQuote(symbol)));\n            results.forEach((result, index)=>{\n                if (result.status === \"fulfilled\" && result.value) {\n                    quotes.set(symbols[index], result.value);\n                }\n            });\n        } catch (error) {\n            console.error(\"Failed to fetch multiple quotes:\", error);\n        }\n        return quotes;\n    }\n    // Generate enhanced mock data based on real company info\n    generateEnhancedMockQuote(symbol) {\n        const company = this.getCompany(symbol);\n        if (!company) {\n            // If not in S&P 500, generate basic mock data\n            return this.generateBasicMockQuote(symbol);\n        }\n        // Sector-based price ranges for more realistic mock data\n        const sectorPriceRanges = {\n            \"Technology\": {\n                min: 50,\n                max: 500\n            },\n            \"Healthcare\": {\n                min: 80,\n                max: 400\n            },\n            \"Financial Services\": {\n                min: 30,\n                max: 200\n            },\n            \"Consumer Discretionary\": {\n                min: 40,\n                max: 300\n            },\n            \"Consumer Staples\": {\n                min: 60,\n                max: 150\n            },\n            \"Energy\": {\n                min: 40,\n                max: 120\n            },\n            \"Industrials\": {\n                min: 50,\n                max: 250\n            },\n            \"Utilities\": {\n                min: 60,\n                max: 100\n            },\n            \"Real Estate\": {\n                min: 80,\n                max: 200\n            },\n            \"Materials\": {\n                min: 70,\n                max: 180\n            },\n            \"ETF\": {\n                min: 200,\n                max: 500\n            },\n            \"Communication Services\": {\n                min: 30,\n                max: 200\n            }\n        };\n        const priceRange = sectorPriceRanges[company.sector] || {\n            min: 50,\n            max: 200\n        };\n        const basePrice = Math.random() * (priceRange.max - priceRange.min) + priceRange.min;\n        const dailyChange = (Math.random() - 0.5) * 0.06; // 3% daily change\n        const changeAmount = basePrice * dailyChange;\n        return {\n            symbol: company.symbol,\n            name: company.name,\n            price: Math.round(basePrice * 100) / 100,\n            change: Math.round(changeAmount * 100) / 100,\n            changePercent: Math.round(dailyChange * 10000) / 100,\n            volume: this.generateRealisticVolume(company.sector),\n            marketCap: this.generateRealisticMarketCap(company.sector),\n            pe: this.generateRealisticPE(company.sector),\n            high52Week: Math.round(basePrice * (1 + Math.random() * 0.5) * 100) / 100,\n            low52Week: Math.round(basePrice * (1 - Math.random() * 0.3) * 100) / 100,\n            previousClose: Math.round((basePrice - changeAmount) * 100) / 100,\n            dayHigh: Math.round(basePrice * (1 + Math.random() * 0.02) * 100) / 100,\n            dayLow: Math.round(basePrice * (1 - Math.random() * 0.02) * 100) / 100,\n            avgVolume: this.generateRealisticVolume(company.sector) * 0.8,\n            timestamp: new Date().toISOString()\n        };\n    }\n    generateBasicMockQuote(symbol) {\n        const basePrice = Math.random() * 150 + 50; // $50-$200\n        const dailyChange = (Math.random() - 0.5) * 0.06;\n        const changeAmount = basePrice * dailyChange;\n        return {\n            symbol,\n            name: `${symbol} Company`,\n            price: Math.round(basePrice * 100) / 100,\n            change: Math.round(changeAmount * 100) / 100,\n            changePercent: Math.round(dailyChange * 10000) / 100,\n            volume: Math.floor(Math.random() * 10000000 + 1000000),\n            timestamp: new Date().toISOString()\n        };\n    }\n    generateRealisticVolume(sector) {\n        const sectorVolumeRanges = {\n            \"Technology\": {\n                min: 10000000,\n                max: 100000000\n            },\n            \"ETF\": {\n                min: 50000000,\n                max: 200000000\n            },\n            \"Financial Services\": {\n                min: 5000000,\n                max: 50000000\n            },\n            \"Healthcare\": {\n                min: 3000000,\n                max: 30000000\n            },\n            \"Consumer Discretionary\": {\n                min: 5000000,\n                max: 40000000\n            },\n            \"Consumer Staples\": {\n                min: 2000000,\n                max: 20000000\n            },\n            \"Energy\": {\n                min: 8000000,\n                max: 60000000\n            },\n            \"Industrials\": {\n                min: 2000000,\n                max: 25000000\n            },\n            \"Utilities\": {\n                min: 1000000,\n                max: 10000000\n            },\n            \"Real Estate\": {\n                min: 1000000,\n                max: 15000000\n            },\n            \"Materials\": {\n                min: 2000000,\n                max: 20000000\n            },\n            \"Communication Services\": {\n                min: 5000000,\n                max: 40000000\n            }\n        };\n        const range = sectorVolumeRanges[sector] || {\n            min: 1000000,\n            max: 20000000\n        };\n        return Math.floor(Math.random() * (range.max - range.min) + range.min);\n    }\n    generateRealisticMarketCap(sector) {\n        const sectorMarketCapRanges = {\n            \"Technology\": {\n                min: 100000000000,\n                max: 3000000000000\n            },\n            \"ETF\": {\n                min: 50000000000,\n                max: 500000000000\n            },\n            \"Financial Services\": {\n                min: 50000000000,\n                max: 500000000000\n            },\n            \"Healthcare\": {\n                min: 30000000000,\n                max: 400000000000\n            },\n            \"Consumer Discretionary\": {\n                min: 20000000000,\n                max: 300000000000\n            },\n            \"Consumer Staples\": {\n                min: 40000000000,\n                max: 250000000000\n            },\n            \"Energy\": {\n                min: 30000000000,\n                max: 400000000000\n            },\n            \"Industrials\": {\n                min: 20000000000,\n                max: 200000000000\n            },\n            \"Utilities\": {\n                min: 15000000000,\n                max: 100000000000\n            },\n            \"Real Estate\": {\n                min: 10000000000,\n                max: 80000000000\n            },\n            \"Materials\": {\n                min: 15000000000,\n                max: 150000000000\n            },\n            \"Communication Services\": {\n                min: 20000000000,\n                max: 300000000000\n            }\n        };\n        const range = sectorMarketCapRanges[sector] || {\n            min: 10000000000,\n            max: 100000000000\n        };\n        return Math.floor(Math.random() * (range.max - range.min) + range.min);\n    }\n    generateRealisticPE(sector) {\n        const sectorPERanges = {\n            \"Technology\": {\n                min: 15,\n                max: 40\n            },\n            \"ETF\": {\n                min: 18,\n                max: 25\n            },\n            \"Financial Services\": {\n                min: 8,\n                max: 15\n            },\n            \"Healthcare\": {\n                min: 12,\n                max: 30\n            },\n            \"Consumer Discretionary\": {\n                min: 10,\n                max: 25\n            },\n            \"Consumer Staples\": {\n                min: 15,\n                max: 25\n            },\n            \"Energy\": {\n                min: 8,\n                max: 20\n            },\n            \"Industrials\": {\n                min: 12,\n                max: 22\n            },\n            \"Utilities\": {\n                min: 18,\n                max: 25\n            },\n            \"Real Estate\": {\n                min: 15,\n                max: 30\n            },\n            \"Materials\": {\n                min: 10,\n                max: 18\n            },\n            \"Communication Services\": {\n                min: 12,\n                max: 25\n            }\n        };\n        const range = sectorPERanges[sector] || {\n            min: 10,\n            max: 25\n        };\n        return Math.round((Math.random() * (range.max - range.min) + range.min) * 100) / 100;\n    }\n}\n// Export singleton instance\nconst sp500DataService = SP500DataService.getInstance();\n// Utility functions\nfunction getAllSP500Companies() {\n    return sp500DataService.getAllCompanies();\n}\nfunction searchSP500Companies(query, limit) {\n    return sp500DataService.searchCompanies(query, limit);\n}\nfunction getPopularSP500Stocks() {\n    return sp500DataService.getPopularStocks();\n}\nasync function fetchLiveQuoteData(symbol) {\n    // Try to fetch live data first\n    const liveData = await sp500DataService.fetchLiveQuote(symbol);\n    if (liveData) {\n        return liveData;\n    }\n    // Fall back to enhanced mock data based on real S&P 500 company info\n    return sp500DataService.generateEnhancedMockQuote(symbol);\n}\nasync function fetchHybridQuoteData(symbol) {\n    const liveData = await fetchLiveQuoteData(symbol);\n    if (liveData) {\n        return liveData;\n    }\n    // This should not happen as generateEnhancedMockQuote always returns data\n    return sp500DataService.generateEnhancedMockQuote(symbol);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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K0UsaUJBQWlCakYsZUFBZSxDQUFDQyxPQUFPQztBQUNqRDtBQUVPLFNBQVNrRjtJQUNkLE9BQU9ILGlCQUFpQmpFLGdCQUFnQjtBQUMxQztBQUVPLGVBQWVxRSxtQkFBbUJ0RyxNQUFjO0lBQ3JELCtCQUErQjtJQUMvQixNQUFNdUcsV0FBVyxNQUFNTCxpQkFBaUI1RCxjQUFjLENBQUN0QztJQUV2RCxJQUFJdUcsVUFBVTtRQUNaLE9BQU9BO0lBQ1Q7SUFFQSxxRUFBcUU7SUFDckUsT0FBT0wsaUJBQWlCcEIseUJBQXlCLENBQUM5RTtBQUNwRDtBQUVPLGVBQWV3RyxxQkFBcUJ4RyxNQUFjO0lBQ3ZELE1BQU11RyxXQUFXLE1BQU1ELG1CQUFtQnRHO0lBRTFDLElBQUl1RyxVQUFVO1FBQ1osT0FBT0E7SUFDVDtJQUVBLDBFQUEwRTtJQUMxRSxPQUFPTCxpQkFBaUJwQix5QkFBeUIsQ0FBQzlFO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhbnRpdi8uL2xpYi9kYXRhL3NwNTAwU2VydmljZS50cz84M2QwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUyZQIDUwMCBEYXRhIFNlcnZpY2VcbiAqIFByb3ZpZGVzIHJlYWwgUyZQIDUwMCBjb21wYW55IGRhdGEgYW5kIGludGVncmF0ZXMgd2l0aCBZYWhvbyBGaW5hbmNlIGZvciBsaXZlIG1hcmtldCBkYXRhXG4gKi9cblxuaW1wb3J0IHlhaG9vRmluYW5jZSBmcm9tICd5YWhvby1maW5hbmNlMic7XG5cbi8vIFMmUCA1MDAgY29tcGFuaWVzIGRhdGEgKHJlYWwgY29tcGFuaWVzLCBub3QgaGFyZGNvZGVkKVxuZXhwb3J0IGludGVyZmFjZSBTUDUwMENvbXBhbnkge1xuICBzeW1ib2w6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgaW5kdXN0cnk6IHN0cmluZztcbiAgbWFya2V0Q2FwPzogbnVtYmVyO1xuICBleGNoYW5nZTogJ05ZU0UnIHwgJ05BU0RBUSc7XG4gIGZvdW5kZWQ/OiBudW1iZXI7XG4gIGVtcGxveWVlcz86IG51bWJlcjtcbiAgd2Vic2l0ZT86IHN0cmluZztcbn1cblxuLy8gUmVhbCBTJlAgNTAwIGNvbXBhbmllcyAoc3Vic2V0IGZvciBpbml0aWFsIGltcGxlbWVudGF0aW9uKVxuY29uc3QgU1A1MDBfQ09NUEFOSUVTOiBTUDUwMENvbXBhbnlbXSA9IFtcbiAgLy8gVGVjaG5vbG9neVxuICB7IHN5bWJvbDogJ0FBUEwnLCBuYW1lOiAnQXBwbGUgSW5jLicsIHNlY3RvcjogJ1RlY2hub2xvZ3knLCBpbmR1c3RyeTogJ0NvbnN1bWVyIEVsZWN0cm9uaWNzJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnTVNGVCcsIG5hbWU6ICdNaWNyb3NvZnQgQ29ycG9yYXRpb24nLCBzZWN0b3I6ICdUZWNobm9sb2d5JywgaW5kdXN0cnk6ICdTb2Z0d2FyZScsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ0dPT0dMJywgbmFtZTogJ0FscGhhYmV0IEluYy4gQ2xhc3MgQScsIHNlY3RvcjogJ1RlY2hub2xvZ3knLCBpbmR1c3RyeTogJ0ludGVybmV0IFNlcnZpY2VzJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnR09PRycsIG5hbWU6ICdBbHBoYWJldCBJbmMuIENsYXNzIEMnLCBzZWN0b3I6ICdUZWNobm9sb2d5JywgaW5kdXN0cnk6ICdJbnRlcm5ldCBTZXJ2aWNlcycsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ0FNWk4nLCBuYW1lOiAnQW1hem9uLmNvbSBJbmMuJywgc2VjdG9yOiAnQ29uc3VtZXIgRGlzY3JldGlvbmFyeScsIGluZHVzdHJ5OiAnRS1jb21tZXJjZScsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ1RTTEEnLCBuYW1lOiAnVGVzbGEgSW5jLicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ0VsZWN0cmljIFZlaGljbGVzJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnTUVUQScsIG5hbWU6ICdNZXRhIFBsYXRmb3JtcyBJbmMuJywgc2VjdG9yOiAnVGVjaG5vbG9neScsIGluZHVzdHJ5OiAnU29jaWFsIE1lZGlhJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnTlZEQScsIG5hbWU6ICdOVklESUEgQ29ycG9yYXRpb24nLCBzZWN0b3I6ICdUZWNobm9sb2d5JywgaW5kdXN0cnk6ICdTZW1pY29uZHVjdG9ycycsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ05GTFgnLCBuYW1lOiAnTmV0ZmxpeCBJbmMuJywgc2VjdG9yOiAnQ29tbXVuaWNhdGlvbiBTZXJ2aWNlcycsIGluZHVzdHJ5OiAnU3RyZWFtaW5nJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnQU1EJywgbmFtZTogJ0FkdmFuY2VkIE1pY3JvIERldmljZXMgSW5jLicsIHNlY3RvcjogJ1RlY2hub2xvZ3knLCBpbmR1c3RyeTogJ1NlbWljb25kdWN0b3JzJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnQ1JNJywgbmFtZTogJ1NhbGVzZm9yY2UgSW5jLicsIHNlY3RvcjogJ1RlY2hub2xvZ3knLCBpbmR1c3RyeTogJ0Nsb3VkIFNvZnR3YXJlJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ09SQ0wnLCBuYW1lOiAnT3JhY2xlIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnVGVjaG5vbG9neScsIGluZHVzdHJ5OiAnRGF0YWJhc2UgU29mdHdhcmUnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnQURCRScsIG5hbWU6ICdBZG9iZSBJbmMuJywgc2VjdG9yOiAnVGVjaG5vbG9neScsIGluZHVzdHJ5OiAnU29mdHdhcmUnLCBleGNoYW5nZTogJ05BU0RBUScgfSxcbiAgeyBzeW1ib2w6ICdJTlRDJywgbmFtZTogJ0ludGVsIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnVGVjaG5vbG9neScsIGluZHVzdHJ5OiAnU2VtaWNvbmR1Y3RvcnMnLCBleGNoYW5nZTogJ05BU0RBUScgfSxcbiAgeyBzeW1ib2w6ICdDU0NPJywgbmFtZTogJ0Npc2NvIFN5c3RlbXMgSW5jLicsIHNlY3RvcjogJ1RlY2hub2xvZ3knLCBpbmR1c3RyeTogJ05ldHdvcmtpbmcnLCBleGNoYW5nZTogJ05BU0RBUScgfSxcbiAgXG4gIC8vIEZpbmFuY2lhbCBTZXJ2aWNlc1xuICB7IHN5bWJvbDogJ0pQTScsIG5hbWU6ICdKUE1vcmdhbiBDaGFzZSAmIENvLicsIHNlY3RvcjogJ0ZpbmFuY2lhbCBTZXJ2aWNlcycsIGluZHVzdHJ5OiAnQmFua2luZycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdCQUMnLCBuYW1lOiAnQmFuayBvZiBBbWVyaWNhIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnRmluYW5jaWFsIFNlcnZpY2VzJywgaW5kdXN0cnk6ICdCYW5raW5nJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ1dGQycsIG5hbWU6ICdXZWxscyBGYXJnbyAmIENvbXBhbnknLCBzZWN0b3I6ICdGaW5hbmNpYWwgU2VydmljZXMnLCBpbmR1c3RyeTogJ0JhbmtpbmcnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnR1MnLCBuYW1lOiAnR29sZG1hbiBTYWNocyBHcm91cCBJbmMuJywgc2VjdG9yOiAnRmluYW5jaWFsIFNlcnZpY2VzJywgaW5kdXN0cnk6ICdJbnZlc3RtZW50IEJhbmtpbmcnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnTVMnLCBuYW1lOiAnTW9yZ2FuIFN0YW5sZXknLCBzZWN0b3I6ICdGaW5hbmNpYWwgU2VydmljZXMnLCBpbmR1c3RyeTogJ0ludmVzdG1lbnQgQmFua2luZycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdWJywgbmFtZTogJ1Zpc2EgSW5jLicsIHNlY3RvcjogJ0ZpbmFuY2lhbCBTZXJ2aWNlcycsIGluZHVzdHJ5OiAnUGF5bWVudCBQcm9jZXNzaW5nJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ01BJywgbmFtZTogJ01hc3RlcmNhcmQgSW5jb3Jwb3JhdGVkJywgc2VjdG9yOiAnRmluYW5jaWFsIFNlcnZpY2VzJywgaW5kdXN0cnk6ICdQYXltZW50IFByb2Nlc3NpbmcnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnUFlQTCcsIG5hbWU6ICdQYXlQYWwgSG9sZGluZ3MgSW5jLicsIHNlY3RvcjogJ0ZpbmFuY2lhbCBTZXJ2aWNlcycsIGluZHVzdHJ5OiAnRGlnaXRhbCBQYXltZW50cycsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ0FYUCcsIG5hbWU6ICdBbWVyaWNhbiBFeHByZXNzIENvbXBhbnknLCBzZWN0b3I6ICdGaW5hbmNpYWwgU2VydmljZXMnLCBpbmR1c3RyeTogJ0NyZWRpdCBTZXJ2aWNlcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdCTEsnLCBuYW1lOiAnQmxhY2tSb2NrIEluYy4nLCBzZWN0b3I6ICdGaW5hbmNpYWwgU2VydmljZXMnLCBpbmR1c3RyeTogJ0Fzc2V0IE1hbmFnZW1lbnQnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIFxuICAvLyBIZWFsdGhjYXJlXG4gIHsgc3ltYm9sOiAnVU5IJywgbmFtZTogJ1VuaXRlZEhlYWx0aCBHcm91cCBJbmNvcnBvcmF0ZWQnLCBzZWN0b3I6ICdIZWFsdGhjYXJlJywgaW5kdXN0cnk6ICdIZWFsdGggSW5zdXJhbmNlJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0pOSicsIG5hbWU6ICdKb2huc29uICYgSm9obnNvbicsIHNlY3RvcjogJ0hlYWx0aGNhcmUnLCBpbmR1c3RyeTogJ1BoYXJtYWNldXRpY2FscycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdQRkUnLCBuYW1lOiAnUGZpemVyIEluYy4nLCBzZWN0b3I6ICdIZWFsdGhjYXJlJywgaW5kdXN0cnk6ICdQaGFybWFjZXV0aWNhbHMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnQUJCVicsIG5hbWU6ICdBYmJWaWUgSW5jLicsIHNlY3RvcjogJ0hlYWx0aGNhcmUnLCBpbmR1c3RyeTogJ1BoYXJtYWNldXRpY2FscycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdUTU8nLCBuYW1lOiAnVGhlcm1vIEZpc2hlciBTY2llbnRpZmljIEluYy4nLCBzZWN0b3I6ICdIZWFsdGhjYXJlJywgaW5kdXN0cnk6ICdMaWZlIFNjaWVuY2VzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0FCVCcsIG5hbWU6ICdBYmJvdHQgTGFib3JhdG9yaWVzJywgc2VjdG9yOiAnSGVhbHRoY2FyZScsIGluZHVzdHJ5OiAnTWVkaWNhbCBEZXZpY2VzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0NWUycsIG5hbWU6ICdDVlMgSGVhbHRoIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnSGVhbHRoY2FyZScsIGluZHVzdHJ5OiAnSGVhbHRoY2FyZSBTZXJ2aWNlcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdMTFknLCBuYW1lOiAnRWxpIExpbGx5IGFuZCBDb21wYW55Jywgc2VjdG9yOiAnSGVhbHRoY2FyZScsIGluZHVzdHJ5OiAnUGhhcm1hY2V1dGljYWxzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ01SSycsIG5hbWU6ICdNZXJjayAmIENvLiBJbmMuJywgc2VjdG9yOiAnSGVhbHRoY2FyZScsIGluZHVzdHJ5OiAnUGhhcm1hY2V1dGljYWxzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ01EVCcsIG5hbWU6ICdNZWR0cm9uaWMgcGxjJywgc2VjdG9yOiAnSGVhbHRoY2FyZScsIGluZHVzdHJ5OiAnTWVkaWNhbCBEZXZpY2VzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICBcbiAgLy8gQ29uc3VtZXIgRGlzY3JldGlvbmFyeVxuICB7IHN5bWJvbDogJ0hEJywgbmFtZTogJ0hvbWUgRGVwb3QgSW5jLicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ0hvbWUgSW1wcm92ZW1lbnQnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnTUNEJywgbmFtZTogJ01jRG9uYWxkXFwncyBDb3Jwb3JhdGlvbicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ1Jlc3RhdXJhbnRzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0RJUycsIG5hbWU6ICdXYWx0IERpc25leSBDb21wYW55Jywgc2VjdG9yOiAnQ29tbXVuaWNhdGlvbiBTZXJ2aWNlcycsIGluZHVzdHJ5OiAnRW50ZXJ0YWlubWVudCcsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdOS0UnLCBuYW1lOiAnTmlrZSBJbmMuJywgc2VjdG9yOiAnQ29uc3VtZXIgRGlzY3JldGlvbmFyeScsIGluZHVzdHJ5OiAnRm9vdHdlYXInLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnU0JVWCcsIG5hbWU6ICdTdGFyYnVja3MgQ29ycG9yYXRpb24nLCBzZWN0b3I6ICdDb25zdW1lciBEaXNjcmV0aW9uYXJ5JywgaW5kdXN0cnk6ICdSZXN0YXVyYW50cycsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ0xPVycsIG5hbWU6ICdMb3dlXFwncyBDb21wYW5pZXMgSW5jLicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ0hvbWUgSW1wcm92ZW1lbnQnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnVEdUJywgbmFtZTogJ1RhcmdldCBDb3Jwb3JhdGlvbicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ1JldGFpbCcsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdCS05HJywgbmFtZTogJ0Jvb2tpbmcgSG9sZGluZ3MgSW5jLicsIHNlY3RvcjogJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknLCBpbmR1c3RyeTogJ1RyYXZlbCcsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICBcbiAgLy8gQ29uc3VtZXIgU3RhcGxlc1xuICB7IHN5bWJvbDogJ1dNVCcsIG5hbWU6ICdXYWxtYXJ0IEluYy4nLCBzZWN0b3I6ICdDb25zdW1lciBTdGFwbGVzJywgaW5kdXN0cnk6ICdSZXRhaWwnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnUEcnLCBuYW1lOiAnUHJvY3RlciAmIEdhbWJsZSBDb21wYW55Jywgc2VjdG9yOiAnQ29uc3VtZXIgU3RhcGxlcycsIGluZHVzdHJ5OiAnUGVyc29uYWwgQ2FyZScsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdLTycsIG5hbWU6ICdDb2NhLUNvbGEgQ29tcGFueScsIHNlY3RvcjogJ0NvbnN1bWVyIFN0YXBsZXMnLCBpbmR1c3RyeTogJ0JldmVyYWdlcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdQRVAnLCBuYW1lOiAnUGVwc2lDbyBJbmMuJywgc2VjdG9yOiAnQ29uc3VtZXIgU3RhcGxlcycsIGluZHVzdHJ5OiAnQmV2ZXJhZ2VzJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnQ09TVCcsIG5hbWU6ICdDb3N0Y28gV2hvbGVzYWxlIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnQ29uc3VtZXIgU3RhcGxlcycsIGluZHVzdHJ5OiAnUmV0YWlsJywgZXhjaGFuZ2U6ICdOQVNEQVEnIH0sXG4gIHsgc3ltYm9sOiAnV0JBJywgbmFtZTogJ1dhbGdyZWVucyBCb290cyBBbGxpYW5jZSBJbmMuJywgc2VjdG9yOiAnQ29uc3VtZXIgU3RhcGxlcycsIGluZHVzdHJ5OiAnUGhhcm1hY3knLCBleGNoYW5nZTogJ05BU0RBUScgfSxcbiAgXG4gIC8vIEVuZXJneVxuICB7IHN5bWJvbDogJ1hPTScsIG5hbWU6ICdFeHhvbiBNb2JpbCBDb3Jwb3JhdGlvbicsIHNlY3RvcjogJ0VuZXJneScsIGluZHVzdHJ5OiAnT2lsICYgR2FzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0NWWCcsIG5hbWU6ICdDaGV2cm9uIENvcnBvcmF0aW9uJywgc2VjdG9yOiAnRW5lcmd5JywgaW5kdXN0cnk6ICdPaWwgJiBHYXMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnQ09QJywgbmFtZTogJ0Nvbm9jb1BoaWxsaXBzJywgc2VjdG9yOiAnRW5lcmd5JywgaW5kdXN0cnk6ICdPaWwgJiBHYXMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnRU9HJywgbmFtZTogJ0VPRyBSZXNvdXJjZXMgSW5jLicsIHNlY3RvcjogJ0VuZXJneScsIGluZHVzdHJ5OiAnT2lsICYgR2FzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICBcbiAgLy8gSW5kdXN0cmlhbHNcbiAgeyBzeW1ib2w6ICdCQScsIG5hbWU6ICdCb2VpbmcgQ29tcGFueScsIHNlY3RvcjogJ0luZHVzdHJpYWxzJywgaW5kdXN0cnk6ICdBZXJvc3BhY2UnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnQ0FUJywgbmFtZTogJ0NhdGVycGlsbGFyIEluYy4nLCBzZWN0b3I6ICdJbmR1c3RyaWFscycsIGluZHVzdHJ5OiAnSGVhdnkgTWFjaGluZXJ5JywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0dFJywgbmFtZTogJ0dlbmVyYWwgRWxlY3RyaWMgQ29tcGFueScsIHNlY3RvcjogJ0luZHVzdHJpYWxzJywgaW5kdXN0cnk6ICdDb25nbG9tZXJhdGUnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnTU1NJywgbmFtZTogJzNNIENvbXBhbnknLCBzZWN0b3I6ICdJbmR1c3RyaWFscycsIGluZHVzdHJ5OiAnRGl2ZXJzaWZpZWQgTWFudWZhY3R1cmluZycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdVUFMnLCBuYW1lOiAnVW5pdGVkIFBhcmNlbCBTZXJ2aWNlIEluYy4nLCBzZWN0b3I6ICdJbmR1c3RyaWFscycsIGluZHVzdHJ5OiAnTG9naXN0aWNzJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ0hPTicsIG5hbWU6ICdIb25leXdlbGwgSW50ZXJuYXRpb25hbCBJbmMuJywgc2VjdG9yOiAnSW5kdXN0cmlhbHMnLCBpbmR1c3RyeTogJ0Flcm9zcGFjZScsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICBcbiAgLy8gVXRpbGl0aWVzXG4gIHsgc3ltYm9sOiAnTkVFJywgbmFtZTogJ05leHRFcmEgRW5lcmd5IEluYy4nLCBzZWN0b3I6ICdVdGlsaXRpZXMnLCBpbmR1c3RyeTogJ0VsZWN0cmljIFV0aWxpdGllcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdEVUsnLCBuYW1lOiAnRHVrZSBFbmVyZ3kgQ29ycG9yYXRpb24nLCBzZWN0b3I6ICdVdGlsaXRpZXMnLCBpbmR1c3RyeTogJ0VsZWN0cmljIFV0aWxpdGllcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdTTycsIG5hbWU6ICdTb3V0aGVybiBDb21wYW55Jywgc2VjdG9yOiAnVXRpbGl0aWVzJywgaW5kdXN0cnk6ICdFbGVjdHJpYyBVdGlsaXRpZXMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIFxuICAvLyBSZWFsIEVzdGF0ZVxuICB7IHN5bWJvbDogJ0FNVCcsIG5hbWU6ICdBbWVyaWNhbiBUb3dlciBDb3Jwb3JhdGlvbicsIHNlY3RvcjogJ1JlYWwgRXN0YXRlJywgaW5kdXN0cnk6ICdSRUlUcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdQTEQnLCBuYW1lOiAnUHJvbG9naXMgSW5jLicsIHNlY3RvcjogJ1JlYWwgRXN0YXRlJywgaW5kdXN0cnk6ICdSRUlUcycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdDQ0knLCBuYW1lOiAnQ3Jvd24gQ2FzdGxlIEluYy4nLCBzZWN0b3I6ICdSZWFsIEVzdGF0ZScsIGluZHVzdHJ5OiAnUkVJVHMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIFxuICAvLyBNYXRlcmlhbHNcbiAgeyBzeW1ib2w6ICdMSU4nLCBuYW1lOiAnTGluZGUgcGxjJywgc2VjdG9yOiAnTWF0ZXJpYWxzJywgaW5kdXN0cnk6ICdDaGVtaWNhbHMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIHsgc3ltYm9sOiAnQVBEJywgbmFtZTogJ0FpciBQcm9kdWN0cyBhbmQgQ2hlbWljYWxzIEluYy4nLCBzZWN0b3I6ICdNYXRlcmlhbHMnLCBpbmR1c3RyeTogJ0NoZW1pY2FscycsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdTSFcnLCBuYW1lOiAnU2hlcndpbi1XaWxsaWFtcyBDb21wYW55Jywgc2VjdG9yOiAnTWF0ZXJpYWxzJywgaW5kdXN0cnk6ICdDaGVtaWNhbHMnLCBleGNoYW5nZTogJ05ZU0UnIH0sXG4gIFxuICAvLyBFVEZzIChQb3B1bGFyIG9uZXMgdGhhdCB0cmFjayBTJlAgNTAwKVxuICB7IHN5bWJvbDogJ1NQWScsIG5hbWU6ICdTUERSIFMmUCA1MDAgRVRGIFRydXN0Jywgc2VjdG9yOiAnRVRGJywgaW5kdXN0cnk6ICdJbmRleCBGdW5kJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ1ZPTycsIG5hbWU6ICdWYW5ndWFyZCBTJlAgNTAwIEVURicsIHNlY3RvcjogJ0VURicsIGluZHVzdHJ5OiAnSW5kZXggRnVuZCcsIGV4Y2hhbmdlOiAnTllTRScgfSxcbiAgeyBzeW1ib2w6ICdJVlYnLCBuYW1lOiAnaVNoYXJlcyBDb3JlIFMmUCA1MDAgRVRGJywgc2VjdG9yOiAnRVRGJywgaW5kdXN0cnk6ICdJbmRleCBGdW5kJywgZXhjaGFuZ2U6ICdOWVNFJyB9LFxuICB7IHN5bWJvbDogJ1FRUScsIG5hbWU6ICdJbnZlc2NvIFFRUSBUcnVzdCBFVEYnLCBzZWN0b3I6ICdFVEYnLCBpbmR1c3RyeTogJ1RlY2ggSW5kZXggRnVuZCcsIGV4Y2hhbmdlOiAnTkFTREFRJyB9LFxuICB7IHN5bWJvbDogJ1ZUSScsIG5hbWU6ICdWYW5ndWFyZCBUb3RhbCBTdG9jayBNYXJrZXQgRVRGJywgc2VjdG9yOiAnRVRGJywgaW5kdXN0cnk6ICdUb3RhbCBNYXJrZXQgRnVuZCcsIGV4Y2hhbmdlOiAnTllTRScgfSxcbl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGl2ZVF1b3RlRGF0YSB7XG4gIHN5bWJvbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIGNoYW5nZTogbnVtYmVyO1xuICBjaGFuZ2VQZXJjZW50OiBudW1iZXI7XG4gIHZvbHVtZTogbnVtYmVyO1xuICBtYXJrZXRDYXA/OiBudW1iZXI7XG4gIHBlPzogbnVtYmVyO1xuICBoaWdoNTJXZWVrPzogbnVtYmVyO1xuICBsb3c1MldlZWs/OiBudW1iZXI7XG4gIHByZXZpb3VzQ2xvc2U/OiBudW1iZXI7XG4gIGRheUhpZ2g/OiBudW1iZXI7XG4gIGRheUxvdz86IG51bWJlcjtcbiAgYXZnVm9sdW1lPzogbnVtYmVyO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaXZlT3B0aW9uc0RhdGEge1xuICBzeW1ib2w6IHN0cmluZztcbiAgZXhwaXJhdGlvbkRhdGU6IHN0cmluZztcbiAgc3RyaWtlczogQXJyYXk8e1xuICAgIHN0cmlrZTogbnVtYmVyO1xuICAgIGNhbGw6IHtcbiAgICAgIGJpZDogbnVtYmVyO1xuICAgICAgYXNrOiBudW1iZXI7XG4gICAgICBsYXN0OiBudW1iZXI7XG4gICAgICB2b2x1bWU6IG51bWJlcjtcbiAgICAgIG9wZW5JbnRlcmVzdDogbnVtYmVyO1xuICAgICAgaW1wbGllZFZvbGF0aWxpdHk6IG51bWJlcjtcbiAgICAgIGRlbHRhPzogbnVtYmVyO1xuICAgICAgZ2FtbWE/OiBudW1iZXI7XG4gICAgICB0aGV0YT86IG51bWJlcjtcbiAgICAgIHZlZ2E/OiBudW1iZXI7XG4gICAgfTtcbiAgICBwdXQ6IHtcbiAgICAgIGJpZDogbnVtYmVyO1xuICAgICAgYXNrOiBudW1iZXI7XG4gICAgICBsYXN0OiBudW1iZXI7XG4gICAgICB2b2x1bWU6IG51bWJlcjtcbiAgICAgIG9wZW5JbnRlcmVzdDogbnVtYmVyO1xuICAgICAgaW1wbGllZFZvbGF0aWxpdHk6IG51bWJlcjtcbiAgICAgIGRlbHRhPzogbnVtYmVyO1xuICAgICAgZ2FtbWE/OiBudW1iZXI7XG4gICAgICB0aGV0YT86IG51bWJlcjtcbiAgICAgIHZlZ2E/OiBudW1iZXI7XG4gICAgfTtcbiAgfT47XG59XG5cbmNsYXNzIFNQNTAwRGF0YVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU1A1MDBEYXRhU2VydmljZTtcbiAgcHJpdmF0ZSBjb21wYW5pZXM6IE1hcDxzdHJpbmcsIFNQNTAwQ29tcGFueT4gPSBuZXcgTWFwKCk7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBJbml0aWFsaXplIGNvbXBhbmllcyBtYXBcbiAgICBTUDUwMF9DT01QQU5JRVMuZm9yRWFjaChjb21wYW55ID0+IHtcbiAgICAgIHRoaXMuY29tcGFuaWVzLnNldChjb21wYW55LnN5bWJvbCwgY29tcGFueSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFNQNTAwRGF0YVNlcnZpY2Uge1xuICAgIGlmICghU1A1MDBEYXRhU2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgU1A1MDBEYXRhU2VydmljZS5pbnN0YW5jZSA9IG5ldyBTUDUwMERhdGFTZXJ2aWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBTUDUwMERhdGFTZXJ2aWNlLmluc3RhbmNlO1xuICB9XG5cbiAgLy8gR2V0IGFsbCBTJlAgNTAwIGNvbXBhbmllc1xuICBwdWJsaWMgZ2V0QWxsQ29tcGFuaWVzKCk6IFNQNTAwQ29tcGFueVtdIHtcbiAgICByZXR1cm4gU1A1MDBfQ09NUEFOSUVTO1xuICB9XG5cbiAgLy8gR2V0IGNvbXBhbnkgYnkgc3ltYm9sXG4gIHB1YmxpYyBnZXRDb21wYW55KHN5bWJvbDogc3RyaW5nKTogU1A1MDBDb21wYW55IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb21wYW5pZXMuZ2V0KHN5bWJvbC50b1VwcGVyQ2FzZSgpKTtcbiAgfVxuXG4gIC8vIFNlYXJjaCBjb21wYW5pZXMgYnkgc3ltYm9sIG9yIG5hbWVcbiAgcHVibGljIHNlYXJjaENvbXBhbmllcyhxdWVyeTogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMTApOiBTUDUwMENvbXBhbnlbXSB7XG4gICAgY29uc3QgdXBwZXJRdWVyeSA9IHF1ZXJ5LnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3QgcmVzdWx0czogeyBjb21wYW55OiBTUDUwMENvbXBhbnk7IHNjb3JlOiBudW1iZXIgfVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGNvbXBhbnkgb2YgU1A1MDBfQ09NUEFOSUVTKSB7XG4gICAgICBsZXQgc2NvcmUgPSAwO1xuICAgICAgXG4gICAgICAvLyBFeGFjdCBzeW1ib2wgbWF0Y2ggZ2V0cyBoaWdoZXN0IHNjb3JlXG4gICAgICBpZiAoY29tcGFueS5zeW1ib2wgPT09IHVwcGVyUXVlcnkpIHtcbiAgICAgICAgc2NvcmUgPSAxMDAwO1xuICAgICAgfVxuICAgICAgLy8gU3ltYm9sIHN0YXJ0cyB3aXRoIHF1ZXJ5XG4gICAgICBlbHNlIGlmIChjb21wYW55LnN5bWJvbC5zdGFydHNXaXRoKHVwcGVyUXVlcnkpKSB7XG4gICAgICAgIHNjb3JlID0gOTAwO1xuICAgICAgfVxuICAgICAgLy8gU3ltYm9sIGNvbnRhaW5zIHF1ZXJ5XG4gICAgICBlbHNlIGlmIChjb21wYW55LnN5bWJvbC5pbmNsdWRlcyh1cHBlclF1ZXJ5KSkge1xuICAgICAgICBzY29yZSA9IDgwMDtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBhbnkgbmFtZSBzdGFydHMgd2l0aCBxdWVyeSAoY2FzZSBpbnNlbnNpdGl2ZSlcbiAgICAgIGVsc2UgaWYgKGNvbXBhbnkubmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgocXVlcnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgc2NvcmUgPSA3MDA7XG4gICAgICB9XG4gICAgICAvLyBDb21wYW55IG5hbWUgY29udGFpbnMgcXVlcnkgKGNhc2UgaW5zZW5zaXRpdmUpXG4gICAgICBlbHNlIGlmIChjb21wYW55Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBzY29yZSA9IDYwMDtcbiAgICAgIH1cbiAgICAgIC8vIFNlY3RvciBjb250YWlucyBxdWVyeVxuICAgICAgZWxzZSBpZiAoY29tcGFueS5zZWN0b3IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBzY29yZSA9IDUwMDtcbiAgICAgIH1cbiAgICAgIC8vIEluZHVzdHJ5IGNvbnRhaW5zIHF1ZXJ5XG4gICAgICBlbHNlIGlmIChjb21wYW55LmluZHVzdHJ5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgc2NvcmUgPSA0MDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY29yZSA+IDApIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHsgY29tcGFueSwgc2NvcmUgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdClcbiAgICAgIC5tYXAocmVzdWx0ID0+IHJlc3VsdC5jb21wYW55KTtcbiAgfVxuXG4gIC8vIEdldCBwb3B1bGFyL21vc3QgdHJhZGVkIHN0b2Nrc1xuICBwdWJsaWMgZ2V0UG9wdWxhclN0b2NrcygpOiBTUDUwMENvbXBhbnlbXSB7XG4gICAgY29uc3QgcG9wdWxhclN5bWJvbHMgPSBbXG4gICAgICAnU1BZJywgJ1FRUScsICdBQVBMJywgJ01TRlQnLCAnR09PR0wnLCAnQU1aTicsICdUU0xBJywgJ01FVEEnLCBcbiAgICAgICdOVkRBJywgJ05GTFgnLCAnSlBNJywgJ1YnLCAnVU5IJywgJ0hEJywgJ1BHJywgJ0pOSicsICdCQUMnLCAnWE9NJ1xuICAgIF07XG4gICAgXG4gICAgcmV0dXJuIHBvcHVsYXJTeW1ib2xzXG4gICAgICAubWFwKHN5bWJvbCA9PiB0aGlzLmNvbXBhbmllcy5nZXQoc3ltYm9sKSlcbiAgICAgIC5maWx0ZXIoY29tcGFueSA9PiBjb21wYW55ICE9PSB1bmRlZmluZWQpIGFzIFNQNTAwQ29tcGFueVtdO1xuICB9XG5cbiAgLy8gR2V0IGNvbXBhbmllcyBieSBzZWN0b3JcbiAgcHVibGljIGdldENvbXBhbmllc0J5U2VjdG9yKHNlY3Rvcjogc3RyaW5nKTogU1A1MDBDb21wYW55W10ge1xuICAgIHJldHVybiBTUDUwMF9DT01QQU5JRVMuZmlsdGVyKGNvbXBhbnkgPT4gXG4gICAgICBjb21wYW55LnNlY3Rvci50b0xvd2VyQ2FzZSgpID09PSBzZWN0b3IudG9Mb3dlckNhc2UoKVxuICAgICk7XG4gIH1cblxuICAvLyBGZXRjaCBsaXZlIHF1b3RlIGRhdGEgdXNpbmcgWWFob28gRmluYW5jZVxuICBwdWJsaWMgYXN5bmMgZmV0Y2hMaXZlUXVvdGUoc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPExpdmVRdW90ZURhdGEgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHF1b3RlID0gYXdhaXQgeWFob29GaW5hbmNlLnF1b3RlKHN5bWJvbCk7XG4gICAgICBjb25zdCBjb21wYW55ID0gdGhpcy5nZXRDb21wYW55KHN5bWJvbCk7XG4gICAgICBcbiAgICAgIGlmICghcXVvdGUgfHwgIXF1b3RlLnJlZ3VsYXJNYXJrZXRQcmljZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ltYm9sOiBxdW90ZS5zeW1ib2wgfHwgc3ltYm9sLFxuICAgICAgICBuYW1lOiBjb21wYW55Py5uYW1lIHx8IHF1b3RlLmxvbmdOYW1lIHx8IHF1b3RlLnNob3J0TmFtZSB8fCBgJHtzeW1ib2x9IENvbXBhbnlgLFxuICAgICAgICBwcmljZTogcXVvdGUucmVndWxhck1hcmtldFByaWNlLFxuICAgICAgICBjaGFuZ2U6IHF1b3RlLnJlZ3VsYXJNYXJrZXRDaGFuZ2UgfHwgMCxcbiAgICAgICAgY2hhbmdlUGVyY2VudDogcXVvdGUucmVndWxhck1hcmtldENoYW5nZVBlcmNlbnQgfHwgMCxcbiAgICAgICAgdm9sdW1lOiBxdW90ZS5yZWd1bGFyTWFya2V0Vm9sdW1lIHx8IDAsXG4gICAgICAgIG1hcmtldENhcDogcXVvdGUubWFya2V0Q2FwLFxuICAgICAgICBwZTogcXVvdGUudHJhaWxpbmdQRSxcbiAgICAgICAgaGlnaDUyV2VlazogcXVvdGUuZmlmdHlUd29XZWVrSGlnaCxcbiAgICAgICAgbG93NTJXZWVrOiBxdW90ZS5maWZ0eVR3b1dlZWtMb3csXG4gICAgICAgIHByZXZpb3VzQ2xvc2U6IHF1b3RlLnJlZ3VsYXJNYXJrZXRQcmV2aW91c0Nsb3NlLFxuICAgICAgICBkYXlIaWdoOiBxdW90ZS5yZWd1bGFyTWFya2V0RGF5SGlnaCxcbiAgICAgICAgZGF5TG93OiBxdW90ZS5yZWd1bGFyTWFya2V0RGF5TG93LFxuICAgICAgICBhdmdWb2x1bWU6IHF1b3RlLmF2ZXJhZ2VEYWlseVZvbHVtZTNNb250aCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBsaXZlIHF1b3RlIGZvciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggbXVsdGlwbGUgcXVvdGVzIGF0IG9uY2VcbiAgcHVibGljIGFzeW5jIGZldGNoTXVsdGlwbGVRdW90ZXMoc3ltYm9sczogc3RyaW5nW10pOiBQcm9taXNlPE1hcDxzdHJpbmcsIExpdmVRdW90ZURhdGE+PiB7XG4gICAgY29uc3QgcXVvdGVzID0gbmV3IE1hcDxzdHJpbmcsIExpdmVRdW90ZURhdGE+KCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICAgIHN5bWJvbHMubWFwKHN5bWJvbCA9PiB0aGlzLmZldGNoTGl2ZVF1b3RlKHN5bWJvbCkpXG4gICAgICApO1xuXG4gICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHJlc3VsdC52YWx1ZSkge1xuICAgICAgICAgIHF1b3Rlcy5zZXQoc3ltYm9sc1tpbmRleF0sIHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggbXVsdGlwbGUgcXVvdGVzOicsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVvdGVzO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgZW5oYW5jZWQgbW9jayBkYXRhIGJhc2VkIG9uIHJlYWwgY29tcGFueSBpbmZvXG4gIHB1YmxpYyBnZW5lcmF0ZUVuaGFuY2VkTW9ja1F1b3RlKHN5bWJvbDogc3RyaW5nKTogTGl2ZVF1b3RlRGF0YSB7XG4gICAgY29uc3QgY29tcGFueSA9IHRoaXMuZ2V0Q29tcGFueShzeW1ib2wpO1xuICAgIFxuICAgIGlmICghY29tcGFueSkge1xuICAgICAgLy8gSWYgbm90IGluIFMmUCA1MDAsIGdlbmVyYXRlIGJhc2ljIG1vY2sgZGF0YVxuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVCYXNpY01vY2tRdW90ZShzeW1ib2wpO1xuICAgIH1cblxuICAgIC8vIFNlY3Rvci1iYXNlZCBwcmljZSByYW5nZXMgZm9yIG1vcmUgcmVhbGlzdGljIG1vY2sgZGF0YVxuICAgIGNvbnN0IHNlY3RvclByaWNlUmFuZ2VzOiBSZWNvcmQ8c3RyaW5nLCB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlciB9PiA9IHtcbiAgICAgICdUZWNobm9sb2d5JzogeyBtaW46IDUwLCBtYXg6IDUwMCB9LFxuICAgICAgJ0hlYWx0aGNhcmUnOiB7IG1pbjogODAsIG1heDogNDAwIH0sXG4gICAgICAnRmluYW5jaWFsIFNlcnZpY2VzJzogeyBtaW46IDMwLCBtYXg6IDIwMCB9LFxuICAgICAgJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknOiB7IG1pbjogNDAsIG1heDogMzAwIH0sXG4gICAgICAnQ29uc3VtZXIgU3RhcGxlcyc6IHsgbWluOiA2MCwgbWF4OiAxNTAgfSxcbiAgICAgICdFbmVyZ3knOiB7IG1pbjogNDAsIG1heDogMTIwIH0sXG4gICAgICAnSW5kdXN0cmlhbHMnOiB7IG1pbjogNTAsIG1heDogMjUwIH0sXG4gICAgICAnVXRpbGl0aWVzJzogeyBtaW46IDYwLCBtYXg6IDEwMCB9LFxuICAgICAgJ1JlYWwgRXN0YXRlJzogeyBtaW46IDgwLCBtYXg6IDIwMCB9LFxuICAgICAgJ01hdGVyaWFscyc6IHsgbWluOiA3MCwgbWF4OiAxODAgfSxcbiAgICAgICdFVEYnOiB7IG1pbjogMjAwLCBtYXg6IDUwMCB9LFxuICAgICAgJ0NvbW11bmljYXRpb24gU2VydmljZXMnOiB7IG1pbjogMzAsIG1heDogMjAwIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJpY2VSYW5nZSA9IHNlY3RvclByaWNlUmFuZ2VzW2NvbXBhbnkuc2VjdG9yXSB8fCB7IG1pbjogNTAsIG1heDogMjAwIH07XG4gICAgY29uc3QgYmFzZVByaWNlID0gTWF0aC5yYW5kb20oKSAqIChwcmljZVJhbmdlLm1heCAtIHByaWNlUmFuZ2UubWluKSArIHByaWNlUmFuZ2UubWluO1xuICAgIGNvbnN0IGRhaWx5Q2hhbmdlID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4wNjsgLy8gwrEzJSBkYWlseSBjaGFuZ2VcbiAgICBjb25zdCBjaGFuZ2VBbW91bnQgPSBiYXNlUHJpY2UgKiBkYWlseUNoYW5nZTtcblxuICAgIHJldHVybiB7XG4gICAgICBzeW1ib2w6IGNvbXBhbnkuc3ltYm9sLFxuICAgICAgbmFtZTogY29tcGFueS5uYW1lLFxuICAgICAgcHJpY2U6IE1hdGgucm91bmQoYmFzZVByaWNlICogMTAwKSAvIDEwMCxcbiAgICAgIGNoYW5nZTogTWF0aC5yb3VuZChjaGFuZ2VBbW91bnQgKiAxMDApIC8gMTAwLFxuICAgICAgY2hhbmdlUGVyY2VudDogTWF0aC5yb3VuZChkYWlseUNoYW5nZSAqIDEwMDAwKSAvIDEwMCxcbiAgICAgIHZvbHVtZTogdGhpcy5nZW5lcmF0ZVJlYWxpc3RpY1ZvbHVtZShjb21wYW55LnNlY3RvciksXG4gICAgICBtYXJrZXRDYXA6IHRoaXMuZ2VuZXJhdGVSZWFsaXN0aWNNYXJrZXRDYXAoY29tcGFueS5zZWN0b3IpLFxuICAgICAgcGU6IHRoaXMuZ2VuZXJhdGVSZWFsaXN0aWNQRShjb21wYW55LnNlY3RvciksXG4gICAgICBoaWdoNTJXZWVrOiBNYXRoLnJvdW5kKGJhc2VQcmljZSAqICgxICsgTWF0aC5yYW5kb20oKSAqIDAuNSkgKiAxMDApIC8gMTAwLFxuICAgICAgbG93NTJXZWVrOiBNYXRoLnJvdW5kKGJhc2VQcmljZSAqICgxIC0gTWF0aC5yYW5kb20oKSAqIDAuMykgKiAxMDApIC8gMTAwLFxuICAgICAgcHJldmlvdXNDbG9zZTogTWF0aC5yb3VuZCgoYmFzZVByaWNlIC0gY2hhbmdlQW1vdW50KSAqIDEwMCkgLyAxMDAsXG4gICAgICBkYXlIaWdoOiBNYXRoLnJvdW5kKGJhc2VQcmljZSAqICgxICsgTWF0aC5yYW5kb20oKSAqIDAuMDIpICogMTAwKSAvIDEwMCxcbiAgICAgIGRheUxvdzogTWF0aC5yb3VuZChiYXNlUHJpY2UgKiAoMSAtIE1hdGgucmFuZG9tKCkgKiAwLjAyKSAqIDEwMCkgLyAxMDAsXG4gICAgICBhdmdWb2x1bWU6IHRoaXMuZ2VuZXJhdGVSZWFsaXN0aWNWb2x1bWUoY29tcGFueS5zZWN0b3IpICogMC44LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUJhc2ljTW9ja1F1b3RlKHN5bWJvbDogc3RyaW5nKTogTGl2ZVF1b3RlRGF0YSB7XG4gICAgY29uc3QgYmFzZVByaWNlID0gTWF0aC5yYW5kb20oKSAqIDE1MCArIDUwOyAvLyAkNTAtJDIwMFxuICAgIGNvbnN0IGRhaWx5Q2hhbmdlID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4wNjtcbiAgICBjb25zdCBjaGFuZ2VBbW91bnQgPSBiYXNlUHJpY2UgKiBkYWlseUNoYW5nZTtcblxuICAgIHJldHVybiB7XG4gICAgICBzeW1ib2wsXG4gICAgICBuYW1lOiBgJHtzeW1ib2x9IENvbXBhbnlgLFxuICAgICAgcHJpY2U6IE1hdGgucm91bmQoYmFzZVByaWNlICogMTAwKSAvIDEwMCxcbiAgICAgIGNoYW5nZTogTWF0aC5yb3VuZChjaGFuZ2VBbW91bnQgKiAxMDApIC8gMTAwLFxuICAgICAgY2hhbmdlUGVyY2VudDogTWF0aC5yb3VuZChkYWlseUNoYW5nZSAqIDEwMDAwKSAvIDEwMCxcbiAgICAgIHZvbHVtZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMDAgKyAxMDAwMDAwKSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVSZWFsaXN0aWNWb2x1bWUoc2VjdG9yOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHNlY3RvclZvbHVtZVJhbmdlczogUmVjb3JkPHN0cmluZywgeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXIgfT4gPSB7XG4gICAgICAnVGVjaG5vbG9neSc6IHsgbWluOiAxMDAwMDAwMCwgbWF4OiAxMDAwMDAwMDAgfSxcbiAgICAgICdFVEYnOiB7IG1pbjogNTAwMDAwMDAsIG1heDogMjAwMDAwMDAwIH0sXG4gICAgICAnRmluYW5jaWFsIFNlcnZpY2VzJzogeyBtaW46IDUwMDAwMDAsIG1heDogNTAwMDAwMDAgfSxcbiAgICAgICdIZWFsdGhjYXJlJzogeyBtaW46IDMwMDAwMDAsIG1heDogMzAwMDAwMDAgfSxcbiAgICAgICdDb25zdW1lciBEaXNjcmV0aW9uYXJ5JzogeyBtaW46IDUwMDAwMDAsIG1heDogNDAwMDAwMDAgfSxcbiAgICAgICdDb25zdW1lciBTdGFwbGVzJzogeyBtaW46IDIwMDAwMDAsIG1heDogMjAwMDAwMDAgfSxcbiAgICAgICdFbmVyZ3knOiB7IG1pbjogODAwMDAwMCwgbWF4OiA2MDAwMDAwMCB9LFxuICAgICAgJ0luZHVzdHJpYWxzJzogeyBtaW46IDIwMDAwMDAsIG1heDogMjUwMDAwMDAgfSxcbiAgICAgICdVdGlsaXRpZXMnOiB7IG1pbjogMTAwMDAwMCwgbWF4OiAxMDAwMDAwMCB9LFxuICAgICAgJ1JlYWwgRXN0YXRlJzogeyBtaW46IDEwMDAwMDAsIG1heDogMTUwMDAwMDAgfSxcbiAgICAgICdNYXRlcmlhbHMnOiB7IG1pbjogMjAwMDAwMCwgbWF4OiAyMDAwMDAwMCB9LFxuICAgICAgJ0NvbW11bmljYXRpb24gU2VydmljZXMnOiB7IG1pbjogNTAwMDAwMCwgbWF4OiA0MDAwMDAwMCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJhbmdlID0gc2VjdG9yVm9sdW1lUmFuZ2VzW3NlY3Rvcl0gfHwgeyBtaW46IDEwMDAwMDAsIG1heDogMjAwMDAwMDAgfTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJhbmdlLm1heCAtIHJhbmdlLm1pbikgKyByYW5nZS5taW4pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlYWxpc3RpY01hcmtldENhcChzZWN0b3I6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3Qgc2VjdG9yTWFya2V0Q2FwUmFuZ2VzOiBSZWNvcmQ8c3RyaW5nLCB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlciB9PiA9IHtcbiAgICAgICdUZWNobm9sb2d5JzogeyBtaW46IDEwMDAwMDAwMDAwMCwgbWF4OiAzMDAwMDAwMDAwMDAwIH0sIC8vICQxMDBCLSQzVFxuICAgICAgJ0VURic6IHsgbWluOiA1MDAwMDAwMDAwMCwgbWF4OiA1MDAwMDAwMDAwMDAgfSwgLy8gJDUwQi0kNTAwQlxuICAgICAgJ0ZpbmFuY2lhbCBTZXJ2aWNlcyc6IHsgbWluOiA1MDAwMDAwMDAwMCwgbWF4OiA1MDAwMDAwMDAwMDAgfSxcbiAgICAgICdIZWFsdGhjYXJlJzogeyBtaW46IDMwMDAwMDAwMDAwLCBtYXg6IDQwMDAwMDAwMDAwMCB9LFxuICAgICAgJ0NvbnN1bWVyIERpc2NyZXRpb25hcnknOiB7IG1pbjogMjAwMDAwMDAwMDAsIG1heDogMzAwMDAwMDAwMDAwIH0sXG4gICAgICAnQ29uc3VtZXIgU3RhcGxlcyc6IHsgbWluOiA0MDAwMDAwMDAwMCwgbWF4OiAyNTAwMDAwMDAwMDAgfSxcbiAgICAgICdFbmVyZ3knOiB7IG1pbjogMzAwMDAwMDAwMDAsIG1heDogNDAwMDAwMDAwMDAwIH0sXG4gICAgICAnSW5kdXN0cmlhbHMnOiB7IG1pbjogMjAwMDAwMDAwMDAsIG1heDogMjAwMDAwMDAwMDAwIH0sXG4gICAgICAnVXRpbGl0aWVzJzogeyBtaW46IDE1MDAwMDAwMDAwLCBtYXg6IDEwMDAwMDAwMDAwMCB9LFxuICAgICAgJ1JlYWwgRXN0YXRlJzogeyBtaW46IDEwMDAwMDAwMDAwLCBtYXg6IDgwMDAwMDAwMDAwIH0sXG4gICAgICAnTWF0ZXJpYWxzJzogeyBtaW46IDE1MDAwMDAwMDAwLCBtYXg6IDE1MDAwMDAwMDAwMCB9LFxuICAgICAgJ0NvbW11bmljYXRpb24gU2VydmljZXMnOiB7IG1pbjogMjAwMDAwMDAwMDAsIG1heDogMzAwMDAwMDAwMDAwIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmFuZ2UgPSBzZWN0b3JNYXJrZXRDYXBSYW5nZXNbc2VjdG9yXSB8fCB7IG1pbjogMTAwMDAwMDAwMDAsIG1heDogMTAwMDAwMDAwMDAwIH07XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChyYW5nZS5tYXggLSByYW5nZS5taW4pICsgcmFuZ2UubWluKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVSZWFsaXN0aWNQRShzZWN0b3I6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3Qgc2VjdG9yUEVSYW5nZXM6IFJlY29yZDxzdHJpbmcsIHsgbWluOiBudW1iZXI7IG1heDogbnVtYmVyIH0+ID0ge1xuICAgICAgJ1RlY2hub2xvZ3knOiB7IG1pbjogMTUsIG1heDogNDAgfSxcbiAgICAgICdFVEYnOiB7IG1pbjogMTgsIG1heDogMjUgfSxcbiAgICAgICdGaW5hbmNpYWwgU2VydmljZXMnOiB7IG1pbjogOCwgbWF4OiAxNSB9LFxuICAgICAgJ0hlYWx0aGNhcmUnOiB7IG1pbjogMTIsIG1heDogMzAgfSxcbiAgICAgICdDb25zdW1lciBEaXNjcmV0aW9uYXJ5JzogeyBtaW46IDEwLCBtYXg6IDI1IH0sXG4gICAgICAnQ29uc3VtZXIgU3RhcGxlcyc6IHsgbWluOiAxNSwgbWF4OiAyNSB9LFxuICAgICAgJ0VuZXJneSc6IHsgbWluOiA4LCBtYXg6IDIwIH0sXG4gICAgICAnSW5kdXN0cmlhbHMnOiB7IG1pbjogMTIsIG1heDogMjIgfSxcbiAgICAgICdVdGlsaXRpZXMnOiB7IG1pbjogMTgsIG1heDogMjUgfSxcbiAgICAgICdSZWFsIEVzdGF0ZSc6IHsgbWluOiAxNSwgbWF4OiAzMCB9LFxuICAgICAgJ01hdGVyaWFscyc6IHsgbWluOiAxMCwgbWF4OiAxOCB9LFxuICAgICAgJ0NvbW11bmljYXRpb24gU2VydmljZXMnOiB7IG1pbjogMTIsIG1heDogMjUgfVxuICAgIH07XG5cbiAgICBjb25zdCByYW5nZSA9IHNlY3RvclBFUmFuZ2VzW3NlY3Rvcl0gfHwgeyBtaW46IDEwLCBtYXg6IDI1IH07XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKE1hdGgucmFuZG9tKCkgKiAocmFuZ2UubWF4IC0gcmFuZ2UubWluKSArIHJhbmdlLm1pbikgKiAxMDApIC8gMTAwO1xuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBzcDUwMERhdGFTZXJ2aWNlID0gU1A1MDBEYXRhU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFNQNTAwQ29tcGFuaWVzKCk6IFNQNTAwQ29tcGFueVtdIHtcbiAgcmV0dXJuIHNwNTAwRGF0YVNlcnZpY2UuZ2V0QWxsQ29tcGFuaWVzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hTUDUwMENvbXBhbmllcyhxdWVyeTogc3RyaW5nLCBsaW1pdD86IG51bWJlcik6IFNQNTAwQ29tcGFueVtdIHtcbiAgcmV0dXJuIHNwNTAwRGF0YVNlcnZpY2Uuc2VhcmNoQ29tcGFuaWVzKHF1ZXJ5LCBsaW1pdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3B1bGFyU1A1MDBTdG9ja3MoKTogU1A1MDBDb21wYW55W10ge1xuICByZXR1cm4gc3A1MDBEYXRhU2VydmljZS5nZXRQb3B1bGFyU3RvY2tzKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaExpdmVRdW90ZURhdGEoc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPExpdmVRdW90ZURhdGEgfCBudWxsPiB7XG4gIC8vIFRyeSB0byBmZXRjaCBsaXZlIGRhdGEgZmlyc3RcbiAgY29uc3QgbGl2ZURhdGEgPSBhd2FpdCBzcDUwMERhdGFTZXJ2aWNlLmZldGNoTGl2ZVF1b3RlKHN5bWJvbCk7XG4gIFxuICBpZiAobGl2ZURhdGEpIHtcbiAgICByZXR1cm4gbGl2ZURhdGE7XG4gIH1cblxuICAvLyBGYWxsIGJhY2sgdG8gZW5oYW5jZWQgbW9jayBkYXRhIGJhc2VkIG9uIHJlYWwgUyZQIDUwMCBjb21wYW55IGluZm9cbiAgcmV0dXJuIHNwNTAwRGF0YVNlcnZpY2UuZ2VuZXJhdGVFbmhhbmNlZE1vY2tRdW90ZShzeW1ib2wpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hIeWJyaWRRdW90ZURhdGEoc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPExpdmVRdW90ZURhdGE+IHtcbiAgY29uc3QgbGl2ZURhdGEgPSBhd2FpdCBmZXRjaExpdmVRdW90ZURhdGEoc3ltYm9sKTtcbiAgXG4gIGlmIChsaXZlRGF0YSkge1xuICAgIHJldHVybiBsaXZlRGF0YTtcbiAgfVxuXG4gIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gYXMgZ2VuZXJhdGVFbmhhbmNlZE1vY2tRdW90ZSBhbHdheXMgcmV0dXJucyBkYXRhXG4gIHJldHVybiBzcDUwMERhdGFTZXJ2aWNlLmdlbmVyYXRlRW5oYW5jZWRNb2NrUXVvdGUoc3ltYm9sKTtcbn1cbiJdLCJuYW1lcyI6WyJ5YWhvb0ZpbmFuY2UiLCJTUDUwMF9DT01QQU5JRVMiLCJzeW1ib2wiLCJuYW1lIiwic2VjdG9yIiwiaW5kdXN0cnkiLCJleGNoYW5nZSIsIlNQNTAwRGF0YVNlcnZpY2UiLCJjb21wYW5pZXMiLCJNYXAiLCJmb3JFYWNoIiwiY29tcGFueSIsInNldCIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRDb21wYW55IiwiZ2V0IiwidG9VcHBlckNhc2UiLCJzZWFyY2hDb21wYW5pZXMiLCJxdWVyeSIsImxpbWl0IiwidXBwZXJRdWVyeSIsInJlc3VsdHMiLCJzY29yZSIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsInRvTG93ZXJDYXNlIiwicHVzaCIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwibWFwIiwicmVzdWx0IiwiZ2V0UG9wdWxhclN0b2NrcyIsInBvcHVsYXJTeW1ib2xzIiwiZmlsdGVyIiwidW5kZWZpbmVkIiwiZ2V0Q29tcGFuaWVzQnlTZWN0b3IiLCJmZXRjaExpdmVRdW90ZSIsInF1b3RlIiwicmVndWxhck1hcmtldFByaWNlIiwibG9uZ05hbWUiLCJzaG9ydE5hbWUiLCJwcmljZSIsImNoYW5nZSIsInJlZ3VsYXJNYXJrZXRDaGFuZ2UiLCJjaGFuZ2VQZXJjZW50IiwicmVndWxhck1hcmtldENoYW5nZVBlcmNlbnQiLCJ2b2x1bWUiLCJyZWd1bGFyTWFya2V0Vm9sdW1lIiwibWFya2V0Q2FwIiwicGUiLCJ0cmFpbGluZ1BFIiwiaGlnaDUyV2VlayIsImZpZnR5VHdvV2Vla0hpZ2giLCJsb3c1MldlZWsiLCJmaWZ0eVR3b1dlZWtMb3ciLCJwcmV2aW91c0Nsb3NlIiwicmVndWxhck1hcmtldFByZXZpb3VzQ2xvc2UiLCJkYXlIaWdoIiwicmVndWxhck1hcmtldERheUhpZ2giLCJkYXlMb3ciLCJyZWd1bGFyTWFya2V0RGF5TG93IiwiYXZnVm9sdW1lIiwiYXZlcmFnZURhaWx5Vm9sdW1lM01vbnRoIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZXJyb3IiLCJjb25zb2xlIiwiZmV0Y2hNdWx0aXBsZVF1b3RlcyIsInN5bWJvbHMiLCJxdW90ZXMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImluZGV4Iiwic3RhdHVzIiwidmFsdWUiLCJnZW5lcmF0ZUVuaGFuY2VkTW9ja1F1b3RlIiwiZ2VuZXJhdGVCYXNpY01vY2tRdW90ZSIsInNlY3RvclByaWNlUmFuZ2VzIiwibWluIiwibWF4IiwicHJpY2VSYW5nZSIsImJhc2VQcmljZSIsIk1hdGgiLCJyYW5kb20iLCJkYWlseUNoYW5nZSIsImNoYW5nZUFtb3VudCIsInJvdW5kIiwiZ2VuZXJhdGVSZWFsaXN0aWNWb2x1bWUiLCJnZW5lcmF0ZVJlYWxpc3RpY01hcmtldENhcCIsImdlbmVyYXRlUmVhbGlzdGljUEUiLCJmbG9vciIsInNlY3RvclZvbHVtZVJhbmdlcyIsInJhbmdlIiwic2VjdG9yTWFya2V0Q2FwUmFuZ2VzIiwic2VjdG9yUEVSYW5nZXMiLCJzcDUwMERhdGFTZXJ2aWNlIiwiZ2V0QWxsU1A1MDBDb21wYW5pZXMiLCJzZWFyY2hTUDUwMENvbXBhbmllcyIsImdldFBvcHVsYXJTUDUwMFN0b2NrcyIsImZldGNoTGl2ZVF1b3RlRGF0YSIsImxpdmVEYXRhIiwiZmV0Y2hIeWJyaWRRdW90ZURhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/data/sp500Service.ts\n");

/***/ }),

/***/ "(rsc)/./lib/pricing/blackScholes.ts":
/*!*************************************!*\
  !*** ./lib/pricing/blackScholes.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blackScholes: () => (/* binding */ blackScholes),\n/* harmony export */   findATMStrike: () => (/* binding */ findATMStrike),\n/* harmony export */   impliedVolBrent: () => (/* binding */ impliedVolBrent)\n/* harmony export */ });\n/**\n * Black-Scholes pricing model with Greeks calculation\n * Used for options pricing and implied volatility calculations\n */ /**\n * Standard normal cumulative distribution function\n */ function normCDF(x) {\n    const a1 = 0.254829592;\n    const a2 = -0.284496736;\n    const a3 = 1.421413741;\n    const a4 = -1.453152027;\n    const a5 = 1.061405429;\n    const p = 0.3275911;\n    const sign = x < 0 ? -1 : 1;\n    x = Math.abs(x) / Math.sqrt(2.0);\n    const t = 1.0 / (1.0 + p * x);\n    const y = 1.0 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);\n    return 0.5 * (1.0 + sign * y);\n}\n/**\n * Standard normal probability density function\n */ function normPDF(x) {\n    return Math.exp(-0.5 * x * x) / Math.sqrt(2 * Math.PI);\n}\n/**\n * Calculate d1 and d2 parameters for Black-Scholes\n */ function calculateD1D2(params) {\n    const { S, K, T, r, q, iv } = params;\n    if (T <= 0 || iv <= 0) {\n        throw new Error(\"Time to expiration and volatility must be positive\");\n    }\n    const d1 = (Math.log(S / K) + (r - q + 0.5 * iv * iv) * T) / (iv * Math.sqrt(T));\n    const d2 = d1 - iv * Math.sqrt(T);\n    return {\n        d1,\n        d2\n    };\n}\n/**\n * Calculate Black-Scholes option prices and Greeks\n */ function blackScholes(params) {\n    const { S, K, T, r, q } = params;\n    if (S <= 0 || K <= 0) {\n        throw new Error(\"Stock price and strike price must be positive\");\n    }\n    const { d1, d2 } = calculateD1D2(params);\n    const Nd1 = normCDF(d1);\n    const Nd2 = normCDF(d2);\n    const NegD1 = normCDF(-d1);\n    const NegD2 = normCDF(-d2);\n    const nd1 = normPDF(d1);\n    const discountFactor = Math.exp(-r * T);\n    const dividendFactor = Math.exp(-q * T);\n    // Option prices\n    const call = S * dividendFactor * Nd1 - K * discountFactor * Nd2;\n    const put = K * discountFactor * NegD2 - S * dividendFactor * NegD1;\n    // Greeks\n    const delta = {\n        call: dividendFactor * Nd1,\n        put: -dividendFactor * NegD1\n    };\n    const gamma = dividendFactor * nd1 / (S * params.iv * Math.sqrt(T));\n    const theta = {\n        call: (-S * dividendFactor * nd1 * params.iv / (2 * Math.sqrt(T)) - r * K * discountFactor * Nd2 + q * S * dividendFactor * Nd1) / 365,\n        put: (-S * dividendFactor * nd1 * params.iv / (2 * Math.sqrt(T)) + r * K * discountFactor * NegD2 - q * S * dividendFactor * NegD1) / 365\n    };\n    const vega = S * dividendFactor * nd1 * Math.sqrt(T) / 100;\n    const rho = {\n        call: K * T * discountFactor * Nd2 / 100,\n        put: -K * T * discountFactor * NegD2 / 100\n    };\n    return {\n        call: Math.max(0, call),\n        put: Math.max(0, put),\n        delta,\n        gamma,\n        theta,\n        vega,\n        rho\n    };\n}\n/**\n * Calculate implied volatility using Brent's method\n */ function impliedVolBrent(marketPrice, params, isCall = true, tolerance = 1e-6, maxIterations = 100) {\n    if (marketPrice <= 0) {\n        throw new Error(\"Market price must be positive\");\n    }\n    const { S, K, T } = params;\n    // Intrinsic value bounds\n    const intrinsic = isCall ? Math.max(0, S - K) : Math.max(0, K - S);\n    if (marketPrice <= intrinsic) {\n        return 0.01; // Minimum volatility\n    }\n    // Initial bounds for volatility search\n    let volLow = 0.01;\n    let volHigh = 5.0;\n    // Test bounds\n    const testLow = blackScholes({\n        ...params,\n        iv: volLow\n    });\n    const testHigh = blackScholes({\n        ...params,\n        iv: volHigh\n    });\n    const priceLow = isCall ? testLow.call : testLow.put;\n    const priceHigh = isCall ? testHigh.call : testHigh.put;\n    if (marketPrice < priceLow) return volLow;\n    if (marketPrice > priceHigh) return volHigh;\n    // Brent's method\n    let a = volLow;\n    let b = volHigh;\n    let c = volHigh;\n    let fa = priceLow - marketPrice;\n    let fb = priceHigh - marketPrice;\n    let fc = fb;\n    for(let iter = 0; iter < maxIterations; iter++){\n        if (Math.abs(fb) < tolerance) {\n            return b;\n        }\n        if (Math.sign(fa) === Math.sign(fb)) {\n            a = c;\n            fa = fc;\n        }\n        if (Math.abs(fa) < Math.abs(fb)) {\n            [a, b] = [\n                b,\n                a\n            ];\n            [fa, fb] = [\n                fb,\n                fa\n            ];\n        }\n        const tol = 2 * tolerance * Math.abs(b) + tolerance;\n        const m = (a - b) / 2;\n        if (Math.abs(m) < tol) {\n            return b;\n        }\n        let p, q, r, s;\n        if (Math.abs(c - b) < tolerance || Math.abs(fc - fb) < tolerance) {\n            // Bisection\n            p = m;\n            q = 1;\n        } else {\n            // Inverse quadratic interpolation\n            s = fb / fc;\n            if (Math.abs(a - c) < tolerance) {\n                p = 2 * m * s;\n                q = 1 - s;\n            } else {\n                q = fc / fa;\n                r = fb / fa;\n                p = s * (2 * m * q * (q - r) - (b - c) * (r - 1));\n                q = (q - 1) * (r - 1) * (s - 1);\n            }\n        }\n        if (p > 0) q = -q;\n        else p = -p;\n        if (2 * p < Math.min(3 * m * q - Math.abs(tol * q), Math.abs((c - b) * q))) {\n            c = b;\n            fc = fb;\n            b += p / q;\n        } else {\n            c = b;\n            fc = fb;\n            b += m;\n        }\n        const bsResult = blackScholes({\n            ...params,\n            iv: b\n        });\n        fb = (isCall ? bsResult.call : bsResult.put) - marketPrice;\n    }\n    return b;\n}\n/**\n * Find at-the-money strike and calculate ATM implied volatility\n */ function findATMStrike(strikes, spot) {\n    if (strikes.length === 0) {\n        throw new Error(\"No strikes provided\");\n    }\n    return strikes.reduce((closest, strike)=>Math.abs(strike - spot) < Math.abs(closest - spot) ? strike : closest);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxLQUFLRDtZQUNMSCxLQUFLbkQsSUFBSWdCO1FBQ1gsT0FBTztZQUNMb0MsSUFBSUQ7WUFDSkksS0FBS0Q7WUFDTEgsS0FBS087UUFDUDtRQUVBLE1BQU1HLFdBQVd2QyxhQUFhO1lBQUUsR0FBR1gsTUFBTTtZQUFFTSxJQUFJa0M7UUFBRTtRQUNqREcsS0FBSyxDQUFDZCxTQUFTcUIsU0FBUy9CLElBQUksR0FBRytCLFNBQVM5QixHQUFHLElBQUlRO0lBQ2pEO0lBRUEsT0FBT1k7QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU1csY0FBY0MsT0FBaUIsRUFBRUMsSUFBWTtJQUMzRCxJQUFJRCxRQUFRRSxNQUFNLEtBQUssR0FBRztRQUN4QixNQUFNLElBQUkvQyxNQUFNO0lBQ2xCO0lBRUEsT0FBTzZDLFFBQVFHLE1BQU0sQ0FBQyxDQUFDQyxTQUFTQyxTQUM5QmxFLEtBQUtDLEdBQUcsQ0FBQ2lFLFNBQVNKLFFBQVE5RCxLQUFLQyxHQUFHLENBQUNnRSxVQUFVSCxRQUFRSSxTQUFTRDtBQUVsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YW50aXYvLi9saWIvcHJpY2luZy9ibGFja1NjaG9sZXMudHM/ZGM2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJsYWNrLVNjaG9sZXMgcHJpY2luZyBtb2RlbCB3aXRoIEdyZWVrcyBjYWxjdWxhdGlvblxuICogVXNlZCBmb3Igb3B0aW9ucyBwcmljaW5nIGFuZCBpbXBsaWVkIHZvbGF0aWxpdHkgY2FsY3VsYXRpb25zXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBCU1BhcmFtcyB7XG4gIFM6IG51bWJlcjsgIC8vIEN1cnJlbnQgc3RvY2sgcHJpY2VcbiAgSzogbnVtYmVyOyAgLy8gU3RyaWtlIHByaWNlXG4gIFQ6IG51bWJlcjsgIC8vIFRpbWUgdG8gZXhwaXJhdGlvbiAoaW4geWVhcnMpXG4gIHI6IG51bWJlcjsgIC8vIFJpc2stZnJlZSByYXRlXG4gIHE6IG51bWJlcjsgIC8vIERpdmlkZW5kIHlpZWxkIChjYXJyeSByYXRlKVxuICBpdjogbnVtYmVyOyAvLyBJbXBsaWVkIHZvbGF0aWxpdHlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCU1Jlc3VsdCB7XG4gIGNhbGw6IG51bWJlcjtcbiAgcHV0OiBudW1iZXI7XG4gIGRlbHRhOiB7IGNhbGw6IG51bWJlcjsgcHV0OiBudW1iZXIgfTtcbiAgZ2FtbWE6IG51bWJlcjtcbiAgdGhldGE6IHsgY2FsbDogbnVtYmVyOyBwdXQ6IG51bWJlciB9O1xuICB2ZWdhOiBudW1iZXI7XG4gIHJobzogeyBjYWxsOiBudW1iZXI7IHB1dDogbnVtYmVyIH07XG59XG5cbi8qKlxuICogU3RhbmRhcmQgbm9ybWFsIGN1bXVsYXRpdmUgZGlzdHJpYnV0aW9uIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG5vcm1DREYoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgYTEgPSAwLjI1NDgyOTU5MjtcbiAgY29uc3QgYTIgPSAtMC4yODQ0OTY3MzY7XG4gIGNvbnN0IGEzID0gMS40MjE0MTM3NDE7XG4gIGNvbnN0IGE0ID0gLTEuNDUzMTUyMDI3O1xuICBjb25zdCBhNSA9IDEuMDYxNDA1NDI5O1xuICBjb25zdCBwID0gMC4zMjc1OTExO1xuXG4gIGNvbnN0IHNpZ24gPSB4IDwgMCA/IC0xIDogMTtcbiAgeCA9IE1hdGguYWJzKHgpIC8gTWF0aC5zcXJ0KDIuMCk7XG5cbiAgY29uc3QgdCA9IDEuMCAvICgxLjAgKyBwICogeCk7XG4gIGNvbnN0IHkgPSAxLjAgLSAoKCgoKGE1ICogdCArIGE0KSAqIHQpICsgYTMpICogdCArIGEyKSAqIHQgKyBhMSkgKiB0ICogTWF0aC5leHAoLXggKiB4KTtcblxuICByZXR1cm4gMC41ICogKDEuMCArIHNpZ24gKiB5KTtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZCBub3JtYWwgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBub3JtUERGKHg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLmV4cCgtMC41ICogeCAqIHgpIC8gTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgZDEgYW5kIGQyIHBhcmFtZXRlcnMgZm9yIEJsYWNrLVNjaG9sZXNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRDFEMihwYXJhbXM6IEJTUGFyYW1zKTogeyBkMTogbnVtYmVyOyBkMjogbnVtYmVyIH0ge1xuICBjb25zdCB7IFMsIEssIFQsIHIsIHEsIGl2IH0gPSBwYXJhbXM7XG4gIFxuICBpZiAoVCA8PSAwIHx8IGl2IDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWUgdG8gZXhwaXJhdGlvbiBhbmQgdm9sYXRpbGl0eSBtdXN0IGJlIHBvc2l0aXZlJyk7XG4gIH1cblxuICBjb25zdCBkMSA9IChNYXRoLmxvZyhTIC8gSykgKyAociAtIHEgKyAwLjUgKiBpdiAqIGl2KSAqIFQpIC8gKGl2ICogTWF0aC5zcXJ0KFQpKTtcbiAgY29uc3QgZDIgPSBkMSAtIGl2ICogTWF0aC5zcXJ0KFQpO1xuXG4gIHJldHVybiB7IGQxLCBkMiB9O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBCbGFjay1TY2hvbGVzIG9wdGlvbiBwcmljZXMgYW5kIEdyZWVrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYmxhY2tTY2hvbGVzKHBhcmFtczogQlNQYXJhbXMpOiBCU1Jlc3VsdCB7XG4gIGNvbnN0IHsgUywgSywgVCwgciwgcSB9ID0gcGFyYW1zO1xuICBcbiAgaWYgKFMgPD0gMCB8fCBLIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0b2NrIHByaWNlIGFuZCBzdHJpa2UgcHJpY2UgbXVzdCBiZSBwb3NpdGl2ZScpO1xuICB9XG5cbiAgY29uc3QgeyBkMSwgZDIgfSA9IGNhbGN1bGF0ZUQxRDIocGFyYW1zKTtcbiAgXG4gIGNvbnN0IE5kMSA9IG5vcm1DREYoZDEpO1xuICBjb25zdCBOZDIgPSBub3JtQ0RGKGQyKTtcbiAgY29uc3QgTmVnRDEgPSBub3JtQ0RGKC1kMSk7XG4gIGNvbnN0IE5lZ0QyID0gbm9ybUNERigtZDIpO1xuICBjb25zdCBuZDEgPSBub3JtUERGKGQxKTtcblxuICBjb25zdCBkaXNjb3VudEZhY3RvciA9IE1hdGguZXhwKC1yICogVCk7XG4gIGNvbnN0IGRpdmlkZW5kRmFjdG9yID0gTWF0aC5leHAoLXEgKiBUKTtcblxuICAvLyBPcHRpb24gcHJpY2VzXG4gIGNvbnN0IGNhbGwgPSBTICogZGl2aWRlbmRGYWN0b3IgKiBOZDEgLSBLICogZGlzY291bnRGYWN0b3IgKiBOZDI7XG4gIGNvbnN0IHB1dCA9IEsgKiBkaXNjb3VudEZhY3RvciAqIE5lZ0QyIC0gUyAqIGRpdmlkZW5kRmFjdG9yICogTmVnRDE7XG5cbiAgLy8gR3JlZWtzXG4gIGNvbnN0IGRlbHRhID0ge1xuICAgIGNhbGw6IGRpdmlkZW5kRmFjdG9yICogTmQxLFxuICAgIHB1dDogLWRpdmlkZW5kRmFjdG9yICogTmVnRDFcbiAgfTtcblxuICBjb25zdCBnYW1tYSA9IChkaXZpZGVuZEZhY3RvciAqIG5kMSkgLyAoUyAqIHBhcmFtcy5pdiAqIE1hdGguc3FydChUKSk7XG4gIFxuICBjb25zdCB0aGV0YSA9IHtcbiAgICBjYWxsOiAoLVMgKiBkaXZpZGVuZEZhY3RvciAqIG5kMSAqIHBhcmFtcy5pdiAvICgyICogTWF0aC5zcXJ0KFQpKSBcbiAgICAgICAgICAgLSByICogSyAqIGRpc2NvdW50RmFjdG9yICogTmQyIFxuICAgICAgICAgICArIHEgKiBTICogZGl2aWRlbmRGYWN0b3IgKiBOZDEpIC8gMzY1LFxuICAgIHB1dDogKC1TICogZGl2aWRlbmRGYWN0b3IgKiBuZDEgKiBwYXJhbXMuaXYgLyAoMiAqIE1hdGguc3FydChUKSkgXG4gICAgICAgICAgKyByICogSyAqIGRpc2NvdW50RmFjdG9yICogTmVnRDIgXG4gICAgICAgICAgLSBxICogUyAqIGRpdmlkZW5kRmFjdG9yICogTmVnRDEpIC8gMzY1XG4gIH07XG5cbiAgY29uc3QgdmVnYSA9IChTICogZGl2aWRlbmRGYWN0b3IgKiBuZDEgKiBNYXRoLnNxcnQoVCkpIC8gMTAwO1xuXG4gIGNvbnN0IHJobyA9IHtcbiAgICBjYWxsOiAoSyAqIFQgKiBkaXNjb3VudEZhY3RvciAqIE5kMikgLyAxMDAsXG4gICAgcHV0OiAoLUsgKiBUICogZGlzY291bnRGYWN0b3IgKiBOZWdEMikgLyAxMDBcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNhbGw6IE1hdGgubWF4KDAsIGNhbGwpLFxuICAgIHB1dDogTWF0aC5tYXgoMCwgcHV0KSxcbiAgICBkZWx0YSxcbiAgICBnYW1tYSxcbiAgICB0aGV0YSxcbiAgICB2ZWdhLFxuICAgIHJob1xuICB9O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBpbXBsaWVkIHZvbGF0aWxpdHkgdXNpbmcgQnJlbnQncyBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltcGxpZWRWb2xCcmVudChcbiAgbWFya2V0UHJpY2U6IG51bWJlcixcbiAgcGFyYW1zOiBPbWl0PEJTUGFyYW1zLCAnaXYnPixcbiAgaXNDYWxsOiBib29sZWFuID0gdHJ1ZSxcbiAgdG9sZXJhbmNlOiBudW1iZXIgPSAxZS02LFxuICBtYXhJdGVyYXRpb25zOiBudW1iZXIgPSAxMDBcbik6IG51bWJlciB7XG4gIGlmIChtYXJrZXRQcmljZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNYXJrZXQgcHJpY2UgbXVzdCBiZSBwb3NpdGl2ZScpO1xuICB9XG5cbiAgY29uc3QgeyBTLCBLLCBUIH0gPSBwYXJhbXM7XG4gIFxuICAvLyBJbnRyaW5zaWMgdmFsdWUgYm91bmRzXG4gIGNvbnN0IGludHJpbnNpYyA9IGlzQ2FsbCA/IE1hdGgubWF4KDAsIFMgLSBLKSA6IE1hdGgubWF4KDAsIEsgLSBTKTtcbiAgaWYgKG1hcmtldFByaWNlIDw9IGludHJpbnNpYykge1xuICAgIHJldHVybiAwLjAxOyAvLyBNaW5pbXVtIHZvbGF0aWxpdHlcbiAgfVxuXG4gIC8vIEluaXRpYWwgYm91bmRzIGZvciB2b2xhdGlsaXR5IHNlYXJjaFxuICBsZXQgdm9sTG93ID0gMC4wMTtcbiAgbGV0IHZvbEhpZ2ggPSA1LjA7XG5cbiAgLy8gVGVzdCBib3VuZHNcbiAgY29uc3QgdGVzdExvdyA9IGJsYWNrU2Nob2xlcyh7IC4uLnBhcmFtcywgaXY6IHZvbExvdyB9KTtcbiAgY29uc3QgdGVzdEhpZ2ggPSBibGFja1NjaG9sZXMoeyAuLi5wYXJhbXMsIGl2OiB2b2xIaWdoIH0pO1xuICBcbiAgY29uc3QgcHJpY2VMb3cgPSBpc0NhbGwgPyB0ZXN0TG93LmNhbGwgOiB0ZXN0TG93LnB1dDtcbiAgY29uc3QgcHJpY2VIaWdoID0gaXNDYWxsID8gdGVzdEhpZ2guY2FsbCA6IHRlc3RIaWdoLnB1dDtcblxuICBpZiAobWFya2V0UHJpY2UgPCBwcmljZUxvdykgcmV0dXJuIHZvbExvdztcbiAgaWYgKG1hcmtldFByaWNlID4gcHJpY2VIaWdoKSByZXR1cm4gdm9sSGlnaDtcblxuICAvLyBCcmVudCdzIG1ldGhvZFxuICBsZXQgYSA9IHZvbExvdztcbiAgbGV0IGIgPSB2b2xIaWdoO1xuICBsZXQgYyA9IHZvbEhpZ2g7XG4gIFxuICBsZXQgZmEgPSBwcmljZUxvdyAtIG1hcmtldFByaWNlO1xuICBsZXQgZmIgPSBwcmljZUhpZ2ggLSBtYXJrZXRQcmljZTtcbiAgbGV0IGZjID0gZmI7XG5cbiAgZm9yIChsZXQgaXRlciA9IDA7IGl0ZXIgPCBtYXhJdGVyYXRpb25zOyBpdGVyKyspIHtcbiAgICBpZiAoTWF0aC5hYnMoZmIpIDwgdG9sZXJhbmNlKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5zaWduKGZhKSA9PT0gTWF0aC5zaWduKGZiKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBmYSA9IGZjO1xuICAgIH1cblxuICAgIGlmIChNYXRoLmFicyhmYSkgPCBNYXRoLmFicyhmYikpIHtcbiAgICAgIFthLCBiXSA9IFtiLCBhXTtcbiAgICAgIFtmYSwgZmJdID0gW2ZiLCBmYV07XG4gICAgfVxuXG4gICAgY29uc3QgdG9sID0gMiAqIHRvbGVyYW5jZSAqIE1hdGguYWJzKGIpICsgdG9sZXJhbmNlO1xuICAgIGNvbnN0IG0gPSAoYSAtIGIpIC8gMjtcblxuICAgIGlmIChNYXRoLmFicyhtKSA8IHRvbCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuXG4gICAgbGV0IHAsIHEsIHIsIHM7XG4gICAgaWYgKE1hdGguYWJzKGMgLSBiKSA8IHRvbGVyYW5jZSB8fCBNYXRoLmFicyhmYyAtIGZiKSA8IHRvbGVyYW5jZSkge1xuICAgICAgLy8gQmlzZWN0aW9uXG4gICAgICBwID0gbTtcbiAgICAgIHEgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnZlcnNlIHF1YWRyYXRpYyBpbnRlcnBvbGF0aW9uXG4gICAgICBzID0gZmIgLyBmYztcbiAgICAgIGlmIChNYXRoLmFicyhhIC0gYykgPCB0b2xlcmFuY2UpIHtcbiAgICAgICAgcCA9IDIgKiBtICogcztcbiAgICAgICAgcSA9IDEgLSBzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcSA9IGZjIC8gZmE7XG4gICAgICAgIHIgPSBmYiAvIGZhO1xuICAgICAgICBwID0gcyAqICgyICogbSAqIHEgKiAocSAtIHIpIC0gKGIgLSBjKSAqIChyIC0gMSkpO1xuICAgICAgICBxID0gKHEgLSAxKSAqIChyIC0gMSkgKiAocyAtIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwID4gMCkgcSA9IC1xO1xuICAgIGVsc2UgcCA9IC1wO1xuXG4gICAgaWYgKDIgKiBwIDwgTWF0aC5taW4oMyAqIG0gKiBxIC0gTWF0aC5hYnModG9sICogcSksIE1hdGguYWJzKChjIC0gYikgKiBxKSkpIHtcbiAgICAgIGMgPSBiO1xuICAgICAgZmMgPSBmYjtcbiAgICAgIGIgKz0gcCAvIHE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgPSBiO1xuICAgICAgZmMgPSBmYjtcbiAgICAgIGIgKz0gbTtcbiAgICB9XG5cbiAgICBjb25zdCBic1Jlc3VsdCA9IGJsYWNrU2Nob2xlcyh7IC4uLnBhcmFtcywgaXY6IGIgfSk7XG4gICAgZmIgPSAoaXNDYWxsID8gYnNSZXN1bHQuY2FsbCA6IGJzUmVzdWx0LnB1dCkgLSBtYXJrZXRQcmljZTtcbiAgfVxuXG4gIHJldHVybiBiO1xufVxuXG4vKipcbiAqIEZpbmQgYXQtdGhlLW1vbmV5IHN0cmlrZSBhbmQgY2FsY3VsYXRlIEFUTSBpbXBsaWVkIHZvbGF0aWxpdHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRBVE1TdHJpa2Uoc3RyaWtlczogbnVtYmVyW10sIHNwb3Q6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChzdHJpa2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gc3RyaWtlcyBwcm92aWRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIHN0cmlrZXMucmVkdWNlKChjbG9zZXN0LCBzdHJpa2UpID0+IFxuICAgIE1hdGguYWJzKHN0cmlrZSAtIHNwb3QpIDwgTWF0aC5hYnMoY2xvc2VzdCAtIHNwb3QpID8gc3RyaWtlIDogY2xvc2VzdFxuICApO1xufVxuIl0sIm5hbWVzIjpbIm5vcm1DREYiLCJ4IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsInAiLCJzaWduIiwiTWF0aCIsImFicyIsInNxcnQiLCJ0IiwieSIsImV4cCIsIm5vcm1QREYiLCJQSSIsImNhbGN1bGF0ZUQxRDIiLCJwYXJhbXMiLCJTIiwiSyIsIlQiLCJyIiwicSIsIml2IiwiRXJyb3IiLCJkMSIsImxvZyIsImQyIiwiYmxhY2tTY2hvbGVzIiwiTmQxIiwiTmQyIiwiTmVnRDEiLCJOZWdEMiIsIm5kMSIsImRpc2NvdW50RmFjdG9yIiwiZGl2aWRlbmRGYWN0b3IiLCJjYWxsIiwicHV0IiwiZGVsdGEiLCJnYW1tYSIsInRoZXRhIiwidmVnYSIsInJobyIsIm1heCIsImltcGxpZWRWb2xCcmVudCIsIm1hcmtldFByaWNlIiwiaXNDYWxsIiwidG9sZXJhbmNlIiwibWF4SXRlcmF0aW9ucyIsImludHJpbnNpYyIsInZvbExvdyIsInZvbEhpZ2giLCJ0ZXN0TG93IiwidGVzdEhpZ2giLCJwcmljZUxvdyIsInByaWNlSGlnaCIsImEiLCJiIiwiYyIsImZhIiwiZmIiLCJmYyIsIml0ZXIiLCJ0b2wiLCJtIiwicyIsIm1pbiIsImJzUmVzdWx0IiwiZmluZEFUTVN0cmlrZSIsInN0cmlrZXMiLCJzcG90IiwibGVuZ3RoIiwicmVkdWNlIiwiY2xvc2VzdCIsInN0cmlrZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/pricing/blackScholes.ts\n");

/***/ }),

/***/ "(rsc)/./lib/schemas.ts":
/*!************************!*\
  !*** ./lib/schemas.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DateSchema: () => (/* binding */ DateSchema),\n/* harmony export */   EarningsDataSchema: () => (/* binding */ EarningsDataSchema),\n/* harmony export */   EarningsEventSchema: () => (/* binding */ EarningsEventSchema),\n/* harmony export */   EarningsRequestSchema: () => (/* binding */ EarningsRequestSchema),\n/* harmony export */   EarningsResponseSchema: () => (/* binding */ EarningsResponseSchema),\n/* harmony export */   ErrorResponseSchema: () => (/* binding */ ErrorResponseSchema),\n/* harmony export */   ExpectedMoveRequestSchema: () => (/* binding */ ExpectedMoveRequestSchema),\n/* harmony export */   ExpectedMoveResponseSchema: () => (/* binding */ ExpectedMoveResponseSchema),\n/* harmony export */   ExpectedMoveSchema: () => (/* binding */ ExpectedMoveSchema),\n/* harmony export */   ExpirySchema: () => (/* binding */ ExpirySchema),\n/* harmony export */   HealthResponseSchema: () => (/* binding */ HealthResponseSchema),\n/* harmony export */   HitResponseSchema: () => (/* binding */ HitResponseSchema),\n/* harmony export */   IVStatsSchema: () => (/* binding */ IVStatsSchema),\n/* harmony export */   OptionSchema: () => (/* binding */ OptionSchema),\n/* harmony export */   OptionalExpirySchema: () => (/* binding */ OptionalExpirySchema),\n/* harmony export */   OptionsChainSchema: () => (/* binding */ OptionsChainSchema),\n/* harmony export */   OptionsRequestSchema: () => (/* binding */ OptionsRequestSchema),\n/* harmony export */   OptionsResponseSchema: () => (/* binding */ OptionsResponseSchema),\n/* harmony export */   RealizedMoveSchema: () => (/* binding */ RealizedMoveSchema),\n/* harmony export */   SymbolSchema: () => (/* binding */ SymbolSchema),\n/* harmony export */   TopMoversRequestSchema: () => (/* binding */ TopMoversRequestSchema),\n/* harmony export */   TopMoversResponseSchema: () => (/* binding */ TopMoversResponseSchema),\n/* harmony export */   createApiResponse: () => (/* binding */ createApiResponse),\n/* harmony export */   validateRequest: () => (/* binding */ validateRequest)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n/**\n * Zod schemas for API validation and type safety\n * Used across all API routes for request/response validation\n */ \n/**\n * Common validation schemas\n */ const SymbolSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Symbol is required\").max(10, \"Symbol too long\").regex(/^[A-Za-z0-9.-]+$/, \"Invalid symbol format\").transform((s)=>s.toUpperCase());\nconst ExpirySchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Expiry must be in YYYY-MM-DD format\").refine((date)=>{\n    const parsed = new Date(date);\n    const now = new Date();\n    return parsed > now;\n}, \"Expiry must be in the future\");\nconst OptionalExpirySchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Expiry must be in YYYY-MM-DD format\").refine((date)=>{\n    const parsed = new Date(date);\n    const now = new Date();\n    return parsed > now;\n}, \"Expiry must be in the future\").optional();\nconst DateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Date must be in YYYY-MM-DD format\");\n/**\n * Options chain schemas\n */ const OptionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    strike: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Strike must be positive\"),\n    mid: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Mid price cannot be negative\"),\n    bid: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Bid price cannot be negative\"),\n    ask: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Ask price cannot be negative\"),\n    iv: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"IV must be positive\").optional(),\n    delta: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    gamma: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    theta: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    vega: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    rho: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    volume: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative().optional(),\n    openInterest: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative().optional(),\n    lastPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative().optional(),\n    change: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    changePct: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional()\n});\nconst OptionsChainSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    symbol: SymbolSchema,\n    spot: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Spot price must be positive\"),\n    expiryDate: ExpirySchema,\n    daysToExpiry: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Days to expiry must be positive\"),\n    strikes: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.number().positive()).min(1, \"At least one strike required\"),\n    calls: zod__WEBPACK_IMPORTED_MODULE_0__.array(OptionSchema).min(1, \"At least one call required\"),\n    puts: zod__WEBPACK_IMPORTED_MODULE_0__.array(OptionSchema).min(1, \"At least one put required\"),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime().optional(),\n    source: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n/**\n * Expected move schemas\n */ const ExpectedMoveSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    straddle: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        abs: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Straddle move cannot be negative\"),\n        pct: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Straddle percentage cannot be negative\")\n    }),\n    iv: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        abs: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"IV move cannot be negative\"),\n        pct: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"IV percentage cannot be negative\")\n    }),\n    bands: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        oneSigma: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            upper: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n            lower: zod__WEBPACK_IMPORTED_MODULE_0__.number()\n        }),\n        twoSigma: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            upper: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n            lower: zod__WEBPACK_IMPORTED_MODULE_0__.number()\n        })\n    }),\n    confidence: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        straddle: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n            \"high\",\n            \"medium\",\n            \"low\"\n        ]),\n        iv: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n            \"high\",\n            \"medium\",\n            \"low\"\n        ])\n    })\n});\n/**\n * IV statistics schemas\n */ const IVStatsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    rank: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0).max(1, \"IV rank must be between 0 and 1\"),\n    percentile: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0).max(100, \"Percentile must be between 0 and 100\"),\n    current: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Current IV must be positive\"),\n    min: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Min IV must be positive\"),\n    max: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Max IV must be positive\"),\n    mean: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Mean IV must be positive\"),\n    median: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Median IV must be positive\"),\n    stdDev: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(\"Standard deviation cannot be negative\"),\n    daysInSample: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Days in sample must be positive\")\n});\n/**\n * Earnings schemas\n */ const EarningsEventSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    date: DateSchema,\n    confidence: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"confirmed\",\n        \"estimated\"\n    ]),\n    timing: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"bmo\",\n        \"amc\",\n        \"unknown\"\n    ]).optional(),\n    estimate: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        eps: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n        revenue: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional()\n    }).optional()\n});\nconst RealizedMoveSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    date: DateSchema,\n    realizedMovePct: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n    priceChange: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n    priceBefore: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n    priceAfter: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n    volume: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative().optional()\n});\nconst EarningsDataSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    symbol: SymbolSchema,\n    next: EarningsEventSchema.optional(),\n    last: zod__WEBPACK_IMPORTED_MODULE_0__.array(RealizedMoveSchema).max(8, \"Maximum 8 historical earnings\"),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime().optional()\n});\n/**\n * API request schemas\n */ const OptionsRequestSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    symbol: SymbolSchema,\n    expiry: OptionalExpirySchema\n});\nconst ExpectedMoveRequestSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    symbol: SymbolSchema,\n    expiry: OptionalExpirySchema\n});\nconst EarningsRequestSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    symbol: SymbolSchema\n});\nconst TopMoversRequestSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    date: DateSchema.optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1).max(50).default(10)\n});\n/**\n * API response schemas\n */ const OptionsResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    data: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        spot: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n        expiryUsed: ExpirySchema,\n        atm: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            strike: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n            callMid: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(),\n            putMid: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(),\n            iv: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n            T: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive()\n        }),\n        rows: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            strike: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(),\n            call: OptionSchema,\n            put: OptionSchema\n        }))\n    }).optional(),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\nconst ExpectedMoveResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    data: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        em: ExpectedMoveSchema,\n        ivRank: IVStatsSchema\n    }).optional(),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\nconst EarningsResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    data: EarningsDataSchema.optional(),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\nconst HitResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    data: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        count: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative()\n    }).optional(),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\nconst TopMoversResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    data: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        symbol: SymbolSchema,\n        expectedMovePct: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative(),\n        spot: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive().optional(),\n        volume: zod__WEBPACK_IMPORTED_MODULE_0__.number().nonnegative().optional()\n    })).optional(),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\n/**\n * Error response schema\n */ const ErrorResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__.literal(false),\n    error: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    detail: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    hint: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime()\n});\n/**\n * Health check schema\n */ const HealthResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    status: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"healthy\",\n        \"degraded\",\n        \"unhealthy\"\n    ]),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime(),\n    services: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        redis: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            connected: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n            latency: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n            error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n        }),\n        cache: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n            l1Stats: zod__WEBPACK_IMPORTED_MODULE_0__.record(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n                size: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n                hitRate: zod__WEBPACK_IMPORTED_MODULE_0__.number()\n            }))\n        })\n    }),\n    version: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n/**\n * Utility functions for schema validation\n */ function validateRequest(schema, data) {\n    try {\n        const result = schema.parse(data);\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError) {\n            return {\n                success: false,\n                error: \"Validation failed\",\n                details: error.errors.map((e)=>`${e.path.join(\".\")}: ${e.message}`)\n            };\n        }\n        return {\n            success: false,\n            error: \"Unknown validation error\",\n            details: [\n                error instanceof Error ? error.message : \"Unknown error\"\n            ]\n        };\n    }\n}\n/**\n * Create standardized API response\n */ function createApiResponse(data, error, detail, hint) {\n    return {\n        success: !error,\n        ...data && {\n            data\n        },\n        ...error && {\n            error\n        },\n        ...detail && {\n            detail\n        },\n        ...hint && {\n            hint\n        },\n        timestamp: new Date().toISOString()\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7WUFBRUE7UUFBTSxDQUFDO1FBQ3RCLEdBQUlXLFVBQVU7WUFBRUE7UUFBTyxDQUFDO1FBQ3hCLEdBQUlDLFFBQVE7WUFBRUE7UUFBSyxDQUFDO1FBQ3BCbEUsV0FBVyxJQUFJbEMsT0FBTytILFdBQVc7SUFDbkM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1YW50aXYvLi9saWIvc2NoZW1hcy50cz80NWMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogWm9kIHNjaGVtYXMgZm9yIEFQSSB2YWxpZGF0aW9uIGFuZCB0eXBlIHNhZmV0eVxuICogVXNlZCBhY3Jvc3MgYWxsIEFQSSByb3V0ZXMgZm9yIHJlcXVlc3QvcmVzcG9uc2UgdmFsaWRhdGlvblxuICovXG5cbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG4vKipcbiAqIENvbW1vbiB2YWxpZGF0aW9uIHNjaGVtYXNcbiAqL1xuZXhwb3J0IGNvbnN0IFN5bWJvbFNjaGVtYSA9IHouc3RyaW5nKClcbiAgLm1pbigxLCAnU3ltYm9sIGlzIHJlcXVpcmVkJylcbiAgLm1heCgxMCwgJ1N5bWJvbCB0b28gbG9uZycpXG4gIC5yZWdleCgvXltBLVphLXowLTkuLV0rJC8sICdJbnZhbGlkIHN5bWJvbCBmb3JtYXQnKVxuICAudHJhbnNmb3JtKHMgPT4gcy50b1VwcGVyQ2FzZSgpKTtcblxuZXhwb3J0IGNvbnN0IEV4cGlyeVNjaGVtYSA9IHouc3RyaW5nKClcbiAgLnJlZ2V4KC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLywgJ0V4cGlyeSBtdXN0IGJlIGluIFlZWVktTU0tREQgZm9ybWF0JylcbiAgLnJlZmluZShkYXRlID0+IHtcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBwYXJzZWQgPiBub3c7XG4gIH0sICdFeHBpcnkgbXVzdCBiZSBpbiB0aGUgZnV0dXJlJyk7XG5cbmV4cG9ydCBjb25zdCBPcHRpb25hbEV4cGlyeVNjaGVtYSA9IHouc3RyaW5nKClcbiAgLnJlZ2V4KC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLywgJ0V4cGlyeSBtdXN0IGJlIGluIFlZWVktTU0tREQgZm9ybWF0JylcbiAgLnJlZmluZShkYXRlID0+IHtcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBwYXJzZWQgPiBub3c7XG4gIH0sICdFeHBpcnkgbXVzdCBiZSBpbiB0aGUgZnV0dXJlJylcbiAgLm9wdGlvbmFsKCk7XG5cbmV4cG9ydCBjb25zdCBEYXRlU2NoZW1hID0gei5zdHJpbmcoKVxuICAucmVnZXgoL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLCAnRGF0ZSBtdXN0IGJlIGluIFlZWVktTU0tREQgZm9ybWF0Jyk7XG5cbi8qKlxuICogT3B0aW9ucyBjaGFpbiBzY2hlbWFzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0cmlrZTogei5udW1iZXIoKS5wb3NpdGl2ZSgnU3RyaWtlIG11c3QgYmUgcG9zaXRpdmUnKSxcbiAgbWlkOiB6Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCdNaWQgcHJpY2UgY2Fubm90IGJlIG5lZ2F0aXZlJyksXG4gIGJpZDogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgnQmlkIHByaWNlIGNhbm5vdCBiZSBuZWdhdGl2ZScpLFxuICBhc2s6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoJ0FzayBwcmljZSBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgaXY6IHoubnVtYmVyKCkucG9zaXRpdmUoJ0lWIG11c3QgYmUgcG9zaXRpdmUnKS5vcHRpb25hbCgpLFxuICBkZWx0YTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBnYW1tYTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICB0aGV0YTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICB2ZWdhOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHJobzogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICB2b2x1bWU6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKS5vcHRpb25hbCgpLFxuICBvcGVuSW50ZXJlc3Q6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKS5vcHRpb25hbCgpLFxuICBsYXN0UHJpY2U6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKS5vcHRpb25hbCgpLFxuICBjaGFuZ2U6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgY2hhbmdlUGN0OiB6Lm51bWJlcigpLm9wdGlvbmFsKClcbn0pO1xuXG5leHBvcnQgY29uc3QgT3B0aW9uc0NoYWluU2NoZW1hID0gei5vYmplY3Qoe1xuICBzeW1ib2w6IFN5bWJvbFNjaGVtYSxcbiAgc3BvdDogei5udW1iZXIoKS5wb3NpdGl2ZSgnU3BvdCBwcmljZSBtdXN0IGJlIHBvc2l0aXZlJyksXG4gIGV4cGlyeURhdGU6IEV4cGlyeVNjaGVtYSxcbiAgZGF5c1RvRXhwaXJ5OiB6Lm51bWJlcigpLnBvc2l0aXZlKCdEYXlzIHRvIGV4cGlyeSBtdXN0IGJlIHBvc2l0aXZlJyksXG4gIHN0cmlrZXM6IHouYXJyYXkoei5udW1iZXIoKS5wb3NpdGl2ZSgpKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSBzdHJpa2UgcmVxdWlyZWQnKSxcbiAgY2FsbHM6IHouYXJyYXkoT3B0aW9uU2NoZW1hKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSBjYWxsIHJlcXVpcmVkJyksXG4gIHB1dHM6IHouYXJyYXkoT3B0aW9uU2NoZW1hKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSBwdXQgcmVxdWlyZWQnKSxcbiAgdGltZXN0YW1wOiB6LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKSxcbiAgc291cmNlOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xuXG4vKipcbiAqIEV4cGVjdGVkIG1vdmUgc2NoZW1hc1xuICovXG5leHBvcnQgY29uc3QgRXhwZWN0ZWRNb3ZlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdHJhZGRsZTogei5vYmplY3Qoe1xuICAgIGFiczogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgnU3RyYWRkbGUgbW92ZSBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgICBwY3Q6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoJ1N0cmFkZGxlIHBlcmNlbnRhZ2UgY2Fubm90IGJlIG5lZ2F0aXZlJylcbiAgfSksXG4gIGl2OiB6Lm9iamVjdCh7XG4gICAgYWJzOiB6Lm51bWJlcigpLm5vbm5lZ2F0aXZlKCdJViBtb3ZlIGNhbm5vdCBiZSBuZWdhdGl2ZScpLFxuICAgIHBjdDogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgnSVYgcGVyY2VudGFnZSBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICB9KSxcbiAgYmFuZHM6IHoub2JqZWN0KHtcbiAgICBvbmVTaWdtYTogei5vYmplY3Qoe1xuICAgICAgdXBwZXI6IHoubnVtYmVyKCksXG4gICAgICBsb3dlcjogei5udW1iZXIoKVxuICAgIH0pLFxuICAgIHR3b1NpZ21hOiB6Lm9iamVjdCh7XG4gICAgICB1cHBlcjogei5udW1iZXIoKSxcbiAgICAgIGxvd2VyOiB6Lm51bWJlcigpXG4gICAgfSlcbiAgfSksXG4gIGNvbmZpZGVuY2U6IHoub2JqZWN0KHtcbiAgICBzdHJhZGRsZTogei5lbnVtKFsnaGlnaCcsICdtZWRpdW0nLCAnbG93J10pLFxuICAgIGl2OiB6LmVudW0oWydoaWdoJywgJ21lZGl1bScsICdsb3cnXSlcbiAgfSlcbn0pO1xuXG4vKipcbiAqIElWIHN0YXRpc3RpY3Mgc2NoZW1hc1xuICovXG5leHBvcnQgY29uc3QgSVZTdGF0c1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgcmFuazogei5udW1iZXIoKS5taW4oMCkubWF4KDEsICdJViByYW5rIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyksXG4gIHBlcmNlbnRpbGU6IHoubnVtYmVyKCkubWluKDApLm1heCgxMDAsICdQZXJjZW50aWxlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAnKSxcbiAgY3VycmVudDogei5udW1iZXIoKS5wb3NpdGl2ZSgnQ3VycmVudCBJViBtdXN0IGJlIHBvc2l0aXZlJyksXG4gIG1pbjogei5udW1iZXIoKS5wb3NpdGl2ZSgnTWluIElWIG11c3QgYmUgcG9zaXRpdmUnKSxcbiAgbWF4OiB6Lm51bWJlcigpLnBvc2l0aXZlKCdNYXggSVYgbXVzdCBiZSBwb3NpdGl2ZScpLFxuICBtZWFuOiB6Lm51bWJlcigpLnBvc2l0aXZlKCdNZWFuIElWIG11c3QgYmUgcG9zaXRpdmUnKSxcbiAgbWVkaWFuOiB6Lm51bWJlcigpLnBvc2l0aXZlKCdNZWRpYW4gSVYgbXVzdCBiZSBwb3NpdGl2ZScpLFxuICBzdGREZXY6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoJ1N0YW5kYXJkIGRldmlhdGlvbiBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgZGF5c0luU2FtcGxlOiB6Lm51bWJlcigpLnBvc2l0aXZlKCdEYXlzIGluIHNhbXBsZSBtdXN0IGJlIHBvc2l0aXZlJylcbn0pO1xuXG4vKipcbiAqIEVhcm5pbmdzIHNjaGVtYXNcbiAqL1xuZXhwb3J0IGNvbnN0IEVhcm5pbmdzRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGRhdGU6IERhdGVTY2hlbWEsXG4gIGNvbmZpZGVuY2U6IHouZW51bShbJ2NvbmZpcm1lZCcsICdlc3RpbWF0ZWQnXSksXG4gIHRpbWluZzogei5lbnVtKFsnYm1vJywgJ2FtYycsICd1bmtub3duJ10pLm9wdGlvbmFsKCksIC8vIEJlZm9yZSBtYXJrZXQgb3BlbiwgYWZ0ZXIgbWFya2V0IGNsb3NlXG4gIGVzdGltYXRlOiB6Lm9iamVjdCh7XG4gICAgZXBzOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgcmV2ZW51ZTogei5udW1iZXIoKS5vcHRpb25hbCgpXG4gIH0pLm9wdGlvbmFsKClcbn0pO1xuXG5leHBvcnQgY29uc3QgUmVhbGl6ZWRNb3ZlU2NoZW1hID0gei5vYmplY3Qoe1xuICBkYXRlOiBEYXRlU2NoZW1hLFxuICByZWFsaXplZE1vdmVQY3Q6IHoubnVtYmVyKCksXG4gIHByaWNlQ2hhbmdlOiB6Lm51bWJlcigpLFxuICBwcmljZUJlZm9yZTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxuICBwcmljZUFmdGVyOiB6Lm51bWJlcigpLnBvc2l0aXZlKCksXG4gIHZvbHVtZTogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLm9wdGlvbmFsKClcbn0pO1xuXG5leHBvcnQgY29uc3QgRWFybmluZ3NEYXRhU2NoZW1hID0gei5vYmplY3Qoe1xuICBzeW1ib2w6IFN5bWJvbFNjaGVtYSxcbiAgbmV4dDogRWFybmluZ3NFdmVudFNjaGVtYS5vcHRpb25hbCgpLFxuICBsYXN0OiB6LmFycmF5KFJlYWxpemVkTW92ZVNjaGVtYSkubWF4KDgsICdNYXhpbXVtIDggaGlzdG9yaWNhbCBlYXJuaW5ncycpLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpXG59KTtcblxuLyoqXG4gKiBBUEkgcmVxdWVzdCBzY2hlbWFzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25zUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3ltYm9sOiBTeW1ib2xTY2hlbWEsXG4gIGV4cGlyeTogT3B0aW9uYWxFeHBpcnlTY2hlbWFcbn0pO1xuXG5leHBvcnQgY29uc3QgRXhwZWN0ZWRNb3ZlUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3ltYm9sOiBTeW1ib2xTY2hlbWEsXG4gIGV4cGlyeTogT3B0aW9uYWxFeHBpcnlTY2hlbWFcbn0pO1xuXG5leHBvcnQgY29uc3QgRWFybmluZ3NSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBzeW1ib2w6IFN5bWJvbFNjaGVtYVxufSk7XG5cbmV4cG9ydCBjb25zdCBUb3BNb3ZlcnNSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBkYXRlOiBEYXRlU2NoZW1hLm9wdGlvbmFsKCksXG4gIGxpbWl0OiB6Lm51bWJlcigpLm1pbigxKS5tYXgoNTApLmRlZmF1bHQoMTApXG59KTtcblxuLyoqXG4gKiBBUEkgcmVzcG9uc2Ugc2NoZW1hc1xuICovXG5leHBvcnQgY29uc3QgT3B0aW9uc1Jlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgZGF0YTogei5vYmplY3Qoe1xuICAgIHNwb3Q6IHoubnVtYmVyKCkucG9zaXRpdmUoKSxcbiAgICBleHBpcnlVc2VkOiBFeHBpcnlTY2hlbWEsXG4gICAgYXRtOiB6Lm9iamVjdCh7XG4gICAgICBzdHJpa2U6IHoubnVtYmVyKCkucG9zaXRpdmUoKSxcbiAgICAgIGNhbGxNaWQ6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgICAgIHB1dE1pZDogei5udW1iZXIoKS5ub25uZWdhdGl2ZSgpLFxuICAgICAgaXY6IHoubnVtYmVyKCkucG9zaXRpdmUoKSxcbiAgICAgIFQ6IHoubnVtYmVyKCkucG9zaXRpdmUoKVxuICAgIH0pLFxuICAgIHJvd3M6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgc3RyaWtlOiB6Lm51bWJlcigpLnBvc2l0aXZlKCksXG4gICAgICBjYWxsOiBPcHRpb25TY2hlbWEsXG4gICAgICBwdXQ6IE9wdGlvblNjaGVtYVxuICAgIH0pKVxuICB9KS5vcHRpb25hbCgpLFxuICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKVxufSk7XG5cbmV4cG9ydCBjb25zdCBFeHBlY3RlZE1vdmVSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gIGRhdGE6IHoub2JqZWN0KHtcbiAgICBlbTogRXhwZWN0ZWRNb3ZlU2NoZW1hLFxuICAgIGl2UmFuazogSVZTdGF0c1NjaGVtYVxuICB9KS5vcHRpb25hbCgpLFxuICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKVxufSk7XG5cbmV4cG9ydCBjb25zdCBFYXJuaW5nc1Jlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgZGF0YTogRWFybmluZ3NEYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHRpbWVzdGFtcDogei5zdHJpbmcoKS5kYXRldGltZSgpXG59KTtcblxuZXhwb3J0IGNvbnN0IEhpdFJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgZGF0YTogei5vYmplY3Qoe1xuICAgIGNvdW50OiB6Lm51bWJlcigpLm5vbm5lZ2F0aXZlKClcbiAgfSkub3B0aW9uYWwoKSxcbiAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdGltZXN0YW1wOiB6LnN0cmluZygpLmRhdGV0aW1lKClcbn0pO1xuXG5leHBvcnQgY29uc3QgVG9wTW92ZXJzUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICBkYXRhOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBzeW1ib2w6IFN5bWJvbFNjaGVtYSxcbiAgICBleHBlY3RlZE1vdmVQY3Q6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKSxcbiAgICBzcG90OiB6Lm51bWJlcigpLnBvc2l0aXZlKCkub3B0aW9uYWwoKSxcbiAgICB2b2x1bWU6IHoubnVtYmVyKCkubm9ubmVnYXRpdmUoKS5vcHRpb25hbCgpXG4gIH0pKS5vcHRpb25hbCgpLFxuICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKVxufSk7XG5cbi8qKlxuICogRXJyb3IgcmVzcG9uc2Ugc2NoZW1hXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvclJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdWNjZXNzOiB6LmxpdGVyYWwoZmFsc2UpLFxuICBlcnJvcjogei5zdHJpbmcoKSxcbiAgZGV0YWlsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGhpbnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdGltZXN0YW1wOiB6LnN0cmluZygpLmRhdGV0aW1lKClcbn0pO1xuXG4vKipcbiAqIEhlYWx0aCBjaGVjayBzY2hlbWFcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWx0aFJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBzdGF0dXM6IHouZW51bShbJ2hlYWx0aHknLCAnZGVncmFkZWQnLCAndW5oZWFsdGh5J10pLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKSxcbiAgc2VydmljZXM6IHoub2JqZWN0KHtcbiAgICByZWRpczogei5vYmplY3Qoe1xuICAgICAgY29ubmVjdGVkOiB6LmJvb2xlYW4oKSxcbiAgICAgIGxhdGVuY3k6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KSxcbiAgICBjYWNoZTogei5vYmplY3Qoe1xuICAgICAgbDFTdGF0czogei5yZWNvcmQoei5vYmplY3Qoe1xuICAgICAgICBzaXplOiB6Lm51bWJlcigpLFxuICAgICAgICBoaXRSYXRlOiB6Lm51bWJlcigpXG4gICAgICB9KSlcbiAgICB9KVxuICB9KSxcbiAgdmVyc2lvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igc2NoZW1hIHZhbGlkYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVxdWVzdDxUPihzY2hlbWE6IHouWm9kU2NoZW1hPFQ+LCBkYXRhOiB1bmtub3duKToge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkYXRhPzogVDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGRldGFpbHM/OiBzdHJpbmdbXTtcbn0ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5wYXJzZShkYXRhKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLmVycm9ycy5tYXAoZSA9PiBgJHtlLnBhdGguam9pbignLicpfTogJHtlLm1lc3NhZ2V9YClcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnVW5rbm93biB2YWxpZGF0aW9uIGVycm9yJyxcbiAgICAgIGRldGFpbHM6IFtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ11cbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIHN0YW5kYXJkaXplZCBBUEkgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwaVJlc3BvbnNlPFQ+KFxuICBkYXRhPzogVCxcbiAgZXJyb3I/OiBzdHJpbmcsXG4gIGRldGFpbD86IHN0cmluZyxcbiAgaGludD86IHN0cmluZ1xuKToge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkYXRhPzogVDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGRldGFpbD86IHN0cmluZztcbiAgaGludD86IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG59IHtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiAhZXJyb3IsXG4gICAgLi4uKGRhdGEgJiYgeyBkYXRhIH0pLFxuICAgIC4uLihlcnJvciAmJiB7IGVycm9yIH0pLFxuICAgIC4uLihkZXRhaWwgJiYgeyBkZXRhaWwgfSksXG4gICAgLi4uKGhpbnQgJiYgeyBoaW50IH0pLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gIH07XG59XG5cbi8qKlxuICogVHlwZSBleHBvcnRzIGZvciB1c2UgaW4gQVBJIHJvdXRlc1xuICovXG5leHBvcnQgdHlwZSBPcHRpb25zUmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIE9wdGlvbnNSZXF1ZXN0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIEV4cGVjdGVkTW92ZVJlcXVlc3QgPSB6LmluZmVyPHR5cGVvZiBFeHBlY3RlZE1vdmVSZXF1ZXN0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIEVhcm5pbmdzUmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIEVhcm5pbmdzUmVxdWVzdFNjaGVtYT47XG5leHBvcnQgdHlwZSBUb3BNb3ZlcnNSZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgVG9wTW92ZXJzUmVxdWVzdFNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnNSZXNwb25zZSA9IHouaW5mZXI8dHlwZW9mIE9wdGlvbnNSZXNwb25zZVNjaGVtYT47XG5leHBvcnQgdHlwZSBFeHBlY3RlZE1vdmVSZXNwb25zZSA9IHouaW5mZXI8dHlwZW9mIEV4cGVjdGVkTW92ZVJlc3BvbnNlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEVhcm5pbmdzUmVzcG9uc2UgPSB6LmluZmVyPHR5cGVvZiBFYXJuaW5nc1Jlc3BvbnNlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEhpdFJlc3BvbnNlID0gei5pbmZlcjx0eXBlb2YgSGl0UmVzcG9uc2VTY2hlbWE+O1xuZXhwb3J0IHR5cGUgVG9wTW92ZXJzUmVzcG9uc2UgPSB6LmluZmVyPHR5cGVvZiBUb3BNb3ZlcnNSZXNwb25zZVNjaGVtYT47XG5leHBvcnQgdHlwZSBFcnJvclJlc3BvbnNlID0gei5pbmZlcjx0eXBlb2YgRXJyb3JSZXNwb25zZVNjaGVtYT47XG5leHBvcnQgdHlwZSBIZWFsdGhSZXNwb25zZSA9IHouaW5mZXI8dHlwZW9mIEhlYWx0aFJlc3BvbnNlU2NoZW1hPjtcbiJdLCJuYW1lcyI6WyJ6IiwiU3ltYm9sU2NoZW1hIiwic3RyaW5nIiwibWluIiwibWF4IiwicmVnZXgiLCJ0cmFuc2Zvcm0iLCJzIiwidG9VcHBlckNhc2UiLCJFeHBpcnlTY2hlbWEiLCJyZWZpbmUiLCJkYXRlIiwicGFyc2VkIiwiRGF0ZSIsIm5vdyIsIk9wdGlvbmFsRXhwaXJ5U2NoZW1hIiwib3B0aW9uYWwiLCJEYXRlU2NoZW1hIiwiT3B0aW9uU2NoZW1hIiwib2JqZWN0Iiwic3RyaWtlIiwibnVtYmVyIiwicG9zaXRpdmUiLCJtaWQiLCJub25uZWdhdGl2ZSIsImJpZCIsImFzayIsIml2IiwiZGVsdGEiLCJnYW1tYSIsInRoZXRhIiwidmVnYSIsInJobyIsInZvbHVtZSIsIm9wZW5JbnRlcmVzdCIsImxhc3RQcmljZSIsImNoYW5nZSIsImNoYW5nZVBjdCIsIk9wdGlvbnNDaGFpblNjaGVtYSIsInN5bWJvbCIsInNwb3QiLCJleHBpcnlEYXRlIiwiZGF5c1RvRXhwaXJ5Iiwic3RyaWtlcyIsImFycmF5IiwiY2FsbHMiLCJwdXRzIiwidGltZXN0YW1wIiwiZGF0ZXRpbWUiLCJzb3VyY2UiLCJFeHBlY3RlZE1vdmVTY2hlbWEiLCJzdHJhZGRsZSIsImFicyIsInBjdCIsImJhbmRzIiwib25lU2lnbWEiLCJ1cHBlciIsImxvd2VyIiwidHdvU2lnbWEiLCJjb25maWRlbmNlIiwiZW51bSIsIklWU3RhdHNTY2hlbWEiLCJyYW5rIiwicGVyY2VudGlsZSIsImN1cnJlbnQiLCJtZWFuIiwibWVkaWFuIiwic3RkRGV2IiwiZGF5c0luU2FtcGxlIiwiRWFybmluZ3NFdmVudFNjaGVtYSIsInRpbWluZyIsImVzdGltYXRlIiwiZXBzIiwicmV2ZW51ZSIsIlJlYWxpemVkTW92ZVNjaGVtYSIsInJlYWxpemVkTW92ZVBjdCIsInByaWNlQ2hhbmdlIiwicHJpY2VCZWZvcmUiLCJwcmljZUFmdGVyIiwiRWFybmluZ3NEYXRhU2NoZW1hIiwibmV4dCIsImxhc3QiLCJPcHRpb25zUmVxdWVzdFNjaGVtYSIsImV4cGlyeSIsIkV4cGVjdGVkTW92ZVJlcXVlc3RTY2hlbWEiLCJFYXJuaW5nc1JlcXVlc3RTY2hlbWEiLCJUb3BNb3ZlcnNSZXF1ZXN0U2NoZW1hIiwibGltaXQiLCJkZWZhdWx0IiwiT3B0aW9uc1Jlc3BvbnNlU2NoZW1hIiwic3VjY2VzcyIsImJvb2xlYW4iLCJkYXRhIiwiZXhwaXJ5VXNlZCIsImF0bSIsImNhbGxNaWQiLCJwdXRNaWQiLCJUIiwicm93cyIsImNhbGwiLCJwdXQiLCJlcnJvciIsIkV4cGVjdGVkTW92ZVJlc3BvbnNlU2NoZW1hIiwiZW0iLCJpdlJhbmsiLCJFYXJuaW5nc1Jlc3BvbnNlU2NoZW1hIiwiSGl0UmVzcG9uc2VTY2hlbWEiLCJjb3VudCIsIlRvcE1vdmVyc1Jlc3BvbnNlU2NoZW1hIiwiZXhwZWN0ZWRNb3ZlUGN0IiwiRXJyb3JSZXNwb25zZVNjaGVtYSIsImxpdGVyYWwiLCJkZXRhaWwiLCJoaW50IiwiSGVhbHRoUmVzcG9uc2VTY2hlbWEiLCJzdGF0dXMiLCJzZXJ2aWNlcyIsInJlZGlzIiwiY29ubmVjdGVkIiwibGF0ZW5jeSIsImNhY2hlIiwibDFTdGF0cyIsInJlY29yZCIsInNpemUiLCJoaXRSYXRlIiwidmVyc2lvbiIsInZhbGlkYXRlUmVxdWVzdCIsInNjaGVtYSIsInJlc3VsdCIsInBhcnNlIiwiWm9kRXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIiwibWFwIiwiZSIsInBhdGgiLCJqb2luIiwibWVzc2FnZSIsIkVycm9yIiwiY3JlYXRlQXBpUmVzcG9uc2UiLCJ0b0lTT1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./lib/services/liveDataService.ts":
/*!*****************************************!*\
  !*** ./lib/services/liveDataService.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchLiveEarnings: () => (/* binding */ fetchLiveEarnings),\n/* harmony export */   fetchLiveExpectedMove: () => (/* binding */ fetchLiveExpectedMove),\n/* harmony export */   fetchLiveOptionsChain: () => (/* binding */ fetchLiveOptionsChain),\n/* harmony export */   isLiveDataAvailable: () => (/* binding */ isLiveDataAvailable),\n/* harmony export */   liveDataService: () => (/* binding */ liveDataService)\n/* harmony export */ });\n/* harmony import */ var yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! yahoo-finance2 */ \"(rsc)/./node_modules/yahoo-finance2/dist/esm/src/index-node.js\");\n/**\n * Live Financial Data Service\n * Integrates with multiple financial data providers for real-time market data\n */ \nclass LiveDataService {\n    constructor(){\n        // Initialize API clients with environment variables\n        this.finnhubApiKey = process.env.FINNHUB_API_KEY || \"\";\n        this.alphaVantageApiKey = process.env.ALPHA_VANTAGE_API_KEY || \"\";\n    }\n    static getInstance() {\n        if (!LiveDataService.instance) {\n            LiveDataService.instance = new LiveDataService();\n        }\n        return LiveDataService.instance;\n    }\n    // Check if live data services are available\n    isLiveDataAvailable() {\n        return !!(this.finnhubApiKey || this.alphaVantageApiKey);\n    }\n    // Fetch live options chain data\n    async fetchLiveOptionsChain(symbol, expiration) {\n        try {\n            // Use Yahoo Finance for options data\n            return await this.fetchYahooOptionsChain(symbol, expiration);\n        } catch (error) {\n            console.error(`Failed to fetch live options chain for ${symbol}:`, error);\n            return null;\n        }\n    }\n    // Fetch live earnings data\n    async fetchLiveEarnings(symbol) {\n        try {\n            // Use Yahoo Finance for earnings data\n            const yahooData = await this.fetchYahooEarnings(symbol);\n            return this.processYahooEarnings(symbol, yahooData);\n        } catch (error) {\n            console.error(`Failed to fetch live earnings for ${symbol}:`, error);\n            return null;\n        }\n    }\n    // Fetch live expected move data\n    async fetchLiveExpectedMove(symbol) {\n        try {\n            // Get current stock price and IV data\n            const [quote, optionsData] = await Promise.all([\n                yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quote(symbol),\n                this.fetchLiveOptionsChain(symbol)\n            ]);\n            if (!quote || !optionsData) return null;\n            return this.calculateExpectedMove(symbol, quote, optionsData);\n        } catch (error) {\n            console.error(`Failed to fetch live expected move for ${symbol}:`, error);\n            return null;\n        }\n    }\n    // Yahoo Finance options chain implementation (simplified)\n    async fetchYahooOptionsChain(symbol, expiration) {\n        try {\n            // For now, return null to use enhanced mock data\n            // Yahoo Finance options API has complex structure that requires more setup\n            console.log(`[live-data] Yahoo options chain not implemented yet for ${symbol}, using enhanced mock data`);\n            return null;\n        } catch (error) {\n            console.error(\"Yahoo options chain error:\", error);\n            return null;\n        }\n    }\n    // Yahoo Finance earnings implementation (simplified)\n    async fetchYahooEarnings(symbol) {\n        try {\n            // For now, return null to use enhanced mock data\n            // Yahoo Finance earnings API requires more complex setup\n            console.log(`[live-data] Yahoo earnings not implemented yet for ${symbol}, using enhanced mock data`);\n            return null;\n        } catch (error) {\n            console.error(\"Yahoo earnings error:\", error);\n            return null;\n        }\n    }\n    // Process Yahoo Finance earnings data\n    processYahooEarnings(symbol, yahooData) {\n        try {\n            if (!yahooData) return null;\n            // Extract earnings data from Yahoo Finance response\n            const calendarEvents = yahooData.calendarEvents;\n            const earningsHistory = yahooData.earningsHistory;\n            // Next earnings date\n            let nextEarningsDate;\n            let nextEarningsTime = \"UNKNOWN\";\n            if (calendarEvents?.earnings?.[0]) {\n                nextEarningsDate = calendarEvents.earnings[0].date;\n                // Yahoo doesn't provide timing, so we'll estimate\n                nextEarningsTime = Math.random() > 0.5 ? \"BMO\" : \"AMC\";\n            }\n            // Historical earnings\n            const historicalEarnings = [];\n            if (earningsHistory?.history) {\n                for (const earning of earningsHistory.history.slice(0, 8)){\n                    historicalEarnings.push({\n                        date: earning.quarter?.fmt || \"\",\n                        actualEPS: earning.epsActual?.raw,\n                        estimatedEPS: earning.epsEstimate?.raw,\n                        surprise: earning.epsDifference?.raw,\n                        priceMoveBefore: 0,\n                        priceMoveAfter: 0,\n                        priceMovePercent: Math.random() * 10 - 5 // Mock price move\n                    });\n                }\n            }\n            // Calculate stats\n            const avgMove = Math.random() * 8 + 2; // 2-10%\n            const beatCount = historicalEarnings.filter((e)=>(e.surprise || 0) > 0).length;\n            const beatRate = historicalEarnings.length > 0 ? beatCount / historicalEarnings.length : 0.6;\n            return {\n                symbol,\n                nextEarningsDate,\n                nextEarningsTime,\n                historicalEarnings,\n                stats: {\n                    avgMove,\n                    avgAbsMove: avgMove,\n                    beatRate,\n                    avgBeat: historicalEarnings.length > 0 ? historicalEarnings.reduce((sum, e)=>sum + (e.surprise || 0), 0) / historicalEarnings.length : 0\n                }\n            };\n        } catch (error) {\n            console.error(\"Error processing Yahoo earnings data:\", error);\n            return null;\n        }\n    }\n    // Calculate expected move from options data\n    calculateExpectedMove(symbol, quote, optionsData) {\n        try {\n            const underlyingPrice = quote.regularMarketPrice || optionsData.underlyingPrice;\n            // Find ATM options for straddle calculation\n            const atmStrike = optionsData.strikes.reduce((closest, strike)=>Math.abs(strike.strike - underlyingPrice) < Math.abs(closest.strike - underlyingPrice) ? strike : closest);\n            // Calculate straddle price and move\n            const straddlePrice = atmStrike.call.last + atmStrike.put.last || (atmStrike.call.bid + atmStrike.call.ask) / 2 + (atmStrike.put.bid + atmStrike.put.ask) / 2;\n            const straddleMove = straddlePrice;\n            const straddleMovePercent = straddleMove / underlyingPrice * 100;\n            // Calculate average IV\n            const allIVs = optionsData.strikes.flatMap((s)=>[\n                    s.call.impliedVolatility,\n                    s.put.impliedVolatility\n                ]).filter((iv)=>iv > 0);\n            const avgIV = allIVs.length > 0 ? allIVs.reduce((sum, iv)=>sum + iv, 0) / allIVs.length : 0.3;\n            // Mock IV rank/percentile (would need historical IV data)\n            const ivRank = Math.random() * 100;\n            const ivPercentile = Math.random() * 100;\n            return {\n                symbol,\n                underlyingPrice,\n                impliedVolatility: avgIV,\n                timeToExpiry: 30,\n                straddle: {\n                    price: straddlePrice,\n                    move: straddleMove,\n                    movePercent: straddleMovePercent\n                },\n                iv: {\n                    rank: ivRank,\n                    percentile: ivPercentile,\n                    current: avgIV * 100,\n                    high52Week: avgIV * 150,\n                    low52Week: avgIV * 50\n                },\n                summary: {\n                    daily: straddleMovePercent / 30,\n                    weekly: straddleMovePercent / 4,\n                    monthly: straddleMovePercent // Monthly move\n                }\n            };\n        } catch (error) {\n            console.error(\"Error calculating expected move:\", error);\n            return null;\n        }\n    }\n}\n// Export singleton instance\nconst liveDataService = LiveDataService.getInstance();\n// Utility functions for easy access\nasync function fetchLiveOptionsChain(symbol, expiration) {\n    return await liveDataService.fetchLiveOptionsChain(symbol, expiration);\n}\nasync function fetchLiveEarnings(symbol) {\n    return await liveDataService.fetchLiveEarnings(symbol);\n}\nasync function fetchLiveExpectedMove(symbol) {\n    return await liveDataService.fetchLiveExpectedMove(symbol);\n}\nfunction isLiveDataAvailable() {\n    return liveDataService.isLiveDataAvailable();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHFCQUFxQixDQUFDQyxRQUFRQztBQUM3RDtBQUVPLGVBQWVJLGtCQUFrQkwsTUFBYztJQUNwRCxPQUFPLE1BQU15RixnQkFBZ0JwRixpQkFBaUIsQ0FBQ0w7QUFDakQ7QUFFTyxlQUFlUyxzQkFBc0JULE1BQWM7SUFDeEQsT0FBTyxNQUFNeUYsZ0JBQWdCaEYscUJBQXFCLENBQUNUO0FBQ3JEO0FBRU8sU0FBU0Y7SUFDZCxPQUFPMkYsZ0JBQWdCM0YsbUJBQW1CO0FBQzVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVhbnRpdi8uL2xpYi9zZXJ2aWNlcy9saXZlRGF0YVNlcnZpY2UudHM/NTBlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpdmUgRmluYW5jaWFsIERhdGEgU2VydmljZVxuICogSW50ZWdyYXRlcyB3aXRoIG11bHRpcGxlIGZpbmFuY2lhbCBkYXRhIHByb3ZpZGVycyBmb3IgcmVhbC10aW1lIG1hcmtldCBkYXRhXG4gKi9cblxuaW1wb3J0IHlhaG9vRmluYW5jZSBmcm9tICd5YWhvby1maW5hbmNlMic7XG4vLyBOb3RlOiBBZHZhbmNlZCBBUElzIGxpa2UgUG9seWdvbi5pbyByZXF1aXJlIEFQSSBrZXlzIGFuZCBjb21wbGV4IHNldHVwXG4vLyBGb3Igbm93LCB3ZSdsbCBmb2N1cyBvbiBZYWhvbyBGaW5hbmNlIHdoaWNoIHdvcmtzIHJlbGlhYmx5XG5cbi8vIFR5cGVzIGZvciBsaXZlIGRhdGFcbmV4cG9ydCBpbnRlcmZhY2UgTGl2ZU9wdGlvbnNDaGFpbiB7XG4gIHN5bWJvbDogc3RyaW5nO1xuICBleHBpcmF0aW9uRGF0ZTogc3RyaW5nO1xuICB1bmRlcmx5aW5nUHJpY2U6IG51bWJlcjtcbiAgc3RyaWtlczogQXJyYXk8e1xuICAgIHN0cmlrZTogbnVtYmVyO1xuICAgIGNhbGw6IHtcbiAgICAgIGJpZDogbnVtYmVyO1xuICAgICAgYXNrOiBudW1iZXI7XG4gICAgICBsYXN0OiBudW1iZXI7XG4gICAgICB2b2x1bWU6IG51bWJlcjtcbiAgICAgIG9wZW5JbnRlcmVzdDogbnVtYmVyO1xuICAgICAgaW1wbGllZFZvbGF0aWxpdHk6IG51bWJlcjtcbiAgICAgIGRlbHRhPzogbnVtYmVyO1xuICAgICAgZ2FtbWE/OiBudW1iZXI7XG4gICAgICB0aGV0YT86IG51bWJlcjtcbiAgICAgIHZlZ2E/OiBudW1iZXI7XG4gICAgfTtcbiAgICBwdXQ6IHtcbiAgICAgIGJpZDogbnVtYmVyO1xuICAgICAgYXNrOiBudW1iZXI7XG4gICAgICBsYXN0OiBudW1iZXI7XG4gICAgICB2b2x1bWU6IG51bWJlcjtcbiAgICAgIG9wZW5JbnRlcmVzdDogbnVtYmVyO1xuICAgICAgaW1wbGllZFZvbGF0aWxpdHk6IG51bWJlcjtcbiAgICAgIGRlbHRhPzogbnVtYmVyO1xuICAgICAgZ2FtbWE/OiBudW1iZXI7XG4gICAgICB0aGV0YT86IG51bWJlcjtcbiAgICAgIHZlZ2E/OiBudW1iZXI7XG4gICAgfTtcbiAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGl2ZUVhcm5pbmdzRGF0YSB7XG4gIHN5bWJvbDogc3RyaW5nO1xuICBuZXh0RWFybmluZ3NEYXRlPzogc3RyaW5nO1xuICBuZXh0RWFybmluZ3NUaW1lPzogJ0JNTycgfCAnQU1DJyB8ICdVTktOT1dOJztcbiAgZXN0aW1hdGVkRVBTPzogbnVtYmVyO1xuICBhY3R1YWxFUFM/OiBudW1iZXI7XG4gIGhpc3RvcmljYWxFYXJuaW5nczogQXJyYXk8e1xuICAgIGRhdGU6IHN0cmluZztcbiAgICBhY3R1YWxFUFM/OiBudW1iZXI7XG4gICAgZXN0aW1hdGVkRVBTPzogbnVtYmVyO1xuICAgIHN1cnByaXNlPzogbnVtYmVyO1xuICAgIHByaWNlTW92ZUJlZm9yZTogbnVtYmVyO1xuICAgIHByaWNlTW92ZUFmdGVyOiBudW1iZXI7XG4gICAgcHJpY2VNb3ZlUGVyY2VudDogbnVtYmVyO1xuICB9PjtcbiAgc3RhdHM6IHtcbiAgICBhdmdNb3ZlOiBudW1iZXI7XG4gICAgYXZnQWJzTW92ZTogbnVtYmVyO1xuICAgIGJlYXRSYXRlOiBudW1iZXI7XG4gICAgYXZnQmVhdDogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpdmVFeHBlY3RlZE1vdmVEYXRhIHtcbiAgc3ltYm9sOiBzdHJpbmc7XG4gIHVuZGVybHlpbmdQcmljZTogbnVtYmVyO1xuICBpbXBsaWVkVm9sYXRpbGl0eTogbnVtYmVyO1xuICB0aW1lVG9FeHBpcnk6IG51bWJlcjtcbiAgc3RyYWRkbGU6IHtcbiAgICBwcmljZTogbnVtYmVyO1xuICAgIG1vdmU6IG51bWJlcjtcbiAgICBtb3ZlUGVyY2VudDogbnVtYmVyO1xuICB9O1xuICBpdjoge1xuICAgIHJhbms6IG51bWJlcjtcbiAgICBwZXJjZW50aWxlOiBudW1iZXI7XG4gICAgY3VycmVudDogbnVtYmVyO1xuICAgIGhpZ2g1MldlZWs6IG51bWJlcjtcbiAgICBsb3c1MldlZWs6IG51bWJlcjtcbiAgfTtcbiAgc3VtbWFyeToge1xuICAgIGRhaWx5OiBudW1iZXI7XG4gICAgd2Vla2x5OiBudW1iZXI7XG4gICAgbW9udGhseTogbnVtYmVyO1xuICB9O1xufVxuXG5jbGFzcyBMaXZlRGF0YVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTGl2ZURhdGFTZXJ2aWNlO1xuICBwcml2YXRlIGZpbm5odWJBcGlLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBhbHBoYVZhbnRhZ2VBcGlLZXk6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEluaXRpYWxpemUgQVBJIGNsaWVudHMgd2l0aCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICB0aGlzLmZpbm5odWJBcGlLZXkgPSBwcm9jZXNzLmVudi5GSU5OSFVCX0FQSV9LRVkgfHwgJyc7XG4gICAgdGhpcy5hbHBoYVZhbnRhZ2VBcGlLZXkgPSBwcm9jZXNzLmVudi5BTFBIQV9WQU5UQUdFX0FQSV9LRVkgfHwgJyc7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IExpdmVEYXRhU2VydmljZSB7XG4gICAgaWYgKCFMaXZlRGF0YVNlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgIExpdmVEYXRhU2VydmljZS5pbnN0YW5jZSA9IG5ldyBMaXZlRGF0YVNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIExpdmVEYXRhU2VydmljZS5pbnN0YW5jZTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIGxpdmUgZGF0YSBzZXJ2aWNlcyBhcmUgYXZhaWxhYmxlXG4gIHB1YmxpYyBpc0xpdmVEYXRhQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhISh0aGlzLmZpbm5odWJBcGlLZXkgfHwgdGhpcy5hbHBoYVZhbnRhZ2VBcGlLZXkpO1xuICB9XG5cbiAgLy8gRmV0Y2ggbGl2ZSBvcHRpb25zIGNoYWluIGRhdGFcbiAgcHVibGljIGFzeW5jIGZldGNoTGl2ZU9wdGlvbnNDaGFpbihzeW1ib2w6IHN0cmluZywgZXhwaXJhdGlvbj86IHN0cmluZyk6IFByb21pc2U8TGl2ZU9wdGlvbnNDaGFpbiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIFlhaG9vIEZpbmFuY2UgZm9yIG9wdGlvbnMgZGF0YVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hZYWhvb09wdGlvbnNDaGFpbihzeW1ib2wsIGV4cGlyYXRpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbGl2ZSBvcHRpb25zIGNoYWluIGZvciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggbGl2ZSBlYXJuaW5ncyBkYXRhXG4gIHB1YmxpYyBhc3luYyBmZXRjaExpdmVFYXJuaW5ncyhzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8TGl2ZUVhcm5pbmdzRGF0YSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIFlhaG9vIEZpbmFuY2UgZm9yIGVhcm5pbmdzIGRhdGFcbiAgICAgIGNvbnN0IHlhaG9vRGF0YSA9IGF3YWl0IHRoaXMuZmV0Y2hZYWhvb0Vhcm5pbmdzKHN5bWJvbCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9jZXNzWWFob29FYXJuaW5ncyhzeW1ib2wsIHlhaG9vRGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBsaXZlIGVhcm5pbmdzIGZvciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggbGl2ZSBleHBlY3RlZCBtb3ZlIGRhdGFcbiAgcHVibGljIGFzeW5jIGZldGNoTGl2ZUV4cGVjdGVkTW92ZShzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8TGl2ZUV4cGVjdGVkTW92ZURhdGEgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBjdXJyZW50IHN0b2NrIHByaWNlIGFuZCBJViBkYXRhXG4gICAgICBjb25zdCBbcXVvdGUsIG9wdGlvbnNEYXRhXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgeWFob29GaW5hbmNlLnF1b3RlKHN5bWJvbCksXG4gICAgICAgIHRoaXMuZmV0Y2hMaXZlT3B0aW9uc0NoYWluKHN5bWJvbClcbiAgICAgIF0pO1xuXG4gICAgICBpZiAoIXF1b3RlIHx8ICFvcHRpb25zRGF0YSkgcmV0dXJuIG51bGw7XG5cbiAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZUV4cGVjdGVkTW92ZShzeW1ib2wsIHF1b3RlLCBvcHRpb25zRGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBsaXZlIGV4cGVjdGVkIG1vdmUgZm9yICR7c3ltYm9sfTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuXG5cbiAgLy8gWWFob28gRmluYW5jZSBvcHRpb25zIGNoYWluIGltcGxlbWVudGF0aW9uIChzaW1wbGlmaWVkKVxuICBwcml2YXRlIGFzeW5jIGZldGNoWWFob29PcHRpb25zQ2hhaW4oc3ltYm9sOiBzdHJpbmcsIGV4cGlyYXRpb24/OiBzdHJpbmcpOiBQcm9taXNlPExpdmVPcHRpb25zQ2hhaW4gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBub3csIHJldHVybiBudWxsIHRvIHVzZSBlbmhhbmNlZCBtb2NrIGRhdGFcbiAgICAgIC8vIFlhaG9vIEZpbmFuY2Ugb3B0aW9ucyBBUEkgaGFzIGNvbXBsZXggc3RydWN0dXJlIHRoYXQgcmVxdWlyZXMgbW9yZSBzZXR1cFxuICAgICAgY29uc29sZS5sb2coYFtsaXZlLWRhdGFdIFlhaG9vIG9wdGlvbnMgY2hhaW4gbm90IGltcGxlbWVudGVkIHlldCBmb3IgJHtzeW1ib2x9LCB1c2luZyBlbmhhbmNlZCBtb2NrIGRhdGFgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdZYWhvbyBvcHRpb25zIGNoYWluIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG5cblxuICAvLyBZYWhvbyBGaW5hbmNlIGVhcm5pbmdzIGltcGxlbWVudGF0aW9uIChzaW1wbGlmaWVkKVxuICBwcml2YXRlIGFzeW5jIGZldGNoWWFob29FYXJuaW5ncyhzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBub3csIHJldHVybiBudWxsIHRvIHVzZSBlbmhhbmNlZCBtb2NrIGRhdGFcbiAgICAgIC8vIFlhaG9vIEZpbmFuY2UgZWFybmluZ3MgQVBJIHJlcXVpcmVzIG1vcmUgY29tcGxleCBzZXR1cFxuICAgICAgY29uc29sZS5sb2coYFtsaXZlLWRhdGFdIFlhaG9vIGVhcm5pbmdzIG5vdCBpbXBsZW1lbnRlZCB5ZXQgZm9yICR7c3ltYm9sfSwgdXNpbmcgZW5oYW5jZWQgbW9jayBkYXRhYCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignWWFob28gZWFybmluZ3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvY2VzcyBZYWhvbyBGaW5hbmNlIGVhcm5pbmdzIGRhdGFcbiAgcHJpdmF0ZSBwcm9jZXNzWWFob29FYXJuaW5ncyhzeW1ib2w6IHN0cmluZywgeWFob29EYXRhOiBhbnkpOiBMaXZlRWFybmluZ3NEYXRhIHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICgheWFob29EYXRhKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gRXh0cmFjdCBlYXJuaW5ncyBkYXRhIGZyb20gWWFob28gRmluYW5jZSByZXNwb25zZVxuICAgICAgY29uc3QgY2FsZW5kYXJFdmVudHMgPSB5YWhvb0RhdGEuY2FsZW5kYXJFdmVudHM7XG4gICAgICBjb25zdCBlYXJuaW5nc0hpc3RvcnkgPSB5YWhvb0RhdGEuZWFybmluZ3NIaXN0b3J5O1xuXG4gICAgICAvLyBOZXh0IGVhcm5pbmdzIGRhdGVcbiAgICAgIGxldCBuZXh0RWFybmluZ3NEYXRlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICBsZXQgbmV4dEVhcm5pbmdzVGltZTogJ0JNTycgfCAnQU1DJyB8ICdVTktOT1dOJyA9ICdVTktOT1dOJztcblxuICAgICAgaWYgKGNhbGVuZGFyRXZlbnRzPy5lYXJuaW5ncz8uWzBdKSB7XG4gICAgICAgIG5leHRFYXJuaW5nc0RhdGUgPSBjYWxlbmRhckV2ZW50cy5lYXJuaW5nc1swXS5kYXRlO1xuICAgICAgICAvLyBZYWhvbyBkb2Vzbid0IHByb3ZpZGUgdGltaW5nLCBzbyB3ZSdsbCBlc3RpbWF0ZVxuICAgICAgICBuZXh0RWFybmluZ3NUaW1lID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/ICdCTU8nIDogJ0FNQyc7XG4gICAgICB9XG5cbiAgICAgIC8vIEhpc3RvcmljYWwgZWFybmluZ3NcbiAgICAgIGNvbnN0IGhpc3RvcmljYWxFYXJuaW5nczogYW55W10gPSBbXTtcbiAgICAgIGlmIChlYXJuaW5nc0hpc3Rvcnk/Lmhpc3RvcnkpIHtcbiAgICAgICAgZm9yIChjb25zdCBlYXJuaW5nIG9mIGVhcm5pbmdzSGlzdG9yeS5oaXN0b3J5LnNsaWNlKDAsIDgpKSB7XG4gICAgICAgICAgaGlzdG9yaWNhbEVhcm5pbmdzLnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogZWFybmluZy5xdWFydGVyPy5mbXQgfHwgJycsXG4gICAgICAgICAgICBhY3R1YWxFUFM6IGVhcm5pbmcuZXBzQWN0dWFsPy5yYXcsXG4gICAgICAgICAgICBlc3RpbWF0ZWRFUFM6IGVhcm5pbmcuZXBzRXN0aW1hdGU/LnJhdyxcbiAgICAgICAgICAgIHN1cnByaXNlOiBlYXJuaW5nLmVwc0RpZmZlcmVuY2U/LnJhdyxcbiAgICAgICAgICAgIHByaWNlTW92ZUJlZm9yZTogMCxcbiAgICAgICAgICAgIHByaWNlTW92ZUFmdGVyOiAwLFxuICAgICAgICAgICAgcHJpY2VNb3ZlUGVyY2VudDogTWF0aC5yYW5kb20oKSAqIDEwIC0gNSAvLyBNb2NrIHByaWNlIG1vdmVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhdGUgc3RhdHNcbiAgICAgIGNvbnN0IGF2Z01vdmUgPSBNYXRoLnJhbmRvbSgpICogOCArIDI7IC8vIDItMTAlXG4gICAgICBjb25zdCBiZWF0Q291bnQgPSBoaXN0b3JpY2FsRWFybmluZ3MuZmlsdGVyKGUgPT4gKGUuc3VycHJpc2UgfHwgMCkgPiAwKS5sZW5ndGg7XG4gICAgICBjb25zdCBiZWF0UmF0ZSA9IGhpc3RvcmljYWxFYXJuaW5ncy5sZW5ndGggPiAwID8gYmVhdENvdW50IC8gaGlzdG9yaWNhbEVhcm5pbmdzLmxlbmd0aCA6IDAuNjtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ltYm9sLFxuICAgICAgICBuZXh0RWFybmluZ3NEYXRlLFxuICAgICAgICBuZXh0RWFybmluZ3NUaW1lLFxuICAgICAgICBoaXN0b3JpY2FsRWFybmluZ3MsXG4gICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgYXZnTW92ZSxcbiAgICAgICAgICBhdmdBYnNNb3ZlOiBhdmdNb3ZlLFxuICAgICAgICAgIGJlYXRSYXRlLFxuICAgICAgICAgIGF2Z0JlYXQ6IGhpc3RvcmljYWxFYXJuaW5ncy5sZW5ndGggPiAwID8gXG4gICAgICAgICAgICBoaXN0b3JpY2FsRWFybmluZ3MucmVkdWNlKChzdW0sIGUpID0+IHN1bSArIChlLnN1cnByaXNlIHx8IDApLCAwKSAvIGhpc3RvcmljYWxFYXJuaW5ncy5sZW5ndGggOiAwXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgWWFob28gZWFybmluZ3MgZGF0YTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgZXhwZWN0ZWQgbW92ZSBmcm9tIG9wdGlvbnMgZGF0YVxuICBwcml2YXRlIGNhbGN1bGF0ZUV4cGVjdGVkTW92ZShzeW1ib2w6IHN0cmluZywgcXVvdGU6IGFueSwgb3B0aW9uc0RhdGE6IExpdmVPcHRpb25zQ2hhaW4pOiBMaXZlRXhwZWN0ZWRNb3ZlRGF0YSB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1bmRlcmx5aW5nUHJpY2UgPSBxdW90ZS5yZWd1bGFyTWFya2V0UHJpY2UgfHwgb3B0aW9uc0RhdGEudW5kZXJseWluZ1ByaWNlO1xuICAgICAgXG4gICAgICAvLyBGaW5kIEFUTSBvcHRpb25zIGZvciBzdHJhZGRsZSBjYWxjdWxhdGlvblxuICAgICAgY29uc3QgYXRtU3RyaWtlID0gb3B0aW9uc0RhdGEuc3RyaWtlcy5yZWR1Y2UoKGNsb3Nlc3QsIHN0cmlrZSkgPT4gXG4gICAgICAgIE1hdGguYWJzKHN0cmlrZS5zdHJpa2UgLSB1bmRlcmx5aW5nUHJpY2UpIDwgTWF0aC5hYnMoY2xvc2VzdC5zdHJpa2UgLSB1bmRlcmx5aW5nUHJpY2UpID8gc3RyaWtlIDogY2xvc2VzdFxuICAgICAgKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHN0cmFkZGxlIHByaWNlIGFuZCBtb3ZlXG4gICAgICBjb25zdCBzdHJhZGRsZVByaWNlID0gKGF0bVN0cmlrZS5jYWxsLmxhc3QgKyBhdG1TdHJpa2UucHV0Lmxhc3QpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGF0bVN0cmlrZS5jYWxsLmJpZCArIGF0bVN0cmlrZS5jYWxsLmFzaykgLyAyICsgKGF0bVN0cmlrZS5wdXQuYmlkICsgYXRtU3RyaWtlLnB1dC5hc2spIC8gMjtcbiAgICAgIGNvbnN0IHN0cmFkZGxlTW92ZSA9IHN0cmFkZGxlUHJpY2U7XG4gICAgICBjb25zdCBzdHJhZGRsZU1vdmVQZXJjZW50ID0gKHN0cmFkZGxlTW92ZSAvIHVuZGVybHlpbmdQcmljZSkgKiAxMDA7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIElWXG4gICAgICBjb25zdCBhbGxJVnMgPSBvcHRpb25zRGF0YS5zdHJpa2VzLmZsYXRNYXAocyA9PiBbcy5jYWxsLmltcGxpZWRWb2xhdGlsaXR5LCBzLnB1dC5pbXBsaWVkVm9sYXRpbGl0eV0pXG4gICAgICAgIC5maWx0ZXIoaXYgPT4gaXYgPiAwKTtcbiAgICAgIGNvbnN0IGF2Z0lWID0gYWxsSVZzLmxlbmd0aCA+IDAgPyBhbGxJVnMucmVkdWNlKChzdW0sIGl2KSA9PiBzdW0gKyBpdiwgMCkgLyBhbGxJVnMubGVuZ3RoIDogMC4zO1xuXG4gICAgICAvLyBNb2NrIElWIHJhbmsvcGVyY2VudGlsZSAod291bGQgbmVlZCBoaXN0b3JpY2FsIElWIGRhdGEpXG4gICAgICBjb25zdCBpdlJhbmsgPSBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgY29uc3QgaXZQZXJjZW50aWxlID0gTWF0aC5yYW5kb20oKSAqIDEwMDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ltYm9sLFxuICAgICAgICB1bmRlcmx5aW5nUHJpY2UsXG4gICAgICAgIGltcGxpZWRWb2xhdGlsaXR5OiBhdmdJVixcbiAgICAgICAgdGltZVRvRXhwaXJ5OiAzMCwgLy8gTW9jayAtIHdvdWxkIGNhbGN1bGF0ZSBmcm9tIGV4cGlyYXRpb25cbiAgICAgICAgc3RyYWRkbGU6IHtcbiAgICAgICAgICBwcmljZTogc3RyYWRkbGVQcmljZSxcbiAgICAgICAgICBtb3ZlOiBzdHJhZGRsZU1vdmUsXG4gICAgICAgICAgbW92ZVBlcmNlbnQ6IHN0cmFkZGxlTW92ZVBlcmNlbnRcbiAgICAgICAgfSxcbiAgICAgICAgaXY6IHtcbiAgICAgICAgICByYW5rOiBpdlJhbmssXG4gICAgICAgICAgcGVyY2VudGlsZTogaXZQZXJjZW50aWxlLFxuICAgICAgICAgIGN1cnJlbnQ6IGF2Z0lWICogMTAwLFxuICAgICAgICAgIGhpZ2g1MldlZWs6IGF2Z0lWICogMTUwLFxuICAgICAgICAgIGxvdzUyV2VlazogYXZnSVYgKiA1MFxuICAgICAgICB9LFxuICAgICAgICBzdW1tYXJ5OiB7XG4gICAgICAgICAgZGFpbHk6IHN0cmFkZGxlTW92ZVBlcmNlbnQgLyAzMCwgLy8gUm91Z2ggZGFpbHkgbW92ZVxuICAgICAgICAgIHdlZWtseTogc3RyYWRkbGVNb3ZlUGVyY2VudCAvIDQsICAvLyBSb3VnaCB3ZWVrbHkgbW92ZVxuICAgICAgICAgIG1vbnRobHk6IHN0cmFkZGxlTW92ZVBlcmNlbnQgICAgICAgLy8gTW9udGhseSBtb3ZlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIGV4cGVjdGVkIG1vdmU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBsaXZlRGF0YVNlcnZpY2UgPSBMaXZlRGF0YVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGVhc3kgYWNjZXNzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hMaXZlT3B0aW9uc0NoYWluKHN5bWJvbDogc3RyaW5nLCBleHBpcmF0aW9uPzogc3RyaW5nKTogUHJvbWlzZTxMaXZlT3B0aW9uc0NoYWluIHwgbnVsbD4ge1xuICByZXR1cm4gYXdhaXQgbGl2ZURhdGFTZXJ2aWNlLmZldGNoTGl2ZU9wdGlvbnNDaGFpbihzeW1ib2wsIGV4cGlyYXRpb24pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hMaXZlRWFybmluZ3Moc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPExpdmVFYXJuaW5nc0RhdGEgfCBudWxsPiB7XG4gIHJldHVybiBhd2FpdCBsaXZlRGF0YVNlcnZpY2UuZmV0Y2hMaXZlRWFybmluZ3Moc3ltYm9sKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoTGl2ZUV4cGVjdGVkTW92ZShzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8TGl2ZUV4cGVjdGVkTW92ZURhdGEgfCBudWxsPiB7XG4gIHJldHVybiBhd2FpdCBsaXZlRGF0YVNlcnZpY2UuZmV0Y2hMaXZlRXhwZWN0ZWRNb3ZlKHN5bWJvbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xpdmVEYXRhQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gbGl2ZURhdGFTZXJ2aWNlLmlzTGl2ZURhdGFBdmFpbGFibGUoKTtcbn1cbiJdLCJuYW1lcyI6WyJ5YWhvb0ZpbmFuY2UiLCJMaXZlRGF0YVNlcnZpY2UiLCJmaW5uaHViQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkZJTk5IVUJfQVBJX0tFWSIsImFscGhhVmFudGFnZUFwaUtleSIsIkFMUEhBX1ZBTlRBR0VfQVBJX0tFWSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJpc0xpdmVEYXRhQXZhaWxhYmxlIiwiZmV0Y2hMaXZlT3B0aW9uc0NoYWluIiwic3ltYm9sIiwiZXhwaXJhdGlvbiIsImZldGNoWWFob29PcHRpb25zQ2hhaW4iLCJlcnJvciIsImNvbnNvbGUiLCJmZXRjaExpdmVFYXJuaW5ncyIsInlhaG9vRGF0YSIsImZldGNoWWFob29FYXJuaW5ncyIsInByb2Nlc3NZYWhvb0Vhcm5pbmdzIiwiZmV0Y2hMaXZlRXhwZWN0ZWRNb3ZlIiwicXVvdGUiLCJvcHRpb25zRGF0YSIsIlByb21pc2UiLCJhbGwiLCJjYWxjdWxhdGVFeHBlY3RlZE1vdmUiLCJsb2ciLCJjYWxlbmRhckV2ZW50cyIsImVhcm5pbmdzSGlzdG9yeSIsIm5leHRFYXJuaW5nc0RhdGUiLCJuZXh0RWFybmluZ3NUaW1lIiwiZWFybmluZ3MiLCJkYXRlIiwiTWF0aCIsInJhbmRvbSIsImhpc3RvcmljYWxFYXJuaW5ncyIsImhpc3RvcnkiLCJlYXJuaW5nIiwic2xpY2UiLCJwdXNoIiwicXVhcnRlciIsImZtdCIsImFjdHVhbEVQUyIsImVwc0FjdHVhbCIsInJhdyIsImVzdGltYXRlZEVQUyIsImVwc0VzdGltYXRlIiwic3VycHJpc2UiLCJlcHNEaWZmZXJlbmNlIiwicHJpY2VNb3ZlQmVmb3JlIiwicHJpY2VNb3ZlQWZ0ZXIiLCJwcmljZU1vdmVQZXJjZW50IiwiYXZnTW92ZSIsImJlYXRDb3VudCIsImZpbHRlciIsImUiLCJsZW5ndGgiLCJiZWF0UmF0ZSIsInN0YXRzIiwiYXZnQWJzTW92ZSIsImF2Z0JlYXQiLCJyZWR1Y2UiLCJzdW0iLCJ1bmRlcmx5aW5nUHJpY2UiLCJyZWd1bGFyTWFya2V0UHJpY2UiLCJhdG1TdHJpa2UiLCJzdHJpa2VzIiwiY2xvc2VzdCIsInN0cmlrZSIsImFicyIsInN0cmFkZGxlUHJpY2UiLCJjYWxsIiwibGFzdCIsInB1dCIsImJpZCIsImFzayIsInN0cmFkZGxlTW92ZSIsInN0cmFkZGxlTW92ZVBlcmNlbnQiLCJhbGxJVnMiLCJmbGF0TWFwIiwicyIsImltcGxpZWRWb2xhdGlsaXR5IiwiaXYiLCJhdmdJViIsIml2UmFuayIsIml2UGVyY2VudGlsZSIsInRpbWVUb0V4cGlyeSIsInN0cmFkZGxlIiwicHJpY2UiLCJtb3ZlIiwibW92ZVBlcmNlbnQiLCJyYW5rIiwicGVyY2VudGlsZSIsImN1cnJlbnQiLCJoaWdoNTJXZWVrIiwibG93NTJXZWVrIiwic3VtbWFyeSIsImRhaWx5Iiwid2Vla2x5IiwibW9udGhseSIsImxpdmVEYXRhU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/services/liveDataService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@sinclair","vendor-chunks/yahoo-finance2","vendor-chunks/psl","vendor-chunks/tough-cookie","vendor-chunks/url-parse","vendor-chunks/punycode","vendor-chunks/querystringify","vendor-chunks/universalify","vendor-chunks/requires-port","vendor-chunks/zod","vendor-chunks/@upstash","vendor-chunks/lru-cache","vendor-chunks/uncrypto"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Foptions%2Froute&page=%2Fapi%2Foptions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Foptions%2Froute.ts&appDir=%2FUsers%2Fken%2FDesktop%2Fquantiv%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fken%2FDesktop%2Fquantiv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();